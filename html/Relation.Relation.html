<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
><head
  ><title
    >Relation.Relation</title
    ><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"
     /><meta http-equiv="Content-Style-Type" content="text/css"
     /><link href="Agda.css" rel="stylesheet" type="text/css"
     /></head
  ><body
  ><pre
    ><a name="1" class="Comment"
      >%include lhs2TeX.fmt
\long\def\ignore#1{}

\begin{document}

\section{Reflexive and Transitve Clousure of a Relation}

\ignore{
</a
      ><a name="129"
      >\begin{code}
</a
      ><a name="142" class="Keyword"
      >open</a
      ><a name="146"
      > </a
      ><a name="147" class="Keyword"
      >import</a
      ><a name="153"
      > </a
      ><a name="154" href="Level.html#1" class="Module"
      >Level</a
      ><a name="159"
      > </a
      ><a name="160" class="Keyword"
      >hiding</a
      ><a name="166"
      > </a
      ><a name="167" class="Symbol"
      >(</a
      ><a name="168" href="Agda.Primitive.html#609" class="Primitive"
      >zero</a
      ><a name="172" class="Symbol"
      >)</a
      ><a name="173"
      >
</a
      ><a name="174" class="Keyword"
      >module</a
      ><a name="180"
      > </a
      ><a name="181" href="Relation.Relation.html#1" class="Module"
      >Relation.Relation</a
      ><a name="198"
      > </a
      ><a name="199" class="Symbol"
      >{</a
      ><a name="200" href="Relation.Relation.html#200" class="Bound"
      >l</a
      ><a name="201"
      > </a
      ><a name="202" class="Symbol"
      >:</a
      ><a name="203"
      > </a
      ><a name="204" href="Agda.Primitive.html#408" class="Postulate"
      >Level</a
      ><a name="209" class="Symbol"
      >}</a
      ><a name="210"
      > </a
      ><a name="211" class="Symbol"
      >(</a
      ><a name="212" href="Relation.Relation.html#212" class="Bound"
      >A</a
      ><a name="213"
      > </a
      ><a name="214" class="Symbol"
      >:</a
      ><a name="215"
      > </a
      ><a name="216" class="PrimitiveType"
      >Set</a
      ><a name="219"
      > </a
      ><a name="220" href="Relation.Relation.html#200" class="Bound"
      >l</a
      ><a name="221" class="Symbol"
      >)</a
      ><a name="222"
      > </a
      ><a name="223" class="Keyword"
      >where</a
      ><a name="228"
      >  

  </a
      ><a name="234" class="Keyword"
      >open</a
      ><a name="238"
      > </a
      ><a name="239" class="Keyword"
      >import</a
      ><a name="245"
      > </a
      ><a name="246" href="Relation.Nullary.html#1" class="Module"
      >Relation.Nullary</a
      ><a name="262"
      >
  </a
      ><a name="265" class="Keyword"
      >import</a
      ><a name="271"
      > </a
      ><a name="272" href="Relation.Binary.html#1" class="Module"
      >Relation.Binary</a
      ><a name="287"
      > </a
      ><a name="288" class="Symbol"
      >as</a
      ><a name="290"
      > </a
      ><a name="291" class="Module"
      >RB</a
      ><a name="293"
      >
  </a
      ><a name="296" class="Keyword"
      >import</a
      ><a name="302"
      > </a
      ><a name="303" href="Relation.Unary.html#1" class="Module"
      >Relation.Unary</a
      ><a name="317"
      > </a
      ><a name="318" class="Symbol"
      >as</a
      ><a name="320"
      > </a
      ><a name="321" class="Module"
      >RU</a
      ><a name="323"
      >
  </a
      ><a name="326" class="Keyword"
      >open</a
      ><a name="330"
      > </a
      ><a name="331" class="Keyword"
      >import</a
      ><a name="337"
      > </a
      ><a name="338" href="Data.Product.html#1" class="Module"
      >Data.Product</a
      ><a name="350"
      >
  </a
      ><a name="353" class="Keyword"
      >open</a
      ><a name="357"
      > </a
      ><a name="358" class="Keyword"
      >import</a
      ><a name="364"
      > </a
      ><a name="365" href="Data.Sum.html#1" class="Module"
      >Data.Sum</a
      ><a name="373"
      >
  </a
      ><a name="376" class="Keyword"
      >open</a
      ><a name="380"
      > </a
      ><a name="381" class="Keyword"
      >import</a
      ><a name="387"
      > </a
      ><a name="388" href="Relation.Binary.PropositionalEquality.html#1" class="Module"
      >Relation.Binary.PropositionalEquality</a
      ><a name="425"
      > </a
      ><a name="426" class="Symbol"
      >as</a
      ><a name="428"
      > </a
      ><a name="429" class="Module"
      >PropEq</a
      ><a name="435"
      > </a
      ><a name="436" class="Keyword"
      >renaming</a
      ><a name="444"
      > </a
      ><a name="445" class="Symbol"
      >(</a
      ><a name="446" href="Relation.Binary.PropositionalEquality.html#5124" class="InductiveConstructor Operator"
      >[_]</a
      ><a name="449"
      > </a
      ><a name="450" class="Symbol"
      >to</a
      ><a name="452"
      > </a
      ><a name="453" href="Relation.Binary.PropositionalEquality.html#5124" class="InductiveConstructor Operator"
      >[_]&#7522;</a
      ><a name="457" class="Symbol"
      >)</a
      ><a name="458"
      > </a
      ><a name="459" class="Keyword"
      >hiding</a
      ><a name="465"
      > </a
      ><a name="466" class="Symbol"
      >(</a
      ><a name="467" href="Relation.Binary.PropositionalEquality.Core.html#632" class="Function"
      >trans</a
      ><a name="472" class="Symbol"
      >)</a
      ><a name="473"
      >
\end{code}
</a
      ><a name="485" class="Comment"
      >}

\ignore{
</a
      ><a name="497"
      >\begin{code}
  </a
      ><a name="512" href="Relation.Relation.html#512" class="Function"
      >Rel</a
      ><a name="515"
      > </a
      ><a name="516" class="Symbol"
      >:</a
      ><a name="517"
      > </a
      ><a name="518" class="PrimitiveType"
      >Set</a
      ><a name="521"
      > </a
      ><a name="522" class="Symbol"
      >(</a
      ><a name="523" href="Agda.Primitive.html#625" class="Primitive"
      >suc</a
      ><a name="526"
      > </a
      ><a name="527" href="Relation.Relation.html#200" class="Bound"
      >l</a
      ><a name="528" class="Symbol"
      >)</a
      ><a name="529"
      >
  </a
      ><a name="532" href="Relation.Relation.html#512" class="Function"
      >Rel</a
      ><a name="535"
      > </a
      ><a name="536" class="Symbol"
      >=</a
      ><a name="537"
      > </a
      ><a name="538" href="Relation.Binary.Core.html#740" class="Function"
      >RB.Rel</a
      ><a name="544"
      > </a
      ><a name="545" href="Relation.Relation.html#212" class="Bound"
      >A</a
      ><a name="546"
      > </a
      ><a name="547" href="Relation.Relation.html#200" class="Bound"
      >l</a
      ><a name="548"
      > 
\end{code}
</a
      ><a name="561" class="Comment"
      >
</a
      ><a name="562"
      >\begin{code}
  </a
      ><a name="577" href="Relation.Relation.html#577" class="Function"
      >Pred</a
      ><a name="581"
      > </a
      ><a name="582" class="Symbol"
      >:</a
      ><a name="583"
      > </a
      ><a name="584" class="PrimitiveType"
      >Set</a
      ><a name="587"
      > </a
      ><a name="588" class="Symbol"
      >(</a
      ><a name="589" href="Agda.Primitive.html#625" class="Primitive"
      >suc</a
      ><a name="592"
      > </a
      ><a name="593" href="Relation.Relation.html#200" class="Bound"
      >l</a
      ><a name="594" class="Symbol"
      >)</a
      ><a name="595"
      >
  </a
      ><a name="598" href="Relation.Relation.html#577" class="Function"
      >Pred</a
      ><a name="602"
      > </a
      ><a name="603" class="Symbol"
      >=</a
      ><a name="604"
      > </a
      ><a name="605" href="Relation.Unary.html#541" class="Function"
      >RU.Pred</a
      ><a name="612"
      > </a
      ><a name="613" href="Relation.Relation.html#212" class="Bound"
      >A</a
      ><a name="614"
      > </a
      ><a name="615" href="Relation.Relation.html#200" class="Bound"
      >l</a
      ><a name="616"
      >

  </a
      ><a name="620" class="Keyword"
      >infix</a
      ><a name="625"
      > </a
      ><a name="626" class="Number"
      >2</a
      ><a name="627"
      > </a
      ><a name="628" href="Relation.Relation.html#645" class="Function Operator"
      >_preserved-by_</a
      ><a name="642"
      >
  </a
      ><a name="645" href="Relation.Relation.html#645" class="Function Operator"
      >_preserved-by_</a
      ><a name="659"
      > </a
      ><a name="660" class="Symbol"
      >:</a
      ><a name="661"
      > </a
      ><a name="662" href="Relation.Relation.html#577" class="Function"
      >Pred</a
      ><a name="666"
      > </a
      ><a name="667" class="Symbol"
      >&#8594;</a
      ><a name="668"
      > </a
      ><a name="669" href="Relation.Relation.html#512" class="Function"
      >Rel</a
      ><a name="672"
      > </a
      ><a name="673" class="Symbol"
      >&#8594;</a
      ><a name="674"
      > </a
      ><a name="675" class="PrimitiveType"
      >Set</a
      ><a name="678"
      > </a
      ><a name="679" href="Relation.Relation.html#200" class="Bound"
      >l</a
      ><a name="680"
      >
  </a
      ><a name="683" href="Relation.Relation.html#683" class="Bound"
      >P</a
      ><a name="684"
      > </a
      ><a name="685" href="Relation.Relation.html#645" class="Function Operator"
      >preserved-by</a
      ><a name="697"
      > </a
      ><a name="698" href="Relation.Relation.html#698" class="Bound"
      >R</a
      ><a name="699"
      > </a
      ><a name="700" class="Symbol"
      >=</a
      ><a name="701"
      > </a
      ><a name="702" class="Symbol"
      >&#8704;</a
      ><a name="703"
      > </a
      ><a name="704" class="Symbol"
      >{</a
      ><a name="705" href="Relation.Relation.html#705" class="Bound"
      >M</a
      ><a name="706"
      > </a
      ><a name="707" href="Relation.Relation.html#707" class="Bound"
      >N</a
      ><a name="708"
      > </a
      ><a name="709" class="Symbol"
      >:</a
      ><a name="710"
      > </a
      ><a name="711" href="Relation.Relation.html#212" class="Bound"
      >A</a
      ><a name="712" class="Symbol"
      >}</a
      ><a name="713"
      > </a
      ><a name="714" class="Symbol"
      >&#8594;</a
      ><a name="715"
      > </a
      ><a name="716" href="Relation.Relation.html#683" class="Bound"
      >P</a
      ><a name="717"
      > </a
      ><a name="718" href="Relation.Relation.html#705" class="Bound"
      >M</a
      ><a name="719"
      > </a
      ><a name="720" class="Symbol"
      >&#8594;</a
      ><a name="721"
      > </a
      ><a name="722" href="Relation.Relation.html#698" class="Bound"
      >R</a
      ><a name="723"
      > </a
      ><a name="724" href="Relation.Relation.html#705" class="Bound"
      >M</a
      ><a name="725"
      > </a
      ><a name="726" href="Relation.Relation.html#707" class="Bound"
      >N</a
      ><a name="727"
      > </a
      ><a name="728" class="Symbol"
      >&#8594;</a
      ><a name="729"
      > </a
      ><a name="730" href="Relation.Relation.html#683" class="Bound"
      >P</a
      ><a name="731"
      > </a
      ><a name="732" href="Relation.Relation.html#707" class="Bound"
      >N</a
      ><a name="733"
      >
\end{code}
</a
      ><a name="745" class="Comment"
      >

The dual $R^{\mathit{op}}$ of a relation $R$ is defined by swapping the pairs.

</a
      ><a name="827"
      >\begin{code}
  </a
      ><a name="842" href="Relation.Relation.html#842" class="Function"
      >dual</a
      ><a name="846"
      > </a
      ><a name="847" class="Symbol"
      >:</a
      ><a name="848"
      > </a
      ><a name="849" href="Relation.Relation.html#512" class="Function"
      >Rel</a
      ><a name="852"
      > </a
      ><a name="853" class="Symbol"
      >&#8594;</a
      ><a name="854"
      > </a
      ><a name="855" href="Relation.Relation.html#512" class="Function"
      >Rel</a
      ><a name="858"
      >
  </a
      ><a name="861" href="Relation.Relation.html#842" class="Function"
      >dual</a
      ><a name="865"
      > </a
      ><a name="866" href="Relation.Relation.html#866" class="Bound"
      >R</a
      ><a name="867"
      > </a
      ><a name="868" href="Relation.Relation.html#868" class="Bound"
      >m</a
      ><a name="869"
      > </a
      ><a name="870" href="Relation.Relation.html#870" class="Bound"
      >n</a
      ><a name="871"
      > </a
      ><a name="872" class="Symbol"
      >=</a
      ><a name="873"
      > </a
      ><a name="874" href="Relation.Relation.html#866" class="Bound"
      >R</a
      ><a name="875"
      > </a
      ><a name="876" href="Relation.Relation.html#870" class="Bound"
      >n</a
      ><a name="877"
      > </a
      ><a name="878" href="Relation.Relation.html#868" class="Bound"
      >m</a
      ><a name="879"
      >

  </a
      ><a name="883" class="Comment"
      >-- dual-idem : (R : Rel) &#8594; dual (dual R) &#8801; R</a
      ><a name="927"
      >
  </a
      ><a name="930" class="Comment"
      >-- dual-idem R = {! refl!}</a
      ><a name="956"
      >
\end{code}
</a
      ><a name="968" class="Comment"
      >
Given two relations $R$ and $S$ over $A$ we can take their union.

</a
      ><a name="1036"
      >\begin{code}
  </a
      ><a name="1051" class="Keyword"
      >infix</a
      ><a name="1056"
      > </a
      ><a name="1057" class="Number"
      >5</a
      ><a name="1058"
      > </a
      ><a name="1059" href="Relation.Relation.html#1068" class="Function Operator"
      >_&#8746;_</a
      ><a name="1062"
      >   
  </a
      ><a name="1068" href="Relation.Relation.html#1068" class="Function Operator"
      >_&#8746;_</a
      ><a name="1071"
      >  </a
      ><a name="1073" class="Symbol"
      >:</a
      ><a name="1074"
      > </a
      ><a name="1075" class="Symbol"
      >(</a
      ><a name="1076" href="Relation.Relation.html#1076" class="Bound"
      >R</a
      ><a name="1077"
      > </a
      ><a name="1078" href="Relation.Relation.html#1078" class="Bound"
      >S</a
      ><a name="1079"
      > </a
      ><a name="1080" class="Symbol"
      >:</a
      ><a name="1081"
      > </a
      ><a name="1082" href="Relation.Relation.html#512" class="Function"
      >Rel</a
      ><a name="1085" class="Symbol"
      >)</a
      ><a name="1086"
      > </a
      ><a name="1087" class="Symbol"
      >&#8594;</a
      ><a name="1088"
      > </a
      ><a name="1089" href="Relation.Relation.html#512" class="Function"
      >Rel</a
      ><a name="1092"
      > 
  </a
      ><a name="1096" href="Relation.Relation.html#1068" class="Function Operator"
      >_&#8746;_</a
      ><a name="1099"
      > </a
      ><a name="1100" href="Relation.Relation.html#1100" class="Bound"
      >R</a
      ><a name="1101"
      > </a
      ><a name="1102" href="Relation.Relation.html#1102" class="Bound"
      >S</a
      ><a name="1103"
      > </a
      ><a name="1104" href="Relation.Relation.html#1104" class="Bound"
      >a</a
      ><a name="1105"
      > </a
      ><a name="1106" href="Relation.Relation.html#1106" class="Bound"
      >b</a
      ><a name="1107"
      > </a
      ><a name="1108" class="Symbol"
      >=</a
      ><a name="1109"
      > </a
      ><a name="1110" href="Relation.Relation.html#1100" class="Bound"
      >R</a
      ><a name="1111"
      > </a
      ><a name="1112" href="Relation.Relation.html#1104" class="Bound"
      >a</a
      ><a name="1113"
      > </a
      ><a name="1114" href="Relation.Relation.html#1106" class="Bound"
      >b</a
      ><a name="1115"
      > </a
      ><a name="1116" href="Data.Sum.html#433" class="Datatype Operator"
      >&#8846;</a
      ><a name="1117"
      > </a
      ><a name="1118" href="Relation.Relation.html#1102" class="Bound"
      >S</a
      ><a name="1119"
      > </a
      ><a name="1120" href="Relation.Relation.html#1104" class="Bound"
      >a</a
      ><a name="1121"
      > </a
      ><a name="1122" href="Relation.Relation.html#1106" class="Bound"
      >b</a
      ><a name="1123"
      >

  </a
      ><a name="1127" class="Keyword"
      >infix</a
      ><a name="1132"
      > </a
      ><a name="1133" class="Number"
      >5</a
      ><a name="1134"
      > </a
      ><a name="1135" href="Relation.Relation.html#1144" class="Function Operator"
      >_&#8728;_</a
      ><a name="1138"
      >   
  </a
      ><a name="1144" href="Relation.Relation.html#1144" class="Function Operator"
      >_&#8728;_</a
      ><a name="1147"
      >  </a
      ><a name="1149" class="Symbol"
      >:</a
      ><a name="1150"
      > </a
      ><a name="1151" class="Symbol"
      >(</a
      ><a name="1152" href="Relation.Relation.html#1152" class="Bound"
      >R</a
      ><a name="1153"
      > </a
      ><a name="1154" href="Relation.Relation.html#1154" class="Bound"
      >S</a
      ><a name="1155"
      > </a
      ><a name="1156" class="Symbol"
      >:</a
      ><a name="1157"
      > </a
      ><a name="1158" href="Relation.Relation.html#512" class="Function"
      >Rel</a
      ><a name="1161" class="Symbol"
      >)</a
      ><a name="1162"
      > </a
      ><a name="1163" class="Symbol"
      >&#8594;</a
      ><a name="1164"
      > </a
      ><a name="1165" href="Relation.Relation.html#512" class="Function"
      >Rel</a
      ><a name="1168"
      > 
  </a
      ><a name="1172" href="Relation.Relation.html#1144" class="Function Operator"
      >_&#8728;_</a
      ><a name="1175"
      > </a
      ><a name="1176" href="Relation.Relation.html#1176" class="Bound"
      >R</a
      ><a name="1177"
      > </a
      ><a name="1178" href="Relation.Relation.html#1178" class="Bound"
      >S</a
      ><a name="1179"
      > </a
      ><a name="1180" href="Relation.Relation.html#1180" class="Bound"
      >a</a
      ><a name="1181"
      > </a
      ><a name="1182" href="Relation.Relation.html#1182" class="Bound"
      >b</a
      ><a name="1183"
      > </a
      ><a name="1184" class="Symbol"
      >=</a
      ><a name="1185"
      > </a
      ><a name="1186" href="Data.Product.html#823" class="Function"
      >&#8707;</a
      ><a name="1187"
      > </a
      ><a name="1188" class="Symbol"
      >(&#955;</a
      ><a name="1190"
      > </a
      ><a name="1191" href="Relation.Relation.html#1191" class="Bound"
      >c</a
      ><a name="1192"
      > </a
      ><a name="1193" class="Symbol"
      >&#8594;</a
      ><a name="1194"
      > </a
      ><a name="1195" href="Relation.Relation.html#1176" class="Bound"
      >R</a
      ><a name="1196"
      > </a
      ><a name="1197" href="Relation.Relation.html#1180" class="Bound"
      >a</a
      ><a name="1198"
      > </a
      ><a name="1199" href="Relation.Relation.html#1191" class="Bound"
      >c</a
      ><a name="1200"
      > </a
      ><a name="1201" href="Data.Product.html#1073" class="Function Operator"
      >&#215;</a
      ><a name="1202"
      > </a
      ><a name="1203" href="Relation.Relation.html#1178" class="Bound"
      >S</a
      ><a name="1204"
      > </a
      ><a name="1205" href="Relation.Relation.html#1191" class="Bound"
      >c</a
      ><a name="1206"
      > </a
      ><a name="1207" href="Relation.Relation.html#1182" class="Bound"
      >b</a
      ><a name="1208" class="Symbol"
      >)</a
      ><a name="1209"
      >
\end{code}
</a
      ><a name="1221" class="Comment"
      >
Binary relations can be pre-ordered by inclusion, $R$ is less than or
equal to $S$ when $a\,R\,b$ implies $a\,S\,b$; as usual we write $R
\subseteq S$. 

</a
      ><a name="1376"
      >\begin{code}
  </a
      ><a name="1391" href="Relation.Relation.html#1391" class="Function Operator"
      >_&#8838;_</a
      ><a name="1394"
      > </a
      ><a name="1395" class="Symbol"
      >:</a
      ><a name="1396"
      > </a
      ><a name="1397" href="Relation.Relation.html#512" class="Function"
      >Rel</a
      ><a name="1400"
      > </a
      ><a name="1401" class="Symbol"
      >&#8594;</a
      ><a name="1402"
      > </a
      ><a name="1403" href="Relation.Relation.html#512" class="Function"
      >Rel</a
      ><a name="1406"
      > </a
      ><a name="1407" class="Symbol"
      >&#8594;</a
      ><a name="1408"
      > </a
      ><a name="1409" class="PrimitiveType"
      >Set</a
      ><a name="1412"
      > </a
      ><a name="1413" href="Relation.Relation.html#200" class="Bound"
      >l</a
      ><a name="1414"
      >
  </a
      ><a name="1417" href="Relation.Relation.html#1417" class="Bound"
      >R</a
      ><a name="1418"
      > </a
      ><a name="1419" href="Relation.Relation.html#1391" class="Function Operator"
      >&#8838;</a
      ><a name="1420"
      > </a
      ><a name="1421" href="Relation.Relation.html#1421" class="Bound"
      >S</a
      ><a name="1422"
      > </a
      ><a name="1423" class="Symbol"
      >=</a
      ><a name="1424"
      > </a
      ><a name="1425" href="Relation.Binary.Core.html#1004" class="Function Operator"
      >RB._&#8658;_</a
      ><a name="1431"
      > </a
      ><a name="1432" href="Relation.Relation.html#1417" class="Bound"
      >R</a
      ><a name="1433"
      > </a
      ><a name="1434" href="Relation.Relation.html#1421" class="Bound"
      >S</a
      ><a name="1435"
      >

  </a
      ><a name="1439" href="Relation.Relation.html#1439" class="Function"
      >refl-&#8838;</a
      ><a name="1445"
      > </a
      ><a name="1446" class="Symbol"
      >:</a
      ><a name="1447"
      > </a
      ><a name="1448" class="Symbol"
      >{</a
      ><a name="1449" href="Relation.Relation.html#1449" class="Bound"
      >R</a
      ><a name="1450"
      > </a
      ><a name="1451" class="Symbol"
      >:</a
      ><a name="1452"
      > </a
      ><a name="1453" href="Relation.Relation.html#512" class="Function"
      >Rel</a
      ><a name="1456" class="Symbol"
      >}</a
      ><a name="1457"
      > </a
      ><a name="1458" class="Symbol"
      >&#8594;</a
      ><a name="1459"
      > </a
      ><a name="1460" href="Relation.Relation.html#1449" class="Bound"
      >R</a
      ><a name="1461"
      > </a
      ><a name="1462" href="Relation.Relation.html#1391" class="Function Operator"
      >&#8838;</a
      ><a name="1463"
      > </a
      ><a name="1464" href="Relation.Relation.html#1449" class="Bound"
      >R</a
      ><a name="1465"
      >
  </a
      ><a name="1468" href="Relation.Relation.html#1439" class="Function"
      >refl-&#8838;</a
      ><a name="1474"
      > </a
      ><a name="1475" href="Relation.Relation.html#1475" class="Bound"
      >aRb</a
      ><a name="1478"
      > </a
      ><a name="1479" class="Symbol"
      >=</a
      ><a name="1480"
      > </a
      ><a name="1481" href="Relation.Relation.html#1475" class="Bound"
      >aRb</a
      ><a name="1484"
      >

  </a
      ><a name="1488" href="Relation.Relation.html#1488" class="Function"
      >trans-&#8838;</a
      ><a name="1495"
      > </a
      ><a name="1496" class="Symbol"
      >:</a
      ><a name="1497"
      > </a
      ><a name="1498" class="Symbol"
      >{</a
      ><a name="1499" href="Relation.Relation.html#1499" class="Bound"
      >R</a
      ><a name="1500"
      > </a
      ><a name="1501" href="Relation.Relation.html#1501" class="Bound"
      >S</a
      ><a name="1502"
      > </a
      ><a name="1503" href="Relation.Relation.html#1503" class="Bound"
      >T</a
      ><a name="1504"
      > </a
      ><a name="1505" class="Symbol"
      >:</a
      ><a name="1506"
      > </a
      ><a name="1507" href="Relation.Relation.html#512" class="Function"
      >Rel</a
      ><a name="1510" class="Symbol"
      >}</a
      ><a name="1511"
      > </a
      ><a name="1512" class="Symbol"
      >&#8594;</a
      ><a name="1513"
      > </a
      ><a name="1514" href="Relation.Relation.html#1499" class="Bound"
      >R</a
      ><a name="1515"
      > </a
      ><a name="1516" href="Relation.Relation.html#1391" class="Function Operator"
      >&#8838;</a
      ><a name="1517"
      > </a
      ><a name="1518" href="Relation.Relation.html#1501" class="Bound"
      >S</a
      ><a name="1519"
      > </a
      ><a name="1520" class="Symbol"
      >&#8594;</a
      ><a name="1521"
      > </a
      ><a name="1522" href="Relation.Relation.html#1501" class="Bound"
      >S</a
      ><a name="1523"
      > </a
      ><a name="1524" href="Relation.Relation.html#1391" class="Function Operator"
      >&#8838;</a
      ><a name="1525"
      > </a
      ><a name="1526" href="Relation.Relation.html#1503" class="Bound"
      >T</a
      ><a name="1527"
      > </a
      ><a name="1528" class="Symbol"
      >&#8594;</a
      ><a name="1529"
      > </a
      ><a name="1530" href="Relation.Relation.html#1499" class="Bound"
      >R</a
      ><a name="1531"
      > </a
      ><a name="1532" href="Relation.Relation.html#1391" class="Function Operator"
      >&#8838;</a
      ><a name="1533"
      > </a
      ><a name="1534" href="Relation.Relation.html#1503" class="Bound"
      >T</a
      ><a name="1535"
      >
  </a
      ><a name="1538" href="Relation.Relation.html#1488" class="Function"
      >trans-&#8838;</a
      ><a name="1545"
      > </a
      ><a name="1546" href="Relation.Relation.html#1546" class="Bound"
      >R&#8838;S</a
      ><a name="1549"
      > </a
      ><a name="1550" href="Relation.Relation.html#1550" class="Bound"
      >S&#8838;T</a
      ><a name="1553"
      > </a
      ><a name="1554" href="Relation.Relation.html#1554" class="Bound"
      >aRb</a
      ><a name="1557"
      > </a
      ><a name="1558" class="Symbol"
      >=</a
      ><a name="1559"
      > </a
      ><a name="1560" href="Relation.Relation.html#1550" class="Bound"
      >S&#8838;T</a
      ><a name="1563"
      > </a
      ><a name="1564" class="Symbol"
      >(</a
      ><a name="1565" href="Relation.Relation.html#1546" class="Bound"
      >R&#8838;S</a
      ><a name="1568"
      > </a
      ><a name="1569" href="Relation.Relation.html#1554" class="Bound"
      >aRb</a
      ><a name="1572" class="Symbol"
      >)</a
      ><a name="1573"
      >
\end{code}
</a
      ><a name="1585" class="Comment"
      >}

The reflexive and transitive closure of a relation is more naturally
introduced by allowing more than one steps in the transitive clause.
Some immediate facts about the transitive closure of an operation is
that it is monotone and idempotent (besides these two properties one
asks that the closure of $R$ contains $R$, but this is immediate from
the definition). From these two properties we prove that $R \subseteq
\transclos S$ implies $\transclos R \subseteq \transclos S$
(alternatively one can proceed by induction on $a\,\transclos R\,b$); it is
straightforward to prove the other

</a
      ><a name="2176"
      >\begin{code}
  </a
      ><a name="2191" class="Keyword"
      >data</a
      ><a name="2195"
      > </a
      ><a name="2196" href="Relation.Relation.html#2196" class="Datatype"
      >star</a
      ><a name="2200"
      > </a
      ><a name="2201" class="Symbol"
      >(</a
      ><a name="2202" href="Relation.Relation.html#2202" class="Bound"
      >&#10239;</a
      ><a name="2203"
      > </a
      ><a name="2204" class="Symbol"
      >:</a
      ><a name="2205"
      > </a
      ><a name="2206" href="Relation.Relation.html#512" class="Function"
      >Rel</a
      ><a name="2209" class="Symbol"
      >)</a
      ><a name="2210"
      > </a
      ><a name="2211" class="Symbol"
      >:</a
      ><a name="2212"
      > </a
      ><a name="2213" href="Relation.Relation.html#512" class="Function"
      >Rel</a
      ><a name="2216"
      > </a
      ><a name="2217" class="Keyword"
      >where</a
      ><a name="2222"
      >
    </a
      ><a name="2227" href="Relation.Relation.html#2227" class="InductiveConstructor"
      >refl</a
      ><a name="2231"
      > </a
      ><a name="2232" class="Symbol"
      >:</a
      ><a name="2233"
      > </a
      ><a name="2234" class="Symbol"
      >&#8704;</a
      ><a name="2235"
      > </a
      ><a name="2236" class="Symbol"
      >{</a
      ><a name="2237" href="Relation.Relation.html#2237" class="Bound"
      >a</a
      ><a name="2238" class="Symbol"
      >}</a
      ><a name="2239"
      > </a
      ><a name="2240" class="Symbol"
      >&#8594;</a
      ><a name="2241"
      > </a
      ><a name="2242" href="Relation.Relation.html#2196" class="Datatype"
      >star</a
      ><a name="2246"
      > </a
      ><a name="2247" href="Relation.Relation.html#2202" class="Bound"
      >&#10239;</a
      ><a name="2248"
      > </a
      ><a name="2249" href="Relation.Relation.html#2237" class="Bound"
      >a</a
      ><a name="2250"
      > </a
      ><a name="2251" href="Relation.Relation.html#2237" class="Bound"
      >a</a
      ><a name="2252"
      >
    </a
      ><a name="2257" href="Relation.Relation.html#2257" class="InductiveConstructor"
      >just</a
      ><a name="2261"
      > </a
      ><a name="2262" class="Symbol"
      >:</a
      ><a name="2263"
      > </a
      ><a name="2264" class="Symbol"
      >&#8704;</a
      ><a name="2265"
      > </a
      ><a name="2266" class="Symbol"
      >{</a
      ><a name="2267" href="Relation.Relation.html#2267" class="Bound"
      >a</a
      ><a name="2268"
      > </a
      ><a name="2269" href="Relation.Relation.html#2269" class="Bound"
      >b</a
      ><a name="2270" class="Symbol"
      >}</a
      ><a name="2271"
      > </a
      ><a name="2272" class="Symbol"
      >&#8594;</a
      ><a name="2273"
      > </a
      ><a name="2274" href="Relation.Relation.html#2202" class="Bound"
      >&#10239;</a
      ><a name="2275"
      > </a
      ><a name="2276" href="Relation.Relation.html#2267" class="Bound"
      >a</a
      ><a name="2277"
      > </a
      ><a name="2278" href="Relation.Relation.html#2269" class="Bound"
      >b</a
      ><a name="2279"
      > </a
      ><a name="2280" class="Symbol"
      >&#8594;</a
      ><a name="2281"
      > </a
      ><a name="2282" href="Relation.Relation.html#2196" class="Datatype"
      >star</a
      ><a name="2286"
      > </a
      ><a name="2287" href="Relation.Relation.html#2202" class="Bound"
      >&#10239;</a
      ><a name="2288"
      > </a
      ><a name="2289" href="Relation.Relation.html#2267" class="Bound"
      >a</a
      ><a name="2290"
      > </a
      ><a name="2291" href="Relation.Relation.html#2269" class="Bound"
      >b</a
      ><a name="2292"
      >
    </a
      ><a name="2297" href="Relation.Relation.html#2297" class="InductiveConstructor"
      >trans</a
      ><a name="2302"
      > </a
      ><a name="2303" class="Symbol"
      >:</a
      ><a name="2304"
      > </a
      ><a name="2305" class="Symbol"
      >&#8704;</a
      ><a name="2306"
      > </a
      ><a name="2307" class="Symbol"
      >{</a
      ><a name="2308" href="Relation.Relation.html#2308" class="Bound"
      >a</a
      ><a name="2309"
      > </a
      ><a name="2310" href="Relation.Relation.html#2310" class="Bound"
      >b</a
      ><a name="2311"
      > </a
      ><a name="2312" href="Relation.Relation.html#2312" class="Bound"
      >c</a
      ><a name="2313"
      > </a
      ><a name="2314" class="Symbol"
      >}</a
      ><a name="2315"
      > </a
      ><a name="2316" class="Symbol"
      >&#8594;</a
      ><a name="2317"
      > </a
      ><a name="2318" href="Relation.Relation.html#2196" class="Datatype"
      >star</a
      ><a name="2322"
      > </a
      ><a name="2323" href="Relation.Relation.html#2202" class="Bound"
      >&#10239;</a
      ><a name="2324"
      > </a
      ><a name="2325" href="Relation.Relation.html#2308" class="Bound"
      >a</a
      ><a name="2326"
      > </a
      ><a name="2327" href="Relation.Relation.html#2310" class="Bound"
      >b</a
      ><a name="2328"
      > </a
      ><a name="2329" class="Symbol"
      >&#8594;</a
      ><a name="2330"
      > </a
      ><a name="2331" href="Relation.Relation.html#2196" class="Datatype"
      >star</a
      ><a name="2335"
      > </a
      ><a name="2336" href="Relation.Relation.html#2202" class="Bound"
      >&#10239;</a
      ><a name="2337"
      > </a
      ><a name="2338" href="Relation.Relation.html#2310" class="Bound"
      >b</a
      ><a name="2339"
      > </a
      ><a name="2340" href="Relation.Relation.html#2312" class="Bound"
      >c</a
      ><a name="2341"
      > </a
      ><a name="2342" class="Symbol"
      >&#8594;</a
      ><a name="2343"
      > </a
      ><a name="2344" href="Relation.Relation.html#2196" class="Datatype"
      >star</a
      ><a name="2348"
      > </a
      ><a name="2349" href="Relation.Relation.html#2202" class="Bound"
      >&#10239;</a
      ><a name="2350"
      > </a
      ><a name="2351" href="Relation.Relation.html#2308" class="Bound"
      >a</a
      ><a name="2352"
      > </a
      ><a name="2353" href="Relation.Relation.html#2312" class="Bound"
      >c</a
      ><a name="2354"
      >

  </a
      ><a name="2358" href="Relation.Relation.html#2358" class="Function"
      >mon-star</a
      ><a name="2366"
      > </a
      ><a name="2367" class="Symbol"
      >:</a
      ><a name="2368"
      > </a
      ><a name="2369" class="Symbol"
      >{</a
      ><a name="2370" href="Relation.Relation.html#2370" class="Bound"
      >R</a
      ><a name="2371"
      > </a
      ><a name="2372" href="Relation.Relation.html#2372" class="Bound"
      >S</a
      ><a name="2373"
      > </a
      ><a name="2374" class="Symbol"
      >:</a
      ><a name="2375"
      > </a
      ><a name="2376" href="Relation.Relation.html#512" class="Function"
      >Rel</a
      ><a name="2379" class="Symbol"
      >}</a
      ><a name="2380"
      > </a
      ><a name="2381" class="Symbol"
      >&#8594;</a
      ><a name="2382"
      > </a
      ><a name="2383" href="Relation.Relation.html#2370" class="Bound"
      >R</a
      ><a name="2384"
      > </a
      ><a name="2385" href="Relation.Relation.html#1391" class="Function Operator"
      >&#8838;</a
      ><a name="2386"
      > </a
      ><a name="2387" href="Relation.Relation.html#2372" class="Bound"
      >S</a
      ><a name="2388"
      > </a
      ><a name="2389" class="Symbol"
      >&#8594;</a
      ><a name="2390"
      > </a
      ><a name="2391" href="Relation.Relation.html#2196" class="Datatype"
      >star</a
      ><a name="2395"
      > </a
      ><a name="2396" href="Relation.Relation.html#2370" class="Bound"
      >R</a
      ><a name="2397"
      > </a
      ><a name="2398" href="Relation.Relation.html#1391" class="Function Operator"
      >&#8838;</a
      ><a name="2399"
      > </a
      ><a name="2400" href="Relation.Relation.html#2196" class="Datatype"
      >star</a
      ><a name="2404"
      > </a
      ><a name="2405" href="Relation.Relation.html#2372" class="Bound"
      >S</a
      ><a name="2406"
      >
  </a
      ><a name="2409" href="Relation.Relation.html#2358" class="Function"
      >mon-star</a
      ><a name="2417"
      > </a
      ><a name="2418" href="Relation.Relation.html#2418" class="Bound"
      >R&#8838;S</a
      ><a name="2421"
      > </a
      ><a name="2422" href="Relation.Relation.html#2227" class="InductiveConstructor"
      >refl</a
      ><a name="2426"
      > </a
      ><a name="2427" class="Symbol"
      >=</a
      ><a name="2428"
      > </a
      ><a name="2429" href="Relation.Relation.html#2227" class="InductiveConstructor"
      >refl</a
      ><a name="2433"
      >
  </a
      ><a name="2436" href="Relation.Relation.html#2358" class="Function"
      >mon-star</a
      ><a name="2444"
      > </a
      ><a name="2445" href="Relation.Relation.html#2445" class="Bound"
      >R&#8838;S</a
      ><a name="2448"
      > </a
      ><a name="2449" class="Symbol"
      >(</a
      ><a name="2450" href="Relation.Relation.html#2257" class="InductiveConstructor"
      >just</a
      ><a name="2454"
      > </a
      ><a name="2455" href="Relation.Relation.html#2455" class="Bound"
      >aRb</a
      ><a name="2458" class="Symbol"
      >)</a
      ><a name="2459"
      > </a
      ><a name="2460" class="Symbol"
      >=</a
      ><a name="2461"
      > </a
      ><a name="2462" href="Relation.Relation.html#2257" class="InductiveConstructor"
      >just</a
      ><a name="2466"
      > </a
      ><a name="2467" class="Symbol"
      >(</a
      ><a name="2468" href="Relation.Relation.html#2445" class="Bound"
      >R&#8838;S</a
      ><a name="2471"
      > </a
      ><a name="2472" href="Relation.Relation.html#2455" class="Bound"
      >aRb</a
      ><a name="2475" class="Symbol"
      >)</a
      ><a name="2476"
      >
  </a
      ><a name="2479" href="Relation.Relation.html#2358" class="Function"
      >mon-star</a
      ><a name="2487"
      > </a
      ><a name="2488" href="Relation.Relation.html#2488" class="Bound"
      >R&#8838;S</a
      ><a name="2491"
      > </a
      ><a name="2492" class="Symbol"
      >(</a
      ><a name="2493" href="Relation.Relation.html#2297" class="InductiveConstructor"
      >trans</a
      ><a name="2498"
      > </a
      ><a name="2499" href="Relation.Relation.html#2499" class="Bound"
      >aR&#8902;b</a
      ><a name="2503"
      > </a
      ><a name="2504" href="Relation.Relation.html#2504" class="Bound"
      >bR&#8902;c</a
      ><a name="2508" class="Symbol"
      >)</a
      ><a name="2509"
      > 
    </a
      ><a name="2515" class="Symbol"
      >=</a
      ><a name="2516"
      > </a
      ><a name="2517" href="Relation.Relation.html#2297" class="InductiveConstructor"
      >trans</a
      ><a name="2522"
      > </a
      ><a name="2523" class="Symbol"
      >(</a
      ><a name="2524" href="Relation.Relation.html#2358" class="Function"
      >mon-star</a
      ><a name="2532"
      > </a
      ><a name="2533" href="Relation.Relation.html#2488" class="Bound"
      >R&#8838;S</a
      ><a name="2536"
      > </a
      ><a name="2537" href="Relation.Relation.html#2499" class="Bound"
      >aR&#8902;b</a
      ><a name="2541" class="Symbol"
      >)</a
      ><a name="2542"
      > </a
      ><a name="2543" class="Symbol"
      >(</a
      ><a name="2544" href="Relation.Relation.html#2358" class="Function"
      >mon-star</a
      ><a name="2552"
      > </a
      ><a name="2553" href="Relation.Relation.html#2488" class="Bound"
      >R&#8838;S</a
      ><a name="2556"
      > </a
      ><a name="2557" href="Relation.Relation.html#2504" class="Bound"
      >bR&#8902;c</a
      ><a name="2561" class="Symbol"
      >)</a
      ><a name="2562"
      >
  
  </a
      ><a name="2568" href="Relation.Relation.html#2568" class="Function"
      >idem-star</a
      ><a name="2577"
      > </a
      ><a name="2578" class="Symbol"
      >:</a
      ><a name="2579"
      > </a
      ><a name="2580" class="Symbol"
      >{</a
      ><a name="2581" href="Relation.Relation.html#2581" class="Bound"
      >R</a
      ><a name="2582"
      > </a
      ><a name="2583" class="Symbol"
      >:</a
      ><a name="2584"
      > </a
      ><a name="2585" href="Relation.Relation.html#512" class="Function"
      >Rel</a
      ><a name="2588" class="Symbol"
      >}</a
      ><a name="2589"
      > </a
      ><a name="2590" class="Symbol"
      >&#8594;</a
      ><a name="2591"
      > </a
      ><a name="2592" href="Relation.Relation.html#2196" class="Datatype"
      >star</a
      ><a name="2596"
      > </a
      ><a name="2597" class="Symbol"
      >(</a
      ><a name="2598" href="Relation.Relation.html#2196" class="Datatype"
      >star</a
      ><a name="2602"
      > </a
      ><a name="2603" href="Relation.Relation.html#2581" class="Bound"
      >R</a
      ><a name="2604" class="Symbol"
      >)</a
      ><a name="2605"
      > </a
      ><a name="2606" href="Relation.Relation.html#1391" class="Function Operator"
      >&#8838;</a
      ><a name="2607"
      > </a
      ><a name="2608" href="Relation.Relation.html#2196" class="Datatype"
      >star</a
      ><a name="2612"
      > </a
      ><a name="2613" href="Relation.Relation.html#2581" class="Bound"
      >R</a
      ><a name="2614"
      >
  </a
      ><a name="2617" href="Relation.Relation.html#2568" class="Function"
      >idem-star</a
      ><a name="2626"
      > </a
      ><a name="2627" href="Relation.Relation.html#2227" class="InductiveConstructor"
      >refl</a
      ><a name="2631"
      > </a
      ><a name="2632" class="Symbol"
      >=</a
      ><a name="2633"
      > </a
      ><a name="2634" href="Relation.Relation.html#2227" class="InductiveConstructor"
      >refl</a
      ><a name="2638"
      >
  </a
      ><a name="2641" href="Relation.Relation.html#2568" class="Function"
      >idem-star</a
      ><a name="2650"
      > </a
      ><a name="2651" class="Symbol"
      >(</a
      ><a name="2652" href="Relation.Relation.html#2257" class="InductiveConstructor"
      >just</a
      ><a name="2656"
      > </a
      ><a name="2657" href="Relation.Relation.html#2657" class="Bound"
      >aRb</a
      ><a name="2660" class="Symbol"
      >)</a
      ><a name="2661"
      > </a
      ><a name="2662" class="Symbol"
      >=</a
      ><a name="2663"
      > </a
      ><a name="2664" href="Relation.Relation.html#2657" class="Bound"
      >aRb</a
      ><a name="2667"
      >
  </a
      ><a name="2670" href="Relation.Relation.html#2568" class="Function"
      >idem-star</a
      ><a name="2679"
      > </a
      ><a name="2680" class="Symbol"
      >(</a
      ><a name="2681" href="Relation.Relation.html#2297" class="InductiveConstructor"
      >trans</a
      ><a name="2686"
      > </a
      ><a name="2687" href="Relation.Relation.html#2687" class="Bound"
      >aR&#8902;b</a
      ><a name="2691"
      > </a
      ><a name="2692" href="Relation.Relation.html#2692" class="Bound"
      >bR&#8902;c</a
      ><a name="2696" class="Symbol"
      >)</a
      ><a name="2697"
      > </a
      ><a name="2698" class="Symbol"
      >=</a
      ><a name="2699"
      > </a
      ><a name="2700" href="Relation.Relation.html#2297" class="InductiveConstructor"
      >trans</a
      ><a name="2705"
      > </a
      ><a name="2706" class="Symbol"
      >(</a
      ><a name="2707" href="Relation.Relation.html#2568" class="Function"
      >idem-star</a
      ><a name="2716"
      > </a
      ><a name="2717" href="Relation.Relation.html#2687" class="Bound"
      >aR&#8902;b</a
      ><a name="2721" class="Symbol"
      >)</a
      ><a name="2722"
      > </a
      ><a name="2723" class="Symbol"
      >(</a
      ><a name="2724" href="Relation.Relation.html#2568" class="Function"
      >idem-star</a
      ><a name="2733"
      > </a
      ><a name="2734" href="Relation.Relation.html#2692" class="Bound"
      >bR&#8902;c</a
      ><a name="2738" class="Symbol"
      >)</a
      ><a name="2739"
      >

  </a
      ><a name="2743" href="Relation.Relation.html#2743" class="Function"
      >trans-&#8838;-star</a
      ><a name="2755"
      > </a
      ><a name="2756" class="Symbol"
      >:</a
      ><a name="2757"
      > </a
      ><a name="2758" class="Symbol"
      >{</a
      ><a name="2759" href="Relation.Relation.html#2759" class="Bound"
      >R</a
      ><a name="2760"
      > </a
      ><a name="2761" href="Relation.Relation.html#2761" class="Bound"
      >S</a
      ><a name="2762"
      > </a
      ><a name="2763" class="Symbol"
      >:</a
      ><a name="2764"
      > </a
      ><a name="2765" href="Relation.Relation.html#512" class="Function"
      >Rel</a
      ><a name="2768" class="Symbol"
      >}</a
      ><a name="2769"
      > </a
      ><a name="2770" class="Symbol"
      >&#8594;</a
      ><a name="2771"
      > </a
      ><a name="2772" href="Relation.Relation.html#2759" class="Bound"
      >R</a
      ><a name="2773"
      > </a
      ><a name="2774" href="Relation.Relation.html#1391" class="Function Operator"
      >&#8838;</a
      ><a name="2775"
      > </a
      ><a name="2776" href="Relation.Relation.html#2196" class="Datatype"
      >star</a
      ><a name="2780"
      > </a
      ><a name="2781" href="Relation.Relation.html#2761" class="Bound"
      >S</a
      ><a name="2782"
      > </a
      ><a name="2783" class="Symbol"
      >&#8594;</a
      ><a name="2784"
      > </a
      ><a name="2785" href="Relation.Relation.html#2196" class="Datatype"
      >star</a
      ><a name="2789"
      > </a
      ><a name="2790" href="Relation.Relation.html#2759" class="Bound"
      >R</a
      ><a name="2791"
      > </a
      ><a name="2792" href="Relation.Relation.html#1391" class="Function Operator"
      >&#8838;</a
      ><a name="2793"
      > </a
      ><a name="2794" href="Relation.Relation.html#2196" class="Datatype"
      >star</a
      ><a name="2798"
      > </a
      ><a name="2799" href="Relation.Relation.html#2761" class="Bound"
      >S</a
      ><a name="2800"
      >
  </a
      ><a name="2803" href="Relation.Relation.html#2743" class="Function"
      >trans-&#8838;-star</a
      ><a name="2815"
      > </a
      ><a name="2816" class="Symbol"
      >{</a
      ><a name="2817" href="Relation.Relation.html#2817" class="Bound"
      >R</a
      ><a name="2818" class="Symbol"
      >}</a
      ><a name="2819"
      > </a
      ><a name="2820" class="Symbol"
      >{</a
      ><a name="2821" href="Relation.Relation.html#2821" class="Bound"
      >S</a
      ><a name="2822" class="Symbol"
      >}</a
      ><a name="2823"
      > </a
      ><a name="2824" href="Relation.Relation.html#2824" class="Bound"
      >R&#8838;S&#8902;</a
      ><a name="2828"
      > 
    </a
      ><a name="2834" class="Symbol"
      >=</a
      ><a name="2835"
      > </a
      ><a name="2836" href="Relation.Relation.html#1488" class="Function"
      >trans-&#8838;</a
      ><a name="2843"
      >  </a
      ><a name="2845" class="Symbol"
      >{</a
      ><a name="2846" href="Relation.Relation.html#2196" class="Datatype"
      >star</a
      ><a name="2850"
      > </a
      ><a name="2851" href="Relation.Relation.html#2817" class="Bound"
      >R</a
      ><a name="2852" class="Symbol"
      >}</a
      ><a name="2853"
      > </a
      ><a name="2854" class="Symbol"
      >{</a
      ><a name="2855" href="Relation.Relation.html#2196" class="Datatype"
      >star</a
      ><a name="2859"
      > </a
      ><a name="2860" class="Symbol"
      >(</a
      ><a name="2861" href="Relation.Relation.html#2196" class="Datatype"
      >star</a
      ><a name="2865"
      > </a
      ><a name="2866" href="Relation.Relation.html#2821" class="Bound"
      >S</a
      ><a name="2867" class="Symbol"
      >)}</a
      ><a name="2869"
      > </a
      ><a name="2870" class="Symbol"
      >{</a
      ><a name="2871" href="Relation.Relation.html#2196" class="Datatype"
      >star</a
      ><a name="2875"
      > </a
      ><a name="2876" href="Relation.Relation.html#2821" class="Bound"
      >S</a
      ><a name="2877" class="Symbol"
      >}</a
      ><a name="2878"
      > 
               </a
      ><a name="2895" class="Symbol"
      >(</a
      ><a name="2896" href="Relation.Relation.html#2358" class="Function"
      >mon-star</a
      ><a name="2904"
      > </a
      ><a name="2905" href="Relation.Relation.html#2824" class="Bound"
      >R&#8838;S&#8902;</a
      ><a name="2909" class="Symbol"
      >)</a
      ><a name="2910"
      > 
               </a
      ><a name="2927" href="Relation.Relation.html#2568" class="Function"
      >idem-star</a
      ><a name="2936"
      >
\end{code}
</a
      ><a name="2948" class="Comment"
      >
Our next goal is to prove that the diamond property implies
Church-Rosser; for this it turns out that dealing with the usual
definition of the reflexive transitive closure is not convenient,
because the termination checker is not convinced about the use of the
inductive hypothesis in one case. In order to bypass this obstacle we
present another formalisation of the reflexive and transitive closure
of a relation $R^\omega = \bigcup_{n\in \mathbb N} R^n$; although
these two notions are not isomorphic (when passing from $\transclos R$ to
$R^{\omega}$ we lane all the single steps to the left), they are
equivalent.

</a
      ><a name="3568"
      >\begin{code}
  </a
      ><a name="3583" class="Keyword"
      >data</a
      ><a name="3587"
      > </a
      ><a name="3588" href="Relation.Relation.html#3588" class="Datatype"
      >steps</a
      ><a name="3593"
      > </a
      ><a name="3594" class="Symbol"
      >(</a
      ><a name="3595" href="Relation.Relation.html#3595" class="Bound"
      >&#10239;</a
      ><a name="3596"
      > </a
      ><a name="3597" class="Symbol"
      >:</a
      ><a name="3598"
      > </a
      ><a name="3599" href="Relation.Relation.html#512" class="Function"
      >Rel</a
      ><a name="3602" class="Symbol"
      >)</a
      ><a name="3603"
      > </a
      ><a name="3604" class="Symbol"
      >:</a
      ><a name="3605"
      > </a
      ><a name="3606" href="Relation.Relation.html#512" class="Function"
      >Rel</a
      ><a name="3609"
      > </a
      ><a name="3610" class="Keyword"
      >where</a
      ><a name="3615"
      >
    </a
      ><a name="3620" href="Relation.Relation.html#3620" class="InductiveConstructor"
      >zero</a
      ><a name="3624"
      >  </a
      ><a name="3626" class="Symbol"
      >:</a
      ><a name="3627"
      > </a
      ><a name="3628" class="Symbol"
      >&#8704;</a
      ><a name="3629"
      > </a
      ><a name="3630" class="Symbol"
      >{</a
      ><a name="3631" href="Relation.Relation.html#3631" class="Bound"
      >a</a
      ><a name="3632" class="Symbol"
      >}</a
      ><a name="3633"
      >                               </a
      ><a name="3664" class="Symbol"
      >&#8594;</a
      ><a name="3665"
      > </a
      ><a name="3666" href="Relation.Relation.html#3588" class="Datatype"
      >steps</a
      ><a name="3671"
      > </a
      ><a name="3672" href="Relation.Relation.html#3595" class="Bound"
      >&#10239;</a
      ><a name="3673"
      > </a
      ><a name="3674" href="Relation.Relation.html#3631" class="Bound"
      >a</a
      ><a name="3675"
      > </a
      ><a name="3676" href="Relation.Relation.html#3631" class="Bound"
      >a</a
      ><a name="3677"
      >
    </a
      ><a name="3682" href="Relation.Relation.html#3682" class="InductiveConstructor"
      >one</a
      ><a name="3685"
      >   </a
      ><a name="3688" class="Symbol"
      >:</a
      ><a name="3689"
      > </a
      ><a name="3690" class="Symbol"
      >&#8704;</a
      ><a name="3691"
      > </a
      ><a name="3692" class="Symbol"
      >{</a
      ><a name="3693" href="Relation.Relation.html#3693" class="Bound"
      >a</a
      ><a name="3694"
      > </a
      ><a name="3695" href="Relation.Relation.html#3695" class="Bound"
      >b</a
      ><a name="3696" class="Symbol"
      >}</a
      ><a name="3697"
      >    </a
      ><a name="3701" class="Symbol"
      >&#8594;</a
      ><a name="3702"
      > </a
      ><a name="3703" href="Relation.Relation.html#3595" class="Bound"
      >&#10239;</a
      ><a name="3704"
      > </a
      ><a name="3705" href="Relation.Relation.html#3693" class="Bound"
      >a</a
      ><a name="3706"
      > </a
      ><a name="3707" href="Relation.Relation.html#3695" class="Bound"
      >b</a
      ><a name="3708"
      >                 </a
      ><a name="3725" class="Symbol"
      >&#8594;</a
      ><a name="3726"
      > </a
      ><a name="3727" href="Relation.Relation.html#3588" class="Datatype"
      >steps</a
      ><a name="3732"
      > </a
      ><a name="3733" href="Relation.Relation.html#3595" class="Bound"
      >&#10239;</a
      ><a name="3734"
      > </a
      ><a name="3735" href="Relation.Relation.html#3693" class="Bound"
      >a</a
      ><a name="3736"
      > </a
      ><a name="3737" href="Relation.Relation.html#3695" class="Bound"
      >b</a
      ><a name="3738"
      >
    </a
      ><a name="3743" href="Relation.Relation.html#3743" class="InductiveConstructor"
      >more</a
      ><a name="3747"
      >  </a
      ><a name="3749" class="Symbol"
      >:</a
      ><a name="3750"
      > </a
      ><a name="3751" class="Symbol"
      >&#8704;</a
      ><a name="3752"
      > </a
      ><a name="3753" class="Symbol"
      >{</a
      ><a name="3754" href="Relation.Relation.html#3754" class="Bound"
      >a</a
      ><a name="3755"
      > </a
      ><a name="3756" href="Relation.Relation.html#3756" class="Bound"
      >b</a
      ><a name="3757"
      > </a
      ><a name="3758" href="Relation.Relation.html#3758" class="Bound"
      >c</a
      ><a name="3759" class="Symbol"
      >}</a
      ><a name="3760"
      >  </a
      ><a name="3762" class="Symbol"
      >&#8594;</a
      ><a name="3763"
      > </a
      ><a name="3764" href="Relation.Relation.html#3595" class="Bound"
      >&#10239;</a
      ><a name="3765"
      > </a
      ><a name="3766" href="Relation.Relation.html#3754" class="Bound"
      >a</a
      ><a name="3767"
      > </a
      ><a name="3768" href="Relation.Relation.html#3756" class="Bound"
      >b</a
      ><a name="3769"
      > </a
      ><a name="3770" class="Symbol"
      >&#8594;</a
      ><a name="3771"
      > </a
      ><a name="3772" href="Relation.Relation.html#3588" class="Datatype"
      >steps</a
      ><a name="3777"
      > </a
      ><a name="3778" href="Relation.Relation.html#3595" class="Bound"
      >&#10239;</a
      ><a name="3779"
      > </a
      ><a name="3780" href="Relation.Relation.html#3756" class="Bound"
      >b</a
      ><a name="3781"
      > </a
      ><a name="3782" href="Relation.Relation.html#3758" class="Bound"
      >c</a
      ><a name="3783"
      >  </a
      ><a name="3785" class="Symbol"
      >&#8594;</a
      ><a name="3786"
      > </a
      ><a name="3787" href="Relation.Relation.html#3588" class="Datatype"
      >steps</a
      ><a name="3792"
      > </a
      ><a name="3793" href="Relation.Relation.html#3595" class="Bound"
      >&#10239;</a
      ><a name="3794"
      > </a
      ><a name="3795" href="Relation.Relation.html#3754" class="Bound"
      >a</a
      ><a name="3796"
      > </a
      ><a name="3797" href="Relation.Relation.html#3758" class="Bound"
      >c</a
      ><a name="3798"
      >

  </a
      ><a name="3802" href="Relation.Relation.html#3802" class="Function Operator"
      >_++_</a
      ><a name="3806"
      > </a
      ><a name="3807" class="Symbol"
      >:</a
      ><a name="3808"
      >  </a
      ><a name="3810" class="Symbol"
      >{</a
      ><a name="3811" href="Relation.Relation.html#3811" class="Bound"
      >&#10239;</a
      ><a name="3812"
      > </a
      ><a name="3813" class="Symbol"
      >:</a
      ><a name="3814"
      > </a
      ><a name="3815" href="Relation.Relation.html#512" class="Function"
      >Rel</a
      ><a name="3818" class="Symbol"
      >}</a
      ><a name="3819"
      > </a
      ><a name="3820" class="Symbol"
      >{</a
      ><a name="3821" href="Relation.Relation.html#3821" class="Bound"
      >a</a
      ><a name="3822"
      > </a
      ><a name="3823" href="Relation.Relation.html#3823" class="Bound"
      >b</a
      ><a name="3824"
      > </a
      ><a name="3825" href="Relation.Relation.html#3825" class="Bound"
      >c</a
      ><a name="3826"
      > </a
      ><a name="3827" class="Symbol"
      >:</a
      ><a name="3828"
      > </a
      ><a name="3829" href="Relation.Relation.html#212" class="Bound"
      >A</a
      ><a name="3830" class="Symbol"
      >}</a
      ><a name="3831"
      > 
          </a
      ><a name="3843" class="Symbol"
      >&#8594;</a
      ><a name="3844"
      > </a
      ><a name="3845" href="Relation.Relation.html#3588" class="Datatype"
      >steps</a
      ><a name="3850"
      > </a
      ><a name="3851" href="Relation.Relation.html#3811" class="Bound"
      >&#10239;</a
      ><a name="3852"
      > </a
      ><a name="3853" href="Relation.Relation.html#3821" class="Bound"
      >a</a
      ><a name="3854"
      > </a
      ><a name="3855" href="Relation.Relation.html#3823" class="Bound"
      >b</a
      ><a name="3856"
      > </a
      ><a name="3857" class="Symbol"
      >&#8594;</a
      ><a name="3858"
      > </a
      ><a name="3859" href="Relation.Relation.html#3588" class="Datatype"
      >steps</a
      ><a name="3864"
      > </a
      ><a name="3865" href="Relation.Relation.html#3811" class="Bound"
      >&#10239;</a
      ><a name="3866"
      > </a
      ><a name="3867" href="Relation.Relation.html#3823" class="Bound"
      >b</a
      ><a name="3868"
      > </a
      ><a name="3869" href="Relation.Relation.html#3825" class="Bound"
      >c</a
      ><a name="3870"
      > </a
      ><a name="3871" class="Symbol"
      >&#8594;</a
      ><a name="3872"
      > </a
      ><a name="3873" href="Relation.Relation.html#3588" class="Datatype"
      >steps</a
      ><a name="3878"
      > </a
      ><a name="3879" href="Relation.Relation.html#3811" class="Bound"
      >&#10239;</a
      ><a name="3880"
      > </a
      ><a name="3881" href="Relation.Relation.html#3821" class="Bound"
      >a</a
      ><a name="3882"
      > </a
      ><a name="3883" href="Relation.Relation.html#3825" class="Bound"
      >c</a
      ><a name="3884"
      >
  </a
      ><a name="3887" href="Relation.Relation.html#3620" class="InductiveConstructor"
      >zero</a
      ><a name="3891"
      > </a
      ><a name="3892" href="Relation.Relation.html#3802" class="Function Operator"
      >++</a
      ><a name="3894"
      > </a
      ><a name="3895" href="Relation.Relation.html#3895" class="Bound"
      >s'</a
      ><a name="3897"
      > </a
      ><a name="3898" class="Symbol"
      >=</a
      ><a name="3899"
      > </a
      ><a name="3900" href="Relation.Relation.html#3895" class="Bound"
      >s'</a
      ><a name="3902"
      >
  </a
      ><a name="3905" href="Relation.Relation.html#3682" class="InductiveConstructor"
      >one</a
      ><a name="3908"
      > </a
      ><a name="3909" href="Relation.Relation.html#3909" class="Bound"
      >a&#10239;b</a
      ><a name="3912"
      > </a
      ><a name="3913" href="Relation.Relation.html#3802" class="Function Operator"
      >++</a
      ><a name="3915"
      > </a
      ><a name="3916" href="Relation.Relation.html#3916" class="Bound"
      >b&#10239;*c</a
      ><a name="3920"
      > </a
      ><a name="3921" class="Symbol"
      >=</a
      ><a name="3922"
      > </a
      ><a name="3923" href="Relation.Relation.html#3743" class="InductiveConstructor"
      >more</a
      ><a name="3927"
      > </a
      ><a name="3928" href="Relation.Relation.html#3909" class="Bound"
      >a&#10239;b</a
      ><a name="3931"
      > </a
      ><a name="3932" href="Relation.Relation.html#3916" class="Bound"
      >b&#10239;*c</a
      ><a name="3936"
      >
  </a
      ><a name="3939" href="Relation.Relation.html#3743" class="InductiveConstructor"
      >more</a
      ><a name="3943"
      > </a
      ><a name="3944" href="Relation.Relation.html#3944" class="Bound"
      >a&#10239;b</a
      ><a name="3947"
      > </a
      ><a name="3948" href="Relation.Relation.html#3948" class="Bound"
      >b&#10239;*c</a
      ><a name="3952"
      > </a
      ><a name="3953" href="Relation.Relation.html#3802" class="Function Operator"
      >++</a
      ><a name="3955"
      > </a
      ><a name="3956" href="Relation.Relation.html#3956" class="Bound"
      >c&#10239;*d</a
      ><a name="3960"
      > </a
      ><a name="3961" class="Symbol"
      >=</a
      ><a name="3962"
      > </a
      ><a name="3963" href="Relation.Relation.html#3743" class="InductiveConstructor"
      >more</a
      ><a name="3967"
      > </a
      ><a name="3968" href="Relation.Relation.html#3944" class="Bound"
      >a&#10239;b</a
      ><a name="3971"
      > </a
      ><a name="3972" class="Symbol"
      >(</a
      ><a name="3973" href="Relation.Relation.html#3948" class="Bound"
      >b&#10239;*c</a
      ><a name="3977"
      > </a
      ><a name="3978" href="Relation.Relation.html#3802" class="Function Operator"
      >++</a
      ><a name="3980"
      > </a
      ><a name="3981" href="Relation.Relation.html#3956" class="Bound"
      >c&#10239;*d</a
      ><a name="3985" class="Symbol"
      >)</a
      ><a name="3986"
      >
  
  </a
      ><a name="3992" href="Relation.Relation.html#3992" class="Function"
      >&#8902;-to-&#969;</a
      ><a name="3998"
      > </a
      ><a name="3999" class="Symbol"
      >:</a
      ><a name="4000"
      > </a
      ><a name="4001" class="Symbol"
      >&#8704;</a
      ><a name="4002"
      > </a
      ><a name="4003" class="Symbol"
      >{</a
      ><a name="4004" href="Relation.Relation.html#4004" class="Bound"
      >a</a
      ><a name="4005"
      > </a
      ><a name="4006" href="Relation.Relation.html#4006" class="Bound"
      >b</a
      ><a name="4007"
      > </a
      ><a name="4008" href="Relation.Relation.html#4008" class="Bound"
      >&#10239;</a
      ><a name="4009" class="Symbol"
      >}</a
      ><a name="4010"
      > </a
      ><a name="4011" class="Symbol"
      >&#8594;</a
      ><a name="4012"
      > </a
      ><a name="4013" href="Relation.Relation.html#2196" class="Datatype"
      >star</a
      ><a name="4017"
      > </a
      ><a name="4018" href="Relation.Relation.html#4008" class="Bound"
      >&#10239;</a
      ><a name="4019"
      > </a
      ><a name="4020" href="Relation.Relation.html#4004" class="Bound"
      >a</a
      ><a name="4021"
      > </a
      ><a name="4022" href="Relation.Relation.html#4006" class="Bound"
      >b</a
      ><a name="4023"
      > </a
      ><a name="4024" class="Symbol"
      >&#8594;</a
      ><a name="4025"
      > </a
      ><a name="4026" href="Relation.Relation.html#3588" class="Datatype"
      >steps</a
      ><a name="4031"
      > </a
      ><a name="4032" href="Relation.Relation.html#4008" class="Bound"
      >&#10239;</a
      ><a name="4033"
      > </a
      ><a name="4034" href="Relation.Relation.html#4004" class="Bound"
      >a</a
      ><a name="4035"
      > </a
      ><a name="4036" href="Relation.Relation.html#4006" class="Bound"
      >b</a
      ><a name="4037"
      >
  </a
      ><a name="4040" href="Relation.Relation.html#3992" class="Function"
      >&#8902;-to-&#969;</a
      ><a name="4046"
      > </a
      ><a name="4047" href="Relation.Relation.html#2227" class="InductiveConstructor"
      >refl</a
      ><a name="4051"
      > </a
      ><a name="4052" class="Symbol"
      >=</a
      ><a name="4053"
      > </a
      ><a name="4054" href="Relation.Relation.html#3620" class="InductiveConstructor"
      >zero</a
      ><a name="4058"
      >
  </a
      ><a name="4061" href="Relation.Relation.html#3992" class="Function"
      >&#8902;-to-&#969;</a
      ><a name="4067"
      > </a
      ><a name="4068" class="Symbol"
      >(</a
      ><a name="4069" href="Relation.Relation.html#2257" class="InductiveConstructor"
      >just</a
      ><a name="4073"
      > </a
      ><a name="4074" href="Relation.Relation.html#4074" class="Bound"
      >a&#10239;b</a
      ><a name="4077" class="Symbol"
      >)</a
      ><a name="4078"
      > </a
      ><a name="4079" class="Symbol"
      >=</a
      ><a name="4080"
      > </a
      ><a name="4081" href="Relation.Relation.html#3682" class="InductiveConstructor"
      >one</a
      ><a name="4084"
      > </a
      ><a name="4085" href="Relation.Relation.html#4074" class="Bound"
      >a&#10239;b</a
      ><a name="4088"
      >
  </a
      ><a name="4091" href="Relation.Relation.html#3992" class="Function"
      >&#8902;-to-&#969;</a
      ><a name="4097"
      > </a
      ><a name="4098" class="Symbol"
      >(</a
      ><a name="4099" href="Relation.Relation.html#2297" class="InductiveConstructor"
      >trans</a
      ><a name="4104"
      > </a
      ><a name="4105" href="Relation.Relation.html#4105" class="Bound"
      >a&#10239;*b</a
      ><a name="4109"
      > </a
      ><a name="4110" href="Relation.Relation.html#4110" class="Bound"
      >b&#10239;*c</a
      ><a name="4114" class="Symbol"
      >)</a
      ><a name="4115"
      > </a
      ><a name="4116" class="Symbol"
      >=</a
      ><a name="4117"
      > </a
      ><a name="4118" href="Relation.Relation.html#3992" class="Function"
      >&#8902;-to-&#969;</a
      ><a name="4124"
      > </a
      ><a name="4125" href="Relation.Relation.html#4105" class="Bound"
      >a&#10239;*b</a
      ><a name="4129"
      > </a
      ><a name="4130" href="Relation.Relation.html#3802" class="Function Operator"
      >++</a
      ><a name="4132"
      > </a
      ><a name="4133" href="Relation.Relation.html#3992" class="Function"
      >&#8902;-to-&#969;</a
      ><a name="4139"
      > </a
      ><a name="4140" href="Relation.Relation.html#4110" class="Bound"
      >b&#10239;*c</a
      ><a name="4144"
      >

  </a
      ><a name="4148" href="Relation.Relation.html#4148" class="Function"
      >&#969;-to-&#8902;</a
      ><a name="4154"
      > </a
      ><a name="4155" class="Symbol"
      >:</a
      ><a name="4156"
      > </a
      ><a name="4157" class="Symbol"
      >&#8704;</a
      ><a name="4158"
      > </a
      ><a name="4159" class="Symbol"
      >{</a
      ><a name="4160" href="Relation.Relation.html#4160" class="Bound"
      >a</a
      ><a name="4161"
      > </a
      ><a name="4162" href="Relation.Relation.html#4162" class="Bound"
      >b</a
      ><a name="4163"
      > </a
      ><a name="4164" href="Relation.Relation.html#4164" class="Bound"
      >&#10239;</a
      ><a name="4165" class="Symbol"
      >}</a
      ><a name="4166"
      > </a
      ><a name="4167" class="Symbol"
      >&#8594;</a
      ><a name="4168"
      > </a
      ><a name="4169" href="Relation.Relation.html#3588" class="Datatype"
      >steps</a
      ><a name="4174"
      > </a
      ><a name="4175" href="Relation.Relation.html#4164" class="Bound"
      >&#10239;</a
      ><a name="4176"
      > </a
      ><a name="4177" href="Relation.Relation.html#4160" class="Bound"
      >a</a
      ><a name="4178"
      > </a
      ><a name="4179" href="Relation.Relation.html#4162" class="Bound"
      >b</a
      ><a name="4180"
      > </a
      ><a name="4181" class="Symbol"
      >&#8594;</a
      ><a name="4182"
      > </a
      ><a name="4183" href="Relation.Relation.html#2196" class="Datatype"
      >star</a
      ><a name="4187"
      > </a
      ><a name="4188" href="Relation.Relation.html#4164" class="Bound"
      >&#10239;</a
      ><a name="4189"
      > </a
      ><a name="4190" href="Relation.Relation.html#4160" class="Bound"
      >a</a
      ><a name="4191"
      > </a
      ><a name="4192" href="Relation.Relation.html#4162" class="Bound"
      >b</a
      ><a name="4193"
      >
  </a
      ><a name="4196" href="Relation.Relation.html#4148" class="Function"
      >&#969;-to-&#8902;</a
      ><a name="4202"
      > </a
      ><a name="4203" href="Relation.Relation.html#3620" class="InductiveConstructor"
      >zero</a
      ><a name="4207"
      > </a
      ><a name="4208" class="Symbol"
      >=</a
      ><a name="4209"
      > </a
      ><a name="4210" href="Relation.Relation.html#2227" class="InductiveConstructor"
      >refl</a
      ><a name="4214"
      >
  </a
      ><a name="4217" href="Relation.Relation.html#4148" class="Function"
      >&#969;-to-&#8902;</a
      ><a name="4223"
      > </a
      ><a name="4224" class="Symbol"
      >(</a
      ><a name="4225" href="Relation.Relation.html#3682" class="InductiveConstructor"
      >one</a
      ><a name="4228"
      > </a
      ><a name="4229" href="Relation.Relation.html#4229" class="Bound"
      >a&#10239;b</a
      ><a name="4232" class="Symbol"
      >)</a
      ><a name="4233"
      > </a
      ><a name="4234" class="Symbol"
      >=</a
      ><a name="4235"
      > </a
      ><a name="4236" href="Relation.Relation.html#2257" class="InductiveConstructor"
      >just</a
      ><a name="4240"
      > </a
      ><a name="4241" href="Relation.Relation.html#4229" class="Bound"
      >a&#10239;b</a
      ><a name="4244"
      >
  </a
      ><a name="4247" href="Relation.Relation.html#4148" class="Function"
      >&#969;-to-&#8902;</a
      ><a name="4253"
      > </a
      ><a name="4254" class="Symbol"
      >(</a
      ><a name="4255" href="Relation.Relation.html#3743" class="InductiveConstructor"
      >more</a
      ><a name="4259"
      > </a
      ><a name="4260" href="Relation.Relation.html#4260" class="Bound"
      >a&#10239;b</a
      ><a name="4263"
      > </a
      ><a name="4264" href="Relation.Relation.html#4264" class="Bound"
      >b&#10239;*c</a
      ><a name="4268" class="Symbol"
      >)</a
      ><a name="4269"
      > </a
      ><a name="4270" class="Symbol"
      >=</a
      ><a name="4271"
      > </a
      ><a name="4272" href="Relation.Relation.html#2297" class="InductiveConstructor"
      >trans</a
      ><a name="4277"
      > </a
      ><a name="4278" class="Symbol"
      >(</a
      ><a name="4279" href="Relation.Relation.html#2257" class="InductiveConstructor"
      >just</a
      ><a name="4283"
      > </a
      ><a name="4284" href="Relation.Relation.html#4260" class="Bound"
      >a&#10239;b</a
      ><a name="4287" class="Symbol"
      >)</a
      ><a name="4288"
      > </a
      ><a name="4289" class="Symbol"
      >(</a
      ><a name="4290" href="Relation.Relation.html#4148" class="Function"
      >&#969;-to-&#8902;</a
      ><a name="4296"
      > </a
      ><a name="4297" href="Relation.Relation.html#4264" class="Bound"
      >b&#10239;*c</a
      ><a name="4301" class="Symbol"
      >)</a
      ><a name="4302"
      >
\end{code}
</a
      ><a name="4314" class="Comment"
      >
A relation $R$ is said to have the \emph{diamond} property if whenever
$a\,R\,b$ and $a\,R\,c$, there is a $d$ such that $b\,R\,d$ and
$c\,R\,d$; we will say that $R$ is \emph{diamantine} if it satisfies
the diamond property.

\begin{minipage}{0.7\textwidth}
</a
      ><a name="4574"
      >\begin{code}
  </a
      ><a name="4589" href="Relation.Relation.html#4589" class="Function"
      >diamond</a
      ><a name="4596"
      > </a
      ><a name="4597" class="Symbol"
      >:</a
      ><a name="4598"
      > </a
      ><a name="4599" class="Symbol"
      >(</a
      ><a name="4600" href="Relation.Relation.html#4600" class="Bound Operator"
      >_&#10239;_</a
      ><a name="4603"
      > </a
      ><a name="4604" class="Symbol"
      >:</a
      ><a name="4605"
      > </a
      ><a name="4606" href="Relation.Relation.html#512" class="Function"
      >Rel</a
      ><a name="4609" class="Symbol"
      >)</a
      ><a name="4610"
      > </a
      ><a name="4611" class="Symbol"
      >&#8594;</a
      ><a name="4612"
      > </a
      ><a name="4613" class="PrimitiveType"
      >Set</a
      ><a name="4616"
      > </a
      ><a name="4617" href="Relation.Relation.html#200" class="Bound"
      >l</a
      ><a name="4618"
      >
  </a
      ><a name="4621" href="Relation.Relation.html#4589" class="Function"
      >diamond</a
      ><a name="4628"
      > </a
      ><a name="4629" href="Relation.Relation.html#4629" class="Bound Operator"
      >_&#10239;_</a
      ><a name="4632"
      > </a
      ><a name="4633" class="Symbol"
      >=</a
      ><a name="4634"
      >  </a
      ><a name="4636" class="Symbol"
      >{</a
      ><a name="4637" href="Relation.Relation.html#4637" class="Bound"
      >a</a
      ><a name="4638"
      > </a
      ><a name="4639" href="Relation.Relation.html#4639" class="Bound"
      >b</a
      ><a name="4640"
      > </a
      ><a name="4641" href="Relation.Relation.html#4641" class="Bound"
      >c</a
      ><a name="4642"
      > </a
      ><a name="4643" class="Symbol"
      >:</a
      ><a name="4644"
      > </a
      ><a name="4645" href="Relation.Relation.html#212" class="Bound"
      >A</a
      ><a name="4646" class="Symbol"
      >}</a
      ><a name="4647"
      > 
                  </a
      ><a name="4667" class="Symbol"
      >&#8594;</a
      ><a name="4668"
      > </a
      ><a name="4669" href="Relation.Relation.html#4637" class="Bound"
      >a</a
      ><a name="4670"
      > </a
      ><a name="4671" href="Relation.Relation.html#4629" class="Bound Operator"
      >&#10239;</a
      ><a name="4672"
      > </a
      ><a name="4673" href="Relation.Relation.html#4639" class="Bound"
      >b</a
      ><a name="4674"
      > </a
      ><a name="4675" class="Symbol"
      >&#8594;</a
      ><a name="4676"
      > </a
      ><a name="4677" href="Relation.Relation.html#4637" class="Bound"
      >a</a
      ><a name="4678"
      > </a
      ><a name="4679" href="Relation.Relation.html#4629" class="Bound Operator"
      >&#10239;</a
      ><a name="4680"
      > </a
      ><a name="4681" href="Relation.Relation.html#4641" class="Bound"
      >c</a
      ><a name="4682"
      > </a
      ><a name="4683" class="Symbol"
      >&#8594;</a
      ><a name="4684"
      >
                  </a
      ><a name="4703" href="Data.Product.html#823" class="Function"
      >&#8707;</a
      ><a name="4704"
      > </a
      ><a name="4705" class="Symbol"
      >(&#955;</a
      ><a name="4707"
      > </a
      ><a name="4708" href="Relation.Relation.html#4708" class="Bound"
      >d</a
      ><a name="4709"
      > </a
      ><a name="4710" class="Symbol"
      >&#8594;</a
      ><a name="4711"
      > </a
      ><a name="4712" href="Relation.Relation.html#4639" class="Bound"
      >b</a
      ><a name="4713"
      > </a
      ><a name="4714" href="Relation.Relation.html#4629" class="Bound Operator"
      >&#10239;</a
      ><a name="4715"
      > </a
      ><a name="4716" href="Relation.Relation.html#4708" class="Bound"
      >d</a
      ><a name="4717"
      > </a
      ><a name="4718" href="Data.Product.html#1073" class="Function Operator"
      >&#215;</a
      ><a name="4719"
      > </a
      ><a name="4720" href="Relation.Relation.html#4641" class="Bound"
      >c</a
      ><a name="4721"
      > </a
      ><a name="4722" href="Relation.Relation.html#4629" class="Bound Operator"
      >&#10239;</a
      ><a name="4723"
      > </a
      ><a name="4724" href="Relation.Relation.html#4708" class="Bound"
      >d</a
      ><a name="4725" class="Symbol"
      >)</a
      ><a name="4726"
      >

  </a
      ><a name="4730" class="Comment"
      >-- diamondP : (A &#8594; Set l) &#8594; (_&#10239;_ : Rel) &#8594; Set l</a
      ><a name="4777"
      >
  </a
      ><a name="4780" class="Comment"
      >-- diamondP P _&#10239;_ =  {a b c : A}</a
      ><a name="4812"
      >
  </a
      ><a name="4815" class="Comment"
      >--                     &#8594; P a &#8594; a &#10239; b &#8594; a &#10239; c &#8594;</a
      ><a name="4861"
      >
  </a
      ><a name="4864" class="Comment"
      >--                     &#8707; (&#955; d &#8594; b &#10239; d &#215; c &#10239; d)</a
      ><a name="4910"
      >
\end{code}
</a
      ><a name="4922" class="Comment"
      >\end{minipage}
\begin{minipage}{0.3\textwidth}
\begin{tikzpicture}[&gt;=latex]
   \node (a) at (2,2) {$a$};
   \node (b) at (1,1) {$b$};
   \node (c) at (3,1) {$c$};
   \node (d) at (2,0) {$d$};

   \draw [-&gt;] (a) -- (b) ;
   \draw [-&gt;] (a) -- (c) ;
   \draw[dashed,-&gt;] (b) -- (d) ;
   \draw[dashed,-&gt;] (c) -&gt; (d) ;
\end{tikzpicture}
\end{minipage}

A relation $R$ is \emph{Church-Rosser} if its transitive closure is
diamantine; as we have already mentioned it is easier to deal with the
statement of Church-Rosser for the $n$-fold version of the transitive
closure.

</a
      ><a name="5488"
      >\begin{code}
  </a
      ><a name="5503" href="Relation.Relation.html#5503" class="Function"
      >cr</a
      ><a name="5505"
      > </a
      ><a name="5506" class="Symbol"
      >:</a
      ><a name="5507"
      > </a
      ><a name="5508" class="Symbol"
      >(</a
      ><a name="5509" href="Relation.Relation.html#5509" class="Bound"
      >&#10239;</a
      ><a name="5510"
      > </a
      ><a name="5511" class="Symbol"
      >:</a
      ><a name="5512"
      > </a
      ><a name="5513" href="Relation.Relation.html#512" class="Function"
      >Rel</a
      ><a name="5516" class="Symbol"
      >)</a
      ><a name="5517"
      > </a
      ><a name="5518" class="Symbol"
      >&#8594;</a
      ><a name="5519"
      > </a
      ><a name="5520" class="PrimitiveType"
      >Set</a
      ><a name="5523"
      > </a
      ><a name="5524" href="Relation.Relation.html#200" class="Bound"
      >l</a
      ><a name="5525"
      >
  </a
      ><a name="5528" href="Relation.Relation.html#5503" class="Function"
      >cr</a
      ><a name="5530"
      > </a
      ><a name="5531" href="Relation.Relation.html#5531" class="Bound"
      >&#10239;</a
      ><a name="5532"
      > </a
      ><a name="5533" class="Symbol"
      >=</a
      ><a name="5534"
      > </a
      ><a name="5535" href="Relation.Relation.html#4589" class="Function"
      >diamond</a
      ><a name="5542"
      > </a
      ><a name="5543" class="Symbol"
      >(</a
      ><a name="5544" href="Relation.Relation.html#2196" class="Datatype"
      >star</a
      ><a name="5548"
      > </a
      ><a name="5549" href="Relation.Relation.html#5531" class="Bound"
      >&#10239;</a
      ><a name="5550" class="Symbol"
      >)</a
      ><a name="5551"
      >

  </a
      ><a name="5555" class="Comment"
      >-- crP : (A &#8594; Set l) &#8594; (&#10239; : Rel) &#8594; Set l</a
      ><a name="5595"
      >
  </a
      ><a name="5598" class="Comment"
      >-- crP P &#10239; = diamondP P (star &#10239;) </a
      ><a name="5631"
      >

  </a
      ><a name="5635" href="Relation.Relation.html#5635" class="Function"
      >cr-steps</a
      ><a name="5643"
      > </a
      ><a name="5644" class="Symbol"
      >:</a
      ><a name="5645"
      > </a
      ><a name="5646" class="Symbol"
      >(</a
      ><a name="5647" href="Relation.Relation.html#5647" class="Bound"
      >&#10239;</a
      ><a name="5648"
      > </a
      ><a name="5649" class="Symbol"
      >:</a
      ><a name="5650"
      > </a
      ><a name="5651" href="Relation.Relation.html#512" class="Function"
      >Rel</a
      ><a name="5654" class="Symbol"
      >)</a
      ><a name="5655"
      > </a
      ><a name="5656" class="Symbol"
      >&#8594;</a
      ><a name="5657"
      > </a
      ><a name="5658" class="PrimitiveType"
      >Set</a
      ><a name="5661"
      > </a
      ><a name="5662" href="Relation.Relation.html#200" class="Bound"
      >l</a
      ><a name="5663"
      >
  </a
      ><a name="5666" href="Relation.Relation.html#5635" class="Function"
      >cr-steps</a
      ><a name="5674"
      > </a
      ><a name="5675" href="Relation.Relation.html#5675" class="Bound"
      >&#10239;</a
      ><a name="5676"
      > </a
      ><a name="5677" class="Symbol"
      >=</a
      ><a name="5678"
      > </a
      ><a name="5679" href="Relation.Relation.html#4589" class="Function"
      >diamond</a
      ><a name="5686"
      > </a
      ><a name="5687" class="Symbol"
      >(</a
      ><a name="5688" href="Relation.Relation.html#3588" class="Datatype"
      >steps</a
      ><a name="5693"
      > </a
      ><a name="5694" href="Relation.Relation.html#5675" class="Bound"
      >&#10239;</a
      ><a name="5695" class="Symbol"
      >)</a
      ><a name="5696"
      >

  </a
      ><a name="5700" href="Relation.Relation.html#5700" class="Function"
      >cr-steps-to-cr</a
      ><a name="5714"
      > </a
      ><a name="5715" class="Symbol"
      >:</a
      ><a name="5716"
      > </a
      ><a name="5717" class="Symbol"
      >{</a
      ><a name="5718" href="Relation.Relation.html#5718" class="Bound"
      >&#10239;</a
      ><a name="5719"
      > </a
      ><a name="5720" class="Symbol"
      >:</a
      ><a name="5721"
      > </a
      ><a name="5722" href="Relation.Relation.html#512" class="Function"
      >Rel</a
      ><a name="5725" class="Symbol"
      >}</a
      ><a name="5726"
      > </a
      ><a name="5727" class="Symbol"
      >&#8594;</a
      ><a name="5728"
      > </a
      ><a name="5729" href="Relation.Relation.html#5635" class="Function"
      >cr-steps</a
      ><a name="5737"
      > </a
      ><a name="5738" href="Relation.Relation.html#5718" class="Bound"
      >&#10239;</a
      ><a name="5739"
      > </a
      ><a name="5740" class="Symbol"
      >&#8594;</a
      ><a name="5741"
      > </a
      ><a name="5742" href="Relation.Relation.html#5503" class="Function"
      >cr</a
      ><a name="5744"
      > </a
      ><a name="5745" href="Relation.Relation.html#5718" class="Bound"
      >&#10239;</a
      ><a name="5746"
      >
  </a
      ><a name="5749" href="Relation.Relation.html#5700" class="Function"
      >cr-steps-to-cr</a
      ><a name="5763"
      > </a
      ><a name="5764" href="Relation.Relation.html#5764" class="Bound"
      >cr</a
      ><a name="5766"
      > </a
      ><a name="5767" href="Relation.Relation.html#5767" class="Bound"
      >a&#10239;*b</a
      ><a name="5771"
      > </a
      ><a name="5772" href="Relation.Relation.html#5772" class="Bound"
      >a&#10239;*c</a
      ><a name="5776"
      > 
    </a
      ><a name="5782" class="Keyword"
      >with</a
      ><a name="5786"
      > </a
      ><a name="5787" href="Relation.Relation.html#5764" class="Bound"
      >cr</a
      ><a name="5789"
      > </a
      ><a name="5790" class="Symbol"
      >(</a
      ><a name="5791" href="Relation.Relation.html#3992" class="Function"
      >&#8902;-to-&#969;</a
      ><a name="5797"
      > </a
      ><a name="5798" href="Relation.Relation.html#5767" class="Bound"
      >a&#10239;*b</a
      ><a name="5802" class="Symbol"
      >)</a
      ><a name="5803"
      > </a
      ><a name="5804" class="Symbol"
      >(</a
      ><a name="5805" href="Relation.Relation.html#3992" class="Function"
      >&#8902;-to-&#969;</a
      ><a name="5811"
      > </a
      ><a name="5812" href="Relation.Relation.html#5772" class="Bound"
      >a&#10239;*c</a
      ><a name="5816" class="Symbol"
      >)</a
      ><a name="5817"
      >
  </a
      ><a name="5820" class="Symbol"
      >...</a
      ><a name="5823"
      > </a
      ><a name="5824" class="Symbol"
      >|</a
      ><a name="5825"
      > </a
      ><a name="5826" href="Relation.Relation.html#5826" class="Bound"
      >d</a
      ><a name="5827"
      > </a
      ><a name="5828" href="Data.Product.html#509" class="InductiveConstructor Operator"
      >,</a
      ><a name="5829"
      > </a
      ><a name="5830" href="Relation.Relation.html#5830" class="Bound"
      >b&#10239;*d</a
      ><a name="5834"
      > </a
      ><a name="5835" href="Data.Product.html#509" class="InductiveConstructor Operator"
      >,</a
      ><a name="5836"
      > </a
      ><a name="5837" href="Relation.Relation.html#5837" class="Bound"
      >c&#10239;*d</a
      ><a name="5841"
      > </a
      ><a name="5842" class="Symbol"
      >=</a
      ><a name="5843"
      > </a
      ><a name="5844" href="Relation.Relation.html#5826" class="Bound"
      >d</a
      ><a name="5845"
      > </a
      ><a name="5846" href="Data.Product.html#509" class="InductiveConstructor Operator"
      >,</a
      ><a name="5847"
      > </a
      ><a name="5848" href="Relation.Relation.html#4148" class="Function"
      >&#969;-to-&#8902;</a
      ><a name="5854"
      > </a
      ><a name="5855" href="Relation.Relation.html#5830" class="Bound"
      >b&#10239;*d</a
      ><a name="5859"
      > </a
      ><a name="5860" href="Data.Product.html#509" class="InductiveConstructor Operator"
      >,</a
      ><a name="5861"
      > </a
      ><a name="5862" href="Relation.Relation.html#4148" class="Function"
      >&#969;-to-&#8902;</a
      ><a name="5868"
      > </a
      ><a name="5869" href="Relation.Relation.html#5837" class="Bound"
      >c&#10239;*d</a
      ><a name="5873"
      >
\end{code}
</a
      ><a name="5885" class="Comment"
      >
\begin{lemma}
Let $\reduction$ have the diamond property; if there is a reduction
$\reduces a b$ and also a reduction $\reducesn a c$, then there exists
$d$ such that $\reducesn b d$ and $\reduces c d$.
\end{lemma}
\begin{proof}
The proof is by induction in the length of $\reduces a c$:

\begin{tikzpicture}[&gt;=latex,baseline]
   \node (a) at (2,2) {$a$};
   \node (b) at (1,1) {$b$};
   \node (c) at (3,1) {$a$};
   \node (d) at (2,0) {$b$};

   \draw [-&gt;] (a) -- (b) ;
   \draw [double] (a) -- (c) ;
   \draw [double] (b) -- (d) ;
   \draw[-&gt;] (c) -&gt; (d) ;
\end{tikzpicture} 
\quad
\begin{tikzpicture}[&gt;=latex,baseline]
   \node (a) at (2,2) {$a$};
   \node (b) at (1,1) {$b$};
   \node (c) at (3,1) {$c$};
   \node (d) at (2,0) {$d$};
   \node (diamond) at (2,1) {$\diamond$} ;

   \draw [-&gt;] (a) -- (b) ;
   \draw [-&gt;] (a) -- (c) ;
   \draw [-&gt;] (b) -- (d) ;
   \draw[-&gt;] (c) -&gt; (d) ;
\end{tikzpicture} 
\quad
\begin{tikzpicture}[&gt;=latex,baseline]
   \node (a) at (2,2) {$a$};
   \node (b) at (1,1) {$b$};
   \node (c1) at (3,1) {$c$};
   \node (cn) at (5,-1) {$c_n$};
   \node (d1) at (2,0) {$d_1$};
   \node (dn) at (4,-2) {$d_n$};
   \node (diamond) at (2,1) {$\diamond$} ;
   \node (ih) at (3,0) {i.h.};

   \draw [-&gt;] (a) -- (b) ;
   \draw [-&gt;] (a) -- (c1) ;
   \draw [-&gt;] (c1) -- (cn) ;
   \draw[-&gt;] (c1) -&gt; (d1) ;
   \draw[-&gt;] (b) -&gt; (d1) ;
   \draw[-&gt;] (d1) -&gt; (dn) ;
   \draw[-&gt;] (cn) -&gt; (dn) ;
\end{tikzpicture}

\end{proof}

</a
      ><a name="7326"
      >\begin{code}
  </a
      ><a name="7341" href="Relation.Relation.html#7341" class="Function"
      >leg</a
      ><a name="7344"
      > </a
      ><a name="7345" class="Symbol"
      >:</a
      ><a name="7346"
      >  </a
      ><a name="7348" class="Symbol"
      >&#8704;</a
      ><a name="7349"
      > </a
      ><a name="7350" class="Symbol"
      >{</a
      ><a name="7351" href="Relation.Relation.html#7351" class="Bound"
      >a</a
      ><a name="7352"
      > </a
      ><a name="7353" href="Relation.Relation.html#7353" class="Bound"
      >b</a
      ><a name="7354"
      > </a
      ><a name="7355" href="Relation.Relation.html#7355" class="Bound"
      >c</a
      ><a name="7356"
      > </a
      ><a name="7357" href="Relation.Relation.html#7357" class="Bound"
      >&#10239;</a
      ><a name="7358" class="Symbol"
      >}</a
      ><a name="7359"
      > 
         </a
      ><a name="7370" class="Symbol"
      >&#8594;</a
      ><a name="7371"
      > </a
      ><a name="7372" href="Relation.Relation.html#4589" class="Function"
      >diamond</a
      ><a name="7379"
      > </a
      ><a name="7380" href="Relation.Relation.html#7357" class="Bound"
      >&#10239;</a
      ><a name="7381"
      > 
         </a
      ><a name="7392" class="Symbol"
      >&#8594;</a
      ><a name="7393"
      > </a
      ><a name="7394" href="Relation.Relation.html#7357" class="Bound"
      >&#10239;</a
      ><a name="7395"
      > </a
      ><a name="7396" href="Relation.Relation.html#7351" class="Bound"
      >a</a
      ><a name="7397"
      > </a
      ><a name="7398" href="Relation.Relation.html#7353" class="Bound"
      >b</a
      ><a name="7399"
      > 
         </a
      ><a name="7410" class="Symbol"
      >&#8594;</a
      ><a name="7411"
      > </a
      ><a name="7412" href="Relation.Relation.html#3588" class="Datatype"
      >steps</a
      ><a name="7417"
      > </a
      ><a name="7418" href="Relation.Relation.html#7357" class="Bound"
      >&#10239;</a
      ><a name="7419"
      > </a
      ><a name="7420" href="Relation.Relation.html#7351" class="Bound"
      >a</a
      ><a name="7421"
      > </a
      ><a name="7422" href="Relation.Relation.html#7355" class="Bound"
      >c</a
      ><a name="7423"
      > 
         </a
      ><a name="7434" class="Symbol"
      >&#8594;</a
      ><a name="7435"
      > </a
      ><a name="7436" href="Data.Product.html#823" class="Function"
      >&#8707;</a
      ><a name="7437"
      > </a
      ><a name="7438" class="Symbol"
      >(&#955;</a
      ><a name="7440"
      > </a
      ><a name="7441" href="Relation.Relation.html#7441" class="Bound"
      >d</a
      ><a name="7442"
      > </a
      ><a name="7443" class="Symbol"
      >&#8594;</a
      ><a name="7444"
      > </a
      ><a name="7445" href="Relation.Relation.html#3588" class="Datatype"
      >steps</a
      ><a name="7450"
      > </a
      ><a name="7451" href="Relation.Relation.html#7357" class="Bound"
      >&#10239;</a
      ><a name="7452"
      > </a
      ><a name="7453" href="Relation.Relation.html#7353" class="Bound"
      >b</a
      ><a name="7454"
      > </a
      ><a name="7455" href="Relation.Relation.html#7441" class="Bound"
      >d</a
      ><a name="7456"
      > </a
      ><a name="7457" href="Data.Product.html#1073" class="Function Operator"
      >&#215;</a
      ><a name="7458"
      > </a
      ><a name="7459" href="Relation.Relation.html#7357" class="Bound"
      >&#10239;</a
      ><a name="7460"
      > </a
      ><a name="7461" href="Relation.Relation.html#7355" class="Bound"
      >c</a
      ><a name="7462"
      > </a
      ><a name="7463" href="Relation.Relation.html#7441" class="Bound"
      >d</a
      ><a name="7464" class="Symbol"
      >)</a
      ><a name="7465"
      > 
  </a
      ><a name="7469" href="Relation.Relation.html#7341" class="Function"
      >leg</a
      ><a name="7472"
      > </a
      ><a name="7473" class="Symbol"
      >{</a
      ><a name="7474" href="Relation.Relation.html#7474" class="Bound"
      >a</a
      ><a name="7475" class="Symbol"
      >}</a
      ><a name="7476"
      > </a
      ><a name="7477" class="Symbol"
      >{</a
      ><a name="7478" href="Relation.Relation.html#7478" class="Bound"
      >b</a
      ><a name="7479" class="Symbol"
      >}</a
      ><a name="7480"
      > </a
      ><a name="7481" href="Relation.Relation.html#7481" class="Bound"
      >&#9826;</a
      ><a name="7482"
      > </a
      ><a name="7483" href="Relation.Relation.html#7483" class="Bound"
      >a&#10239;b</a
      ><a name="7486"
      > </a
      ><a name="7487" href="Relation.Relation.html#3620" class="InductiveConstructor"
      >zero</a
      ><a name="7491"
      >    </a
      ><a name="7495" class="Symbol"
      >=</a
      ><a name="7496"
      > </a
      ><a name="7497" href="Relation.Relation.html#7478" class="Bound"
      >b</a
      ><a name="7498"
      > </a
      ><a name="7499" href="Data.Product.html#509" class="InductiveConstructor Operator"
      >,</a
      ><a name="7500"
      > </a
      ><a name="7501" href="Relation.Relation.html#3620" class="InductiveConstructor"
      >zero</a
      ><a name="7505"
      > </a
      ><a name="7506" href="Data.Product.html#509" class="InductiveConstructor Operator"
      >,</a
      ><a name="7507"
      > </a
      ><a name="7508" href="Relation.Relation.html#7483" class="Bound"
      >a&#10239;b</a
      ><a name="7511"
      > 
  </a
      ><a name="7515" href="Relation.Relation.html#7341" class="Function"
      >leg</a
      ><a name="7518"
      > </a
      ><a name="7519" class="Symbol"
      >{</a
      ><a name="7520" href="Relation.Relation.html#7520" class="Bound"
      >a</a
      ><a name="7521" class="Symbol"
      >}</a
      ><a name="7522"
      > </a
      ><a name="7523" class="Symbol"
      >{</a
      ><a name="7524" href="Relation.Relation.html#7524" class="Bound"
      >b</a
      ><a name="7525" class="Symbol"
      >}</a
      ><a name="7526"
      > </a
      ><a name="7527" class="Symbol"
      >{</a
      ><a name="7528" href="Relation.Relation.html#7528" class="Bound"
      >c</a
      ><a name="7529" class="Symbol"
      >}</a
      ><a name="7530"
      > </a
      ><a name="7531" href="Relation.Relation.html#7531" class="Bound"
      >&#9826;</a
      ><a name="7532"
      > </a
      ><a name="7533" href="Relation.Relation.html#7533" class="Bound"
      >a&#10239;b</a
      ><a name="7536"
      > </a
      ><a name="7537" class="Symbol"
      >(</a
      ><a name="7538" href="Relation.Relation.html#3682" class="InductiveConstructor"
      >one</a
      ><a name="7541"
      > </a
      ><a name="7542" href="Relation.Relation.html#7542" class="Bound"
      >a&#10239;c</a
      ><a name="7545" class="Symbol"
      >)</a
      ><a name="7546"
      > 
    </a
      ><a name="7552" class="Keyword"
      >with</a
      ><a name="7556"
      > </a
      ><a name="7557" href="Relation.Relation.html#7531" class="Bound"
      >&#9826;</a
      ><a name="7558"
      > </a
      ><a name="7559" href="Relation.Relation.html#7533" class="Bound"
      >a&#10239;b</a
      ><a name="7562"
      > </a
      ><a name="7563" href="Relation.Relation.html#7542" class="Bound"
      >a&#10239;c</a
      ><a name="7566"
      >
  </a
      ><a name="7569" class="Symbol"
      >...</a
      ><a name="7572"
      > </a
      ><a name="7573" class="Symbol"
      >|</a
      ><a name="7574"
      > </a
      ><a name="7575" href="Relation.Relation.html#7575" class="Bound"
      >d</a
      ><a name="7576"
      > </a
      ><a name="7577" href="Data.Product.html#509" class="InductiveConstructor Operator"
      >,</a
      ><a name="7578"
      > </a
      ><a name="7579" href="Relation.Relation.html#7579" class="Bound"
      >b&#10239;d</a
      ><a name="7582"
      > </a
      ><a name="7583" href="Data.Product.html#509" class="InductiveConstructor Operator"
      >,</a
      ><a name="7584"
      > </a
      ><a name="7585" href="Relation.Relation.html#7585" class="Bound"
      >c&#10239;d</a
      ><a name="7588"
      >      </a
      ><a name="7594" class="Symbol"
      >=</a
      ><a name="7595"
      > </a
      ><a name="7596" href="Relation.Relation.html#7575" class="Bound"
      >d</a
      ><a name="7597"
      > </a
      ><a name="7598" href="Data.Product.html#509" class="InductiveConstructor Operator"
      >,</a
      ><a name="7599"
      > </a
      ><a name="7600" href="Relation.Relation.html#3682" class="InductiveConstructor"
      >one</a
      ><a name="7603"
      > </a
      ><a name="7604" href="Relation.Relation.html#7579" class="Bound"
      >b&#10239;d</a
      ><a name="7607"
      > </a
      ><a name="7608" href="Data.Product.html#509" class="InductiveConstructor Operator"
      >,</a
      ><a name="7609"
      > </a
      ><a name="7610" href="Relation.Relation.html#7585" class="Bound"
      >c&#10239;d</a
      ><a name="7613"
      >
  </a
      ><a name="7616" href="Relation.Relation.html#7341" class="Function"
      >leg</a
      ><a name="7619"
      > </a
      ><a name="7620" href="Relation.Relation.html#7620" class="Bound"
      >&#9826;</a
      ><a name="7621"
      > </a
      ><a name="7622" href="Relation.Relation.html#7622" class="Bound"
      >a&#10239;b</a
      ><a name="7625"
      > </a
      ><a name="7626" class="Symbol"
      >(</a
      ><a name="7627" href="Relation.Relation.html#3743" class="InductiveConstructor"
      >more</a
      ><a name="7631"
      > </a
      ><a name="7632" href="Relation.Relation.html#7632" class="Bound"
      >a&#10239;c</a
      ><a name="7635"
      > </a
      ><a name="7636" href="Relation.Relation.html#7636" class="Bound"
      >c&#10239;*d&#8345;</a
      ><a name="7641" class="Symbol"
      >)</a
      ><a name="7642"
      > 
    </a
      ><a name="7648" class="Keyword"
      >with</a
      ><a name="7652"
      > </a
      ><a name="7653" href="Relation.Relation.html#7620" class="Bound"
      >&#9826;</a
      ><a name="7654"
      > </a
      ><a name="7655" href="Relation.Relation.html#7622" class="Bound"
      >a&#10239;b</a
      ><a name="7658"
      > </a
      ><a name="7659" href="Relation.Relation.html#7632" class="Bound"
      >a&#10239;c</a
      ><a name="7662"
      >
  </a
      ><a name="7665" class="Symbol"
      >...</a
      ><a name="7668"
      > </a
      ><a name="7669" class="Symbol"
      >|</a
      ><a name="7670"
      > </a
      ><a name="7671" href="Relation.Relation.html#7671" class="Bound"
      >d&#8321;</a
      ><a name="7673"
      > </a
      ><a name="7674" href="Data.Product.html#509" class="InductiveConstructor Operator"
      >,</a
      ><a name="7675"
      > </a
      ><a name="7676" href="Relation.Relation.html#7676" class="Bound"
      >b&#10239;d&#8321;</a
      ><a name="7680"
      > </a
      ><a name="7681" href="Data.Product.html#509" class="InductiveConstructor Operator"
      >,</a
      ><a name="7682"
      > </a
      ><a name="7683" href="Relation.Relation.html#7683" class="Bound"
      >c&#10239;d&#8321;</a
      ><a name="7687"
      > 
    </a
      ><a name="7693" class="Keyword"
      >with</a
      ><a name="7697"
      > </a
      ><a name="7698" href="Relation.Relation.html#7341" class="Function"
      >leg</a
      ><a name="7701"
      > </a
      ><a name="7702" href="Relation.Relation.html#7620" class="Bound"
      >&#9826;</a
      ><a name="7703"
      > </a
      ><a name="7704" href="Relation.Relation.html#7683" class="Bound"
      >c&#10239;d&#8321;</a
      ><a name="7708"
      > </a
      ><a name="7709" href="Relation.Relation.html#7636" class="Bound"
      >c&#10239;*d&#8345;</a
      ><a name="7714"
      >
  </a
      ><a name="7717" class="Symbol"
      >...</a
      ><a name="7720"
      > </a
      ><a name="7721" class="Symbol"
      >|</a
      ><a name="7722"
      > </a
      ><a name="7723" href="Relation.Relation.html#7723" class="Bound"
      >d&#8345;</a
      ><a name="7725"
      > </a
      ><a name="7726" href="Data.Product.html#509" class="InductiveConstructor Operator"
      >,</a
      ><a name="7727"
      > </a
      ><a name="7728" href="Relation.Relation.html#7728" class="Bound"
      >e&#10239;*d&#8345;</a
      ><a name="7733"
      > </a
      ><a name="7734" href="Data.Product.html#509" class="InductiveConstructor Operator"
      >,</a
      ><a name="7735"
      > </a
      ><a name="7736" href="Relation.Relation.html#7736" class="Bound"
      >d&#10239;d&#8345;</a
      ><a name="7740"
      >  </a
      ><a name="7742" class="Symbol"
      >=</a
      ><a name="7743"
      > </a
      ><a name="7744" href="Relation.Relation.html#7723" class="Bound"
      >d&#8345;</a
      ><a name="7746"
      > </a
      ><a name="7747" href="Data.Product.html#509" class="InductiveConstructor Operator"
      >,</a
      ><a name="7748"
      > </a
      ><a name="7749" href="Relation.Relation.html#3743" class="InductiveConstructor"
      >more</a
      ><a name="7753"
      > </a
      ><a name="7754" href="Relation.Relation.html#7676" class="Bound"
      >b&#10239;d&#8321;</a
      ><a name="7758"
      > </a
      ><a name="7759" href="Relation.Relation.html#7728" class="Bound"
      >e&#10239;*d&#8345;</a
      ><a name="7764"
      > </a
      ><a name="7765" href="Data.Product.html#509" class="InductiveConstructor Operator"
      >,</a
      ><a name="7766"
      > </a
      ><a name="7767" href="Relation.Relation.html#7736" class="Bound"
      >d&#10239;d&#8345;</a
      ><a name="7771"
      >
\end{code}
</a
      ><a name="7783" class="Comment"
      >
With this result at hand is easy to prove that the diamond property
implies Church-Rosser for the $n$-fold composition of the relation.
\begin{lemma}
Let $\reduction$ be diamantine, then it satisfies Church-Rosser for the
$n$-fold closure.
\end{lemma}
\begin{proof}
The proof is by induction on the second reduction and cases in the first one, using previous result all the non trivial cases. There exists another two cases symmetrical to the first two diagrams, so we omit them.

% base case
\noindent\begin{tikzpicture}[&gt;=latex,baseline,scale=0.8]
   \node (a) at (2,2) {$a$};
   \node (b) at (1,1) {$a$};
   \node (c) at (4,0) {$c$};
   \node (d) at (3,-1) {$c$};

   \draw [double] (a) -- (b) ;
   \draw [-&gt;] (a) -- (c) ;
   \draw[-&gt;] (b) -&gt; (d) ;
   \draw[double] (c) -&gt; (d) ;
\end{tikzpicture} 
% one reduction
\begin{tikzpicture}[&gt;=latex,baseline,scale=0.8]
   \node (a) at (2,2) {$a$};
   \node (b) at (1,1) {$b$};
   \node (cn) at (4,0) {$c_n$};
   \node (dn) at (3,-1) {$d$};
   \node (ih) at (2,1) {leg};

   \draw [-&gt;] (a) -- (b) ;
   \draw [-&gt;] (a) -- (cn) ;
   \draw[-&gt;] (b) -&gt; (dn) ;
   \draw[-&gt;] (cn) -&gt; (dn) ;
\end{tikzpicture} 
% more steps in both sides
\begin{tikzpicture}[&gt;=latex,baseline,scale=0.8]
   \node (a) at (2,2) {$a$};
   \node (b1) at (1,1) {$b_1$};
   \node (c1) at (3,1) {$c_1$};
   \node (bn) at (-1,-1) {$b_n$};
   \node (cn) at (5,-1) {$c_n$};
   \node (d1) at (0,-2) {$d_1$};
   \node (dn) at (2,-4) {$d_n$};
   \node (leg) at (1,0) {leg} ;
   \node (ih) at (3,-1) {i.h.};

   \draw [-&gt;] (a) -- (b1) ;
   \draw [-&gt;] (a) -- (c1) ;
   \draw [-&gt;] (b1) -- (bn) ;
   \draw [-&gt;] (c1) -- (cn) ;
   \draw[-&gt;] (c1) -&gt; (d1) ;
   \draw[-&gt;] (bn) -&gt; (d1) ;
   \draw[-&gt;] (d1) -&gt; (dn) ;
   \draw[-&gt;] (cn) -&gt; (dn) ;
\end{tikzpicture}
\end{proof}

</a
      ><a name="9553"
      >\begin{code}
  </a
      ><a name="9568" href="Relation.Relation.html#9568" class="Function"
      >diamond-cr-steps</a
      ><a name="9584"
      > </a
      ><a name="9585" class="Symbol"
      >:</a
      ><a name="9586"
      > </a
      ><a name="9587" class="Symbol"
      >{</a
      ><a name="9588" href="Relation.Relation.html#9588" class="Bound"
      >&#10239;</a
      ><a name="9589"
      > </a
      ><a name="9590" class="Symbol"
      >:</a
      ><a name="9591"
      > </a
      ><a name="9592" href="Relation.Relation.html#512" class="Function"
      >Rel</a
      ><a name="9595" class="Symbol"
      >}</a
      ><a name="9596"
      > </a
      ><a name="9597" class="Symbol"
      >&#8594;</a
      ><a name="9598"
      > </a
      ><a name="9599" href="Relation.Relation.html#4589" class="Function"
      >diamond</a
      ><a name="9606"
      > </a
      ><a name="9607" href="Relation.Relation.html#9588" class="Bound"
      >&#10239;</a
      ><a name="9608"
      > </a
      ><a name="9609" class="Symbol"
      >&#8594;</a
      ><a name="9610"
      > </a
      ><a name="9611" href="Relation.Relation.html#5635" class="Function"
      >cr-steps</a
      ><a name="9619"
      > </a
      ><a name="9620" href="Relation.Relation.html#9588" class="Bound"
      >&#10239;</a
      ><a name="9621"
      >
  </a
      ><a name="9624" href="Relation.Relation.html#9568" class="Function"
      >diamond-cr-steps</a
      ><a name="9640"
      > </a
      ><a name="9641" href="Relation.Relation.html#9641" class="Bound"
      >&#9826;</a
      ><a name="9642"
      > </a
      ><a name="9643" class="Symbol"
      >{</a
      ><a name="9644" href="Relation.Relation.html#9644" class="Bound"
      >a</a
      ><a name="9645" class="Symbol"
      >}</a
      ><a name="9646"
      > </a
      ><a name="9647" class="Symbol"
      >{</a
      ><a name="9648" class="DottedPattern Symbol"
      >.</a
      ><a name="9649" href="Relation.Relation.html#9644" class="DottedPattern Bound"
      >a</a
      ><a name="9650" class="Symbol"
      >}</a
      ><a name="9651"
      > </a
      ><a name="9652" class="Symbol"
      >{</a
      ><a name="9653" href="Relation.Relation.html#9653" class="Bound"
      >c</a
      ><a name="9654" class="Symbol"
      >}</a
      ><a name="9655"
      >   </a
      ><a name="9658" href="Relation.Relation.html#3620" class="InductiveConstructor"
      >zero</a
      ><a name="9662"
      >                  </a
      ><a name="9680" href="Relation.Relation.html#9680" class="Bound"
      >a&#10239;*c</a
      ><a name="9684"
      >  
    </a
      ><a name="9691" class="Symbol"
      >=</a
      ><a name="9692"
      > </a
      ><a name="9693" href="Relation.Relation.html#9653" class="Bound"
      >c</a
      ><a name="9694"
      > </a
      ><a name="9695" href="Data.Product.html#509" class="InductiveConstructor Operator"
      >,</a
      ><a name="9696"
      > </a
      ><a name="9697" href="Relation.Relation.html#9680" class="Bound"
      >a&#10239;*c</a
      ><a name="9701"
      > </a
      ><a name="9702" href="Data.Product.html#509" class="InductiveConstructor Operator"
      >,</a
      ><a name="9703"
      > </a
      ><a name="9704" href="Relation.Relation.html#3620" class="InductiveConstructor"
      >zero</a
      ><a name="9708"
      >
  </a
      ><a name="9711" href="Relation.Relation.html#9568" class="Function"
      >diamond-cr-steps</a
      ><a name="9727"
      > </a
      ><a name="9728" href="Relation.Relation.html#9728" class="Bound"
      >&#9826;</a
      ><a name="9729"
      >                </a
      ><a name="9745" class="Symbol"
      >(</a
      ><a name="9746" href="Relation.Relation.html#3682" class="InductiveConstructor"
      >one</a
      ><a name="9749"
      > </a
      ><a name="9750" href="Relation.Relation.html#9750" class="Bound"
      >a&#10239;b</a
      ><a name="9753" class="Symbol"
      >)</a
      ><a name="9754"
      >            </a
      ><a name="9766" href="Relation.Relation.html#9766" class="Bound"
      >a&#10239;*c</a
      ><a name="9770"
      > 
    </a
      ><a name="9776" class="Keyword"
      >with</a
      ><a name="9780"
      > </a
      ><a name="9781" href="Relation.Relation.html#7341" class="Function"
      >leg</a
      ><a name="9784"
      > </a
      ><a name="9785" href="Relation.Relation.html#9728" class="Bound"
      >&#9826;</a
      ><a name="9786"
      > </a
      ><a name="9787" href="Relation.Relation.html#9750" class="Bound"
      >a&#10239;b</a
      ><a name="9790"
      > </a
      ><a name="9791" href="Relation.Relation.html#9766" class="Bound"
      >a&#10239;*c</a
      ><a name="9795"
      >
  </a
      ><a name="9798" class="Symbol"
      >...</a
      ><a name="9801"
      > </a
      ><a name="9802" class="Symbol"
      >|</a
      ><a name="9803"
      > </a
      ><a name="9804" href="Relation.Relation.html#9804" class="Bound"
      >d</a
      ><a name="9805"
      > </a
      ><a name="9806" href="Data.Product.html#509" class="InductiveConstructor Operator"
      >,</a
      ><a name="9807"
      > </a
      ><a name="9808" href="Relation.Relation.html#9808" class="Bound"
      >b&#10239;*d</a
      ><a name="9812"
      > </a
      ><a name="9813" href="Data.Product.html#509" class="InductiveConstructor Operator"
      >,</a
      ><a name="9814"
      > </a
      ><a name="9815" href="Relation.Relation.html#9815" class="Bound"
      >c&#10239;d</a
      ><a name="9818"
      > </a
      ><a name="9819" class="Symbol"
      >=</a
      ><a name="9820"
      > </a
      ><a name="9821" href="Relation.Relation.html#9804" class="Bound"
      >d</a
      ><a name="9822"
      > </a
      ><a name="9823" href="Data.Product.html#509" class="InductiveConstructor Operator"
      >,</a
      ><a name="9824"
      > </a
      ><a name="9825" href="Relation.Relation.html#9808" class="Bound"
      >b&#10239;*d</a
      ><a name="9829"
      > </a
      ><a name="9830" href="Data.Product.html#509" class="InductiveConstructor Operator"
      >,</a
      ><a name="9831"
      > </a
      ><a name="9832" href="Relation.Relation.html#3682" class="InductiveConstructor"
      >one</a
      ><a name="9835"
      > </a
      ><a name="9836" href="Relation.Relation.html#9815" class="Bound"
      >c&#10239;d</a
      ><a name="9839"
      >
  </a
      ><a name="9842" href="Relation.Relation.html#9568" class="Function"
      >diamond-cr-steps</a
      ><a name="9858"
      > </a
      ><a name="9859" href="Relation.Relation.html#9859" class="Bound"
      >&#9826;</a
      ><a name="9860"
      > </a
      ><a name="9861" class="Symbol"
      >{</a
      ><a name="9862" href="Relation.Relation.html#9862" class="Bound"
      >a</a
      ><a name="9863" class="Symbol"
      >}</a
      ><a name="9864"
      > </a
      ><a name="9865" class="Symbol"
      >{</a
      ><a name="9866" href="Relation.Relation.html#9866" class="Bound"
      >b&#8345;</a
      ><a name="9868" class="Symbol"
      >}</a
      ><a name="9869"
      > </a
      ><a name="9870" class="Symbol"
      >{</a
      ><a name="9871" class="DottedPattern Symbol"
      >.</a
      ><a name="9872" href="Relation.Relation.html#9862" class="DottedPattern Bound"
      >a</a
      ><a name="9873" class="Symbol"
      >}</a
      ><a name="9874"
      >  </a
      ><a name="9876" class="Symbol"
      >(</a
      ><a name="9877" href="Relation.Relation.html#3743" class="InductiveConstructor"
      >more</a
      ><a name="9881"
      > </a
      ><a name="9882" href="Relation.Relation.html#9882" class="Bound"
      >a&#10239;b&#8321;</a
      ><a name="9886"
      > </a
      ><a name="9887" href="Relation.Relation.html#9887" class="Bound"
      >b&#8321;&#10239;*b&#8345;</a
      ><a name="9893" class="Symbol"
      >)</a
      ><a name="9894"
      >  </a
      ><a name="9896" href="Relation.Relation.html#3620" class="InductiveConstructor"
      >zero</a
      ><a name="9900"
      > 
    </a
      ><a name="9906" class="Symbol"
      >=</a
      ><a name="9907"
      > </a
      ><a name="9908" href="Relation.Relation.html#9866" class="Bound"
      >b&#8345;</a
      ><a name="9910"
      > </a
      ><a name="9911" href="Data.Product.html#509" class="InductiveConstructor Operator"
      >,</a
      ><a name="9912"
      > </a
      ><a name="9913" href="Relation.Relation.html#3620" class="InductiveConstructor"
      >zero</a
      ><a name="9917"
      > </a
      ><a name="9918" href="Data.Product.html#509" class="InductiveConstructor Operator"
      >,</a
      ><a name="9919"
      > </a
      ><a name="9920" href="Relation.Relation.html#3743" class="InductiveConstructor"
      >more</a
      ><a name="9924"
      > </a
      ><a name="9925" href="Relation.Relation.html#9882" class="Bound"
      >a&#10239;b&#8321;</a
      ><a name="9929"
      > </a
      ><a name="9930" href="Relation.Relation.html#9887" class="Bound"
      >b&#8321;&#10239;*b&#8345;</a
      ><a name="9936"
      >
  </a
      ><a name="9939" href="Relation.Relation.html#9568" class="Function"
      >diamond-cr-steps</a
      ><a name="9955"
      > </a
      ><a name="9956" href="Relation.Relation.html#9956" class="Bound"
      >&#9826;</a
      ><a name="9957"
      >                </a
      ><a name="9973" class="Symbol"
      >(</a
      ><a name="9974" href="Relation.Relation.html#3743" class="InductiveConstructor"
      >more</a
      ><a name="9978"
      > </a
      ><a name="9979" href="Relation.Relation.html#9979" class="Bound"
      >a&#10239;b&#8321;</a
      ><a name="9983"
      > </a
      ><a name="9984" href="Relation.Relation.html#9984" class="Bound"
      >b&#8321;&#10239;*b&#8345;</a
      ><a name="9990" class="Symbol"
      >)</a
      ><a name="9991"
      >  </a
      ><a name="9993" class="Symbol"
      >(</a
      ><a name="9994" href="Relation.Relation.html#3682" class="InductiveConstructor"
      >one</a
      ><a name="9997"
      > </a
      ><a name="9998" href="Relation.Relation.html#9998" class="Bound"
      >a&#10239;c</a
      ><a name="10001" class="Symbol"
      >)</a
      ><a name="10002"
      >
    </a
      ><a name="10007" class="Keyword"
      >with</a
      ><a name="10011"
      > </a
      ><a name="10012" href="Relation.Relation.html#7341" class="Function"
      >leg</a
      ><a name="10015"
      > </a
      ><a name="10016" href="Relation.Relation.html#9956" class="Bound"
      >&#9826;</a
      ><a name="10017"
      > </a
      ><a name="10018" href="Relation.Relation.html#9998" class="Bound"
      >a&#10239;c</a
      ><a name="10021"
      > </a
      ><a name="10022" class="Symbol"
      >(</a
      ><a name="10023" href="Relation.Relation.html#3743" class="InductiveConstructor"
      >more</a
      ><a name="10027"
      > </a
      ><a name="10028" href="Relation.Relation.html#9979" class="Bound"
      >a&#10239;b&#8321;</a
      ><a name="10032"
      > </a
      ><a name="10033" href="Relation.Relation.html#9984" class="Bound"
      >b&#8321;&#10239;*b&#8345;</a
      ><a name="10039" class="Symbol"
      >)</a
      ><a name="10040"
      >
  </a
      ><a name="10043" class="Symbol"
      >...</a
      ><a name="10046"
      > </a
      ><a name="10047" class="Symbol"
      >|</a
      ><a name="10048"
      > </a
      ><a name="10049" href="Relation.Relation.html#10049" class="Bound"
      >d</a
      ><a name="10050"
      > </a
      ><a name="10051" href="Data.Product.html#509" class="InductiveConstructor Operator"
      >,</a
      ><a name="10052"
      > </a
      ><a name="10053" href="Relation.Relation.html#10053" class="Bound"
      >c&#10239;*d</a
      ><a name="10057"
      > </a
      ><a name="10058" href="Data.Product.html#509" class="InductiveConstructor Operator"
      >,</a
      ><a name="10059"
      > </a
      ><a name="10060" href="Relation.Relation.html#10060" class="Bound"
      >b&#8345;&#10239;d</a
      ><a name="10064"
      > </a
      ><a name="10065" class="Symbol"
      >=</a
      ><a name="10066"
      > </a
      ><a name="10067" href="Relation.Relation.html#10049" class="Bound"
      >d</a
      ><a name="10068"
      > </a
      ><a name="10069" href="Data.Product.html#509" class="InductiveConstructor Operator"
      >,</a
      ><a name="10070"
      > </a
      ><a name="10071" href="Relation.Relation.html#3682" class="InductiveConstructor"
      >one</a
      ><a name="10074"
      > </a
      ><a name="10075" href="Relation.Relation.html#10060" class="Bound"
      >b&#8345;&#10239;d</a
      ><a name="10079"
      > </a
      ><a name="10080" href="Data.Product.html#509" class="InductiveConstructor Operator"
      >,</a
      ><a name="10081"
      > </a
      ><a name="10082" href="Relation.Relation.html#10053" class="Bound"
      >c&#10239;*d</a
      ><a name="10086"
      >
  </a
      ><a name="10089" href="Relation.Relation.html#9568" class="Function"
      >diamond-cr-steps</a
      ><a name="10105"
      > </a
      ><a name="10106" href="Relation.Relation.html#10106" class="Bound"
      >&#9826;</a
      ><a name="10107"
      >                </a
      ><a name="10123" class="Symbol"
      >(</a
      ><a name="10124" href="Relation.Relation.html#3743" class="InductiveConstructor"
      >more</a
      ><a name="10128"
      > </a
      ><a name="10129" href="Relation.Relation.html#10129" class="Bound"
      >a&#10239;b&#8321;</a
      ><a name="10133"
      > </a
      ><a name="10134" href="Relation.Relation.html#10134" class="Bound"
      >b&#8321;&#10239;*b&#8345;</a
      ><a name="10140" class="Symbol"
      >)</a
      ><a name="10141"
      >  </a
      ><a name="10143" class="Symbol"
      >(</a
      ><a name="10144" href="Relation.Relation.html#3743" class="InductiveConstructor"
      >more</a
      ><a name="10148"
      > </a
      ><a name="10149" href="Relation.Relation.html#10149" class="Bound"
      >a&#10239;c&#8321;</a
      ><a name="10153"
      > </a
      ><a name="10154" href="Relation.Relation.html#10154" class="Bound"
      >c&#8321;&#10239;*c&#8345;</a
      ><a name="10160" class="Symbol"
      >)</a
      ><a name="10161"
      >
    </a
      ><a name="10166" class="Keyword"
      >with</a
      ><a name="10170"
      > </a
      ><a name="10171" href="Relation.Relation.html#7341" class="Function"
      >leg</a
      ><a name="10174"
      > </a
      ><a name="10175" href="Relation.Relation.html#10106" class="Bound"
      >&#9826;</a
      ><a name="10176"
      > </a
      ><a name="10177" href="Relation.Relation.html#10149" class="Bound"
      >a&#10239;c&#8321;</a
      ><a name="10181"
      > </a
      ><a name="10182" class="Symbol"
      >(</a
      ><a name="10183" href="Relation.Relation.html#3743" class="InductiveConstructor"
      >more</a
      ><a name="10187"
      > </a
      ><a name="10188" href="Relation.Relation.html#10129" class="Bound"
      >a&#10239;b&#8321;</a
      ><a name="10192"
      > </a
      ><a name="10193" href="Relation.Relation.html#10134" class="Bound"
      >b&#8321;&#10239;*b&#8345;</a
      ><a name="10199" class="Symbol"
      >)</a
      ><a name="10200"
      >
  </a
      ><a name="10203" class="Symbol"
      >...</a
      ><a name="10206"
      > </a
      ><a name="10207" class="Symbol"
      >|</a
      ><a name="10208"
      > </a
      ><a name="10209" href="Relation.Relation.html#10209" class="Bound"
      >d&#8321;</a
      ><a name="10211"
      > </a
      ><a name="10212" href="Data.Product.html#509" class="InductiveConstructor Operator"
      >,</a
      ><a name="10213"
      > </a
      ><a name="10214" href="Relation.Relation.html#10214" class="Bound"
      >c&#8321;&#10239;*d&#8321;</a
      ><a name="10220"
      > </a
      ><a name="10221" href="Data.Product.html#509" class="InductiveConstructor Operator"
      >,</a
      ><a name="10222"
      > </a
      ><a name="10223" href="Relation.Relation.html#10223" class="Bound"
      >b&#8345;&#10239;d&#8321;</a
      ><a name="10228"
      > 
    </a
      ><a name="10234" class="Keyword"
      >with</a
      ><a name="10238"
      > </a
      ><a name="10239" href="Relation.Relation.html#9568" class="Function"
      >diamond-cr-steps</a
      ><a name="10255"
      > </a
      ><a name="10256" href="Relation.Relation.html#10106" class="Bound"
      >&#9826;</a
      ><a name="10257"
      > </a
      ><a name="10258" href="Relation.Relation.html#10214" class="Bound"
      >c&#8321;&#10239;*d&#8321;</a
      ><a name="10264"
      > </a
      ><a name="10265" href="Relation.Relation.html#10154" class="Bound"
      >c&#8321;&#10239;*c&#8345;</a
      ><a name="10271"
      >
  </a
      ><a name="10274" class="Symbol"
      >...</a
      ><a name="10277"
      > </a
      ><a name="10278" class="Symbol"
      >|</a
      ><a name="10279"
      > </a
      ><a name="10280" href="Relation.Relation.html#10280" class="Bound"
      >d&#8345;</a
      ><a name="10282"
      > </a
      ><a name="10283" href="Data.Product.html#509" class="InductiveConstructor Operator"
      >,</a
      ><a name="10284"
      > </a
      ><a name="10285" href="Relation.Relation.html#10285" class="Bound"
      >d&#8321;&#10239;*d&#8345;</a
      ><a name="10291"
      > </a
      ><a name="10292" href="Data.Product.html#509" class="InductiveConstructor Operator"
      >,</a
      ><a name="10293"
      > </a
      ><a name="10294" href="Relation.Relation.html#10294" class="Bound"
      >c&#8345;&#10239;*d&#8345;</a
      ><a name="10300"
      >  
    </a
      ><a name="10307" class="Symbol"
      >=</a
      ><a name="10308"
      > </a
      ><a name="10309" href="Relation.Relation.html#10280" class="Bound"
      >d&#8345;</a
      ><a name="10311"
      > </a
      ><a name="10312" href="Data.Product.html#509" class="InductiveConstructor Operator"
      >,</a
      ><a name="10313"
      > </a
      ><a name="10314" href="Relation.Relation.html#3743" class="InductiveConstructor"
      >more</a
      ><a name="10318"
      > </a
      ><a name="10319" href="Relation.Relation.html#10223" class="Bound"
      >b&#8345;&#10239;d&#8321;</a
      ><a name="10324"
      >  </a
      ><a name="10326" href="Relation.Relation.html#10285" class="Bound"
      >d&#8321;&#10239;*d&#8345;</a
      ><a name="10332"
      > </a
      ><a name="10333" href="Data.Product.html#509" class="InductiveConstructor Operator"
      >,</a
      ><a name="10334"
      > </a
      ><a name="10335" href="Relation.Relation.html#10294" class="Bound"
      >c&#8345;&#10239;*d&#8345;</a
      ><a name="10341"
      >
\end{code}
</a
      ><a name="10353" class="Comment"
      >
Since both statements of the transitive closure are equivalent,
from cr-steps we can deduce church-rosser for any relation having
the diamond property.

</a
      ><a name="10507"
      >\begin{code}
  </a
      ><a name="10522" href="Relation.Relation.html#10522" class="Function"
      >diamond-cr</a
      ><a name="10532"
      > </a
      ><a name="10533" class="Symbol"
      >:</a
      ><a name="10534"
      > </a
      ><a name="10535" class="Symbol"
      >{</a
      ><a name="10536" href="Relation.Relation.html#10536" class="Bound"
      >&#10239;</a
      ><a name="10537"
      > </a
      ><a name="10538" class="Symbol"
      >:</a
      ><a name="10539"
      > </a
      ><a name="10540" href="Relation.Relation.html#512" class="Function"
      >Rel</a
      ><a name="10543" class="Symbol"
      >}</a
      ><a name="10544"
      > </a
      ><a name="10545" class="Symbol"
      >&#8594;</a
      ><a name="10546"
      > </a
      ><a name="10547" href="Relation.Relation.html#4589" class="Function"
      >diamond</a
      ><a name="10554"
      > </a
      ><a name="10555" href="Relation.Relation.html#10536" class="Bound"
      >&#10239;</a
      ><a name="10556"
      > </a
      ><a name="10557" class="Symbol"
      >&#8594;</a
      ><a name="10558"
      > </a
      ><a name="10559" href="Relation.Relation.html#5503" class="Function"
      >cr</a
      ><a name="10561"
      > </a
      ><a name="10562" href="Relation.Relation.html#10536" class="Bound"
      >&#10239;</a
      ><a name="10563"
      >
  </a
      ><a name="10566" href="Relation.Relation.html#10522" class="Function"
      >diamond-cr</a
      ><a name="10576"
      > </a
      ><a name="10577" href="Relation.Relation.html#10577" class="Bound"
      >&#9826;</a
      ><a name="10578"
      > </a
      ><a name="10579" class="Symbol"
      >=</a
      ><a name="10580"
      > </a
      ><a name="10581" href="Relation.Relation.html#5700" class="Function"
      >cr-steps-to-cr</a
      ><a name="10595"
      > </a
      ><a name="10596" class="Symbol"
      >(</a
      ><a name="10597" href="Relation.Relation.html#9568" class="Function"
      >diamond-cr-steps</a
      ><a name="10613"
      > </a
      ><a name="10614" href="Relation.Relation.html#10577" class="Bound"
      >&#9826;</a
      ><a name="10615" class="Symbol"
      >)</a
      ><a name="10616"
      >

  </a
      ><a name="10620" class="Comment"
      >-- diamond-crP : {&#10239; : Rel}(P : A &#8594; Set l) &#8594; diamondP P &#10239; &#8594; crP P &#10239;</a
      ><a name="10686"
      >
  </a
      ><a name="10689" class="Comment"
      >-- diamond-crP P &#9826; = {!!}</a
      ><a name="10714"
      >

\end{code}
</a
      ><a name="10727" class="Comment"
      >
\begin{lemma} 
Let $R$ and $S$ be two relations such that $S\subseteq R$ and $\transclos R\subseteq S$, if
$R$ is Church-Rosser, then $S$ is also.
\end{lemma}
\begin{proof}
The proof is immediate: let $a\,\transclos S\,b$ and $a\,\transclos S\,c$, by the first hypothesis and $mon-star$\ lemma
we know both $a\,\transclos R\,b$ and $a\,\transclos R\,c$. By Church-Rosser for $R$ we get an element
$d$ with proofs of $b\,\transclos R\,d$ and $c\,\transclos R\,d$; by the second hypothesis and $trans-&#8838;-star$\ lemma we conclude
$b\,\transclos S\,d$ and $c\,\transclos S\,d$.
\end{proof}

</a
      ><a name="11314"
      >\begin{code}
  </a
      ><a name="11329" href="Relation.Relation.html#11329" class="Function"
      >cr-&#8838;</a
      ><a name="11333"
      > </a
      ><a name="11334" class="Symbol"
      >:</a
      ><a name="11335"
      > </a
      ><a name="11336" class="Symbol"
      >{</a
      ><a name="11337" href="Relation.Relation.html#11337" class="Bound"
      >R</a
      ><a name="11338"
      > </a
      ><a name="11339" href="Relation.Relation.html#11339" class="Bound"
      >S</a
      ><a name="11340"
      > </a
      ><a name="11341" class="Symbol"
      >:</a
      ><a name="11342"
      > </a
      ><a name="11343" href="Relation.Relation.html#512" class="Function"
      >Rel</a
      ><a name="11346" class="Symbol"
      >}</a
      ><a name="11347"
      > </a
      ><a name="11348" class="Symbol"
      >&#8594;</a
      ><a name="11349"
      > </a
      ><a name="11350" href="Relation.Relation.html#11339" class="Bound"
      >S</a
      ><a name="11351"
      > </a
      ><a name="11352" href="Relation.Relation.html#1391" class="Function Operator"
      >&#8838;</a
      ><a name="11353"
      > </a
      ><a name="11354" href="Relation.Relation.html#11337" class="Bound"
      >R</a
      ><a name="11355"
      > </a
      ><a name="11356" class="Symbol"
      >&#8594;</a
      ><a name="11357"
      > </a
      ><a name="11358" href="Relation.Relation.html#11337" class="Bound"
      >R</a
      ><a name="11359"
      > </a
      ><a name="11360" href="Relation.Relation.html#1391" class="Function Operator"
      >&#8838;</a
      ><a name="11361"
      > </a
      ><a name="11362" href="Relation.Relation.html#2196" class="Datatype"
      >star</a
      ><a name="11366"
      > </a
      ><a name="11367" href="Relation.Relation.html#11339" class="Bound"
      >S</a
      ><a name="11368"
      > </a
      ><a name="11369" class="Symbol"
      >&#8594;</a
      ><a name="11370"
      > </a
      ><a name="11371" href="Relation.Relation.html#5503" class="Function"
      >cr</a
      ><a name="11373"
      > </a
      ><a name="11374" href="Relation.Relation.html#11337" class="Bound"
      >R</a
      ><a name="11375"
      > </a
      ><a name="11376" class="Symbol"
      >&#8594;</a
      ><a name="11377"
      > </a
      ><a name="11378" href="Relation.Relation.html#5503" class="Function"
      >cr</a
      ><a name="11380"
      > </a
      ><a name="11381" href="Relation.Relation.html#11339" class="Bound"
      >S</a
      ><a name="11382"
      >
  </a
      ><a name="11385" href="Relation.Relation.html#11329" class="Function"
      >cr-&#8838;</a
      ><a name="11389"
      > </a
      ><a name="11390" href="Relation.Relation.html#11390" class="Bound"
      >S&#8838;R</a
      ><a name="11393"
      > </a
      ><a name="11394" href="Relation.Relation.html#11394" class="Bound"
      >R&#8838;S&#8902;</a
      ><a name="11398"
      > </a
      ><a name="11399" href="Relation.Relation.html#11399" class="Bound"
      >cr</a
      ><a name="11401"
      > </a
      ><a name="11402" href="Relation.Relation.html#11402" class="Bound"
      >aR&#8902;b</a
      ><a name="11406"
      > </a
      ><a name="11407" href="Relation.Relation.html#11407" class="Bound"
      >aR&#8902;c</a
      ><a name="11411"
      >
    </a
      ><a name="11416" class="Keyword"
      >with</a
      ><a name="11420"
      > </a
      ><a name="11421" href="Relation.Relation.html#11399" class="Bound"
      >cr</a
      ><a name="11423"
      > </a
      ><a name="11424" class="Symbol"
      >(</a
      ><a name="11425" href="Relation.Relation.html#2358" class="Function"
      >mon-star</a
      ><a name="11433"
      > </a
      ><a name="11434" href="Relation.Relation.html#11390" class="Bound"
      >S&#8838;R</a
      ><a name="11437"
      > </a
      ><a name="11438" href="Relation.Relation.html#11402" class="Bound"
      >aR&#8902;b</a
      ><a name="11442" class="Symbol"
      >)</a
      ><a name="11443"
      > </a
      ><a name="11444" class="Symbol"
      >(</a
      ><a name="11445" href="Relation.Relation.html#2358" class="Function"
      >mon-star</a
      ><a name="11453"
      > </a
      ><a name="11454" href="Relation.Relation.html#11390" class="Bound"
      >S&#8838;R</a
      ><a name="11457"
      > </a
      ><a name="11458" href="Relation.Relation.html#11407" class="Bound"
      >aR&#8902;c</a
      ><a name="11462" class="Symbol"
      >)</a
      ><a name="11463"
      >
  </a
      ><a name="11466" class="Symbol"
      >...</a
      ><a name="11469"
      > </a
      ><a name="11470" class="Symbol"
      >|</a
      ><a name="11471"
      > </a
      ><a name="11472" href="Relation.Relation.html#11472" class="Bound"
      >d</a
      ><a name="11473"
      > </a
      ><a name="11474" href="Data.Product.html#509" class="InductiveConstructor Operator"
      >,</a
      ><a name="11475"
      > </a
      ><a name="11476" href="Relation.Relation.html#11476" class="Bound"
      >bR&#8902;d</a
      ><a name="11480"
      > </a
      ><a name="11481" href="Data.Product.html#509" class="InductiveConstructor Operator"
      >,</a
      ><a name="11482"
      > </a
      ><a name="11483" href="Relation.Relation.html#11483" class="Bound"
      >cR&#8902;d</a
      ><a name="11487"
      > 
    </a
      ><a name="11493" class="Symbol"
      >=</a
      ><a name="11494"
      >  </a
      ><a name="11496" href="Relation.Relation.html#11472" class="Bound"
      >d</a
      ><a name="11497"
      >                       </a
      ><a name="11520" href="Data.Product.html#509" class="InductiveConstructor Operator"
      >,</a
      ><a name="11521"
      >  
       </a
      ><a name="11531" href="Relation.Relation.html#2743" class="Function"
      >trans-&#8838;-star</a
      ><a name="11543"
      > </a
      ><a name="11544" href="Relation.Relation.html#11394" class="Bound"
      >R&#8838;S&#8902;</a
      ><a name="11548"
      > </a
      ><a name="11549" href="Relation.Relation.html#11476" class="Bound"
      >bR&#8902;d</a
      ><a name="11553"
      >  </a
      ><a name="11555" href="Data.Product.html#509" class="InductiveConstructor Operator"
      >,</a
      ><a name="11556"
      > 
       </a
      ><a name="11565" href="Relation.Relation.html#2743" class="Function"
      >trans-&#8838;-star</a
      ><a name="11577"
      > </a
      ><a name="11578" href="Relation.Relation.html#11394" class="Bound"
      >R&#8838;S&#8902;</a
      ><a name="11582"
      > </a
      ><a name="11583" href="Relation.Relation.html#11483" class="Bound"
      >cR&#8902;d</a
      ><a name="11587"
      >

  </a
      ><a name="11591" class="Comment"
      >-- crP-&#8838; : {R S : Rel}{P : A &#8594; Set l} &#8594; S &#8838; R &#8594; R &#8838; star S &#8594; crP P R  &#8594; crP P S</a
      ><a name="11670"
      >
  </a
      ><a name="11673" class="Comment"
      >-- crP-&#8838; {P = P} S&#8838;R R&#8838;S&#8902; cr Pa aR&#8902;b aR&#8902;c </a
      ><a name="11715"
      >
  </a
      ><a name="11718" class="Comment"
      >--   with cr Pa (mon-star S&#8838;R aR&#8902;b) (mon-star S&#8838;R aR&#8902;c)</a
      ><a name="11773"
      >
  </a
      ><a name="11776" class="Comment"
      >-- ... | d , bR&#8902;d , cR&#8902;d </a
      ><a name="11801"
      >
  </a
      ><a name="11804" class="Comment"
      >--   =  d                       ,  </a
      ><a name="11839"
      >
  </a
      ><a name="11842" class="Comment"
      >--      trans-&#8838;-star R&#8838;S&#8902; bR&#8902;d  , </a
      ><a name="11876"
      >
  </a
      ><a name="11879" class="Comment"
      >--      trans-&#8838;-star R&#8838;S&#8902; cR&#8902;d</a
      ><a name="11909"
      >
\end{code}
</a
      ><a name="11921" class="Comment"
      >%&lt;/Relation&gt;

\end{document}
</a
      ></pre
    ></body
  ></html
>
