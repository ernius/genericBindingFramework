Swap

\begin{code}%
\>\AgdaKeyword{module} \AgdaModule{Swap} \AgdaKeyword{where}\<%
\\
%
\\
\>\AgdaKeyword{open} \AgdaKeyword{import} \AgdaModule{Atom}\<%
\\
\>\AgdaKeyword{open} \AgdaKeyword{import} \AgdaModule{GPBindings} \<[23]%
\>[23]\<%
\\
\>\AgdaKeyword{open} \AgdaKeyword{import} \AgdaModule{Nat.NatProperties}\<%
\\
%
\\
\>\AgdaKeyword{open} \AgdaKeyword{import} \AgdaModule{Function}\<%
\\
\>\AgdaKeyword{open} \AgdaKeyword{import} \AgdaModule{Data.Nat} \AgdaKeyword{hiding} \AgdaSymbol{(}\AgdaFunction{fold}\AgdaSymbol{)}\<%
\\
\>\AgdaKeyword{open} \AgdaKeyword{import} \AgdaModule{Data.Unit}\<%
\\
\>\AgdaKeyword{open} \AgdaKeyword{import} \AgdaModule{Data.Empty}\<%
\\
\>\AgdaKeyword{open} \AgdaKeyword{import} \AgdaModule{Relation.Nullary}\<%
\\
\>\AgdaKeyword{open} \AgdaKeyword{import} \AgdaModule{Data.Sum}\<%
\\
\>\AgdaKeyword{open} \AgdaKeyword{import} \AgdaModule{Data.Product} \AgdaKeyword{hiding} \AgdaSymbol{(}\AgdaFunction{swap}\AgdaSymbol{)}\<%
\\
\>\AgdaKeyword{open} \AgdaKeyword{import} \AgdaModule{Relation.Binary.PropositionalEquality} \AgdaSymbol{as} \AgdaModule{PropEq} \AgdaKeyword{hiding} \AgdaSymbol{(}\AgdaInductiveConstructor{[\_]}\AgdaSymbol{)}\<%
\\
\>\AgdaKeyword{open} \AgdaModule{PropEq.}\AgdaModule{≡-Reasoning} \AgdaKeyword{renaming} \AgdaSymbol{(}\AgdaFunction{begin\_} \AgdaSymbol{to} \AgdaFunction{begin≡\_}\AgdaSymbol{;}\AgdaFunction{\_∎} \AgdaSymbol{to} \AgdaFunction{\_■}\AgdaSymbol{)}\<%
\end{code}

%<*swapF>
\begin{code}%
\>\AgdaFunction{swapF} \<[7]%
\>[7]\AgdaSymbol{:} \<[10]%
\>[10]\AgdaSymbol{\{}\AgdaBound{F} \AgdaSymbol{:} \AgdaDatatype{Functor}\AgdaSymbol{\}(}\AgdaBound{G} \AgdaSymbol{:} \AgdaDatatype{Functor}\AgdaSymbol{)} \AgdaSymbol{→} \AgdaFunction{Sort} \AgdaSymbol{→} \AgdaFunction{V} \AgdaSymbol{→} \AgdaFunction{V} \AgdaSymbol{→} \AgdaFunction{⟦} \AgdaBound{G} \AgdaFunction{⟧} \AgdaSymbol{(}\AgdaDatatype{μ} \AgdaBound{F}\AgdaSymbol{)} \AgdaSymbol{→} \AgdaFunction{⟦} \AgdaBound{G} \AgdaFunction{⟧} \AgdaSymbol{(}\AgdaDatatype{μ} \AgdaBound{F}\AgdaSymbol{)}\<%
\\
\>\AgdaFunction{swapF} \AgdaInductiveConstructor{|1|} \<[20]%
\>[20]\AgdaBound{S} \AgdaBound{a} \AgdaBound{b} \AgdaInductiveConstructor{tt} \<[37]%
\>[37]\AgdaSymbol{=} \<[40]%
\>[40]\AgdaInductiveConstructor{tt}\<%
\\
\>\AgdaFunction{swapF} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaInductiveConstructor{|R|} \<[20]%
\>[20]\AgdaBound{S} \AgdaBound{a} \AgdaBound{b} \AgdaInductiveConstructor{⟨} \AgdaBound{e} \AgdaInductiveConstructor{⟩} \<[37]%
\>[37]\AgdaSymbol{=} \<[40]%
\>[40]\AgdaInductiveConstructor{⟨} \AgdaFunction{swapF} \AgdaBound{F} \AgdaBound{S} \AgdaBound{a} \AgdaBound{b} \AgdaBound{e} \AgdaInductiveConstructor{⟩}\<%
\\
\>\AgdaFunction{swapF} \AgdaSymbol{(}\AgdaInductiveConstructor{|E|} \<[14]%
\>[14]\AgdaSymbol{\_)} \<[20]%
\>[20]\AgdaBound{S} \AgdaBound{a} \AgdaBound{b} \AgdaBound{e} \<[37]%
\>[37]\AgdaSymbol{=} \<[40]%
\>[40]\AgdaBound{e}\<%
\\
\>\AgdaFunction{swapF} \AgdaSymbol{(}\AgdaInductiveConstructor{|Ef|} \<[14]%
\>[14]\AgdaBound{G}\AgdaSymbol{)} \<[20]%
\>[20]\AgdaBound{S} \AgdaBound{a} \AgdaBound{b} \AgdaInductiveConstructor{⟨} \AgdaBound{e} \AgdaInductiveConstructor{⟩} \<[37]%
\>[37]\AgdaSymbol{=} \<[40]%
\>[40]\AgdaInductiveConstructor{⟨} \AgdaFunction{swapF} \AgdaBound{G} \AgdaBound{S} \AgdaBound{a} \AgdaBound{b} \AgdaBound{e} \AgdaInductiveConstructor{⟩}\<%
\\
\>\AgdaFunction{swapF} \AgdaSymbol{(}\AgdaBound{G₁} \AgdaInductiveConstructor{|+|} \<[15]%
\>[15]\AgdaBound{G₂}\AgdaSymbol{)} \<[20]%
\>[20]\AgdaBound{S} \AgdaBound{a} \AgdaBound{b} \AgdaSymbol{(}\AgdaInductiveConstructor{inj₁} \AgdaBound{e}\AgdaSymbol{)} \<[37]%
\>[37]\AgdaSymbol{=} \<[40]%
\>[40]\AgdaInductiveConstructor{inj₁} \AgdaSymbol{(}\AgdaFunction{swapF} \AgdaBound{G₁} \AgdaBound{S} \AgdaBound{a} \AgdaBound{b} \AgdaBound{e}\AgdaSymbol{)}\<%
\\
\>\AgdaFunction{swapF} \AgdaSymbol{(}\AgdaBound{G₁} \AgdaInductiveConstructor{|+|} \<[15]%
\>[15]\AgdaBound{G₂}\AgdaSymbol{)} \<[20]%
\>[20]\AgdaBound{S} \AgdaBound{a} \AgdaBound{b} \AgdaSymbol{(}\AgdaInductiveConstructor{inj₂} \AgdaBound{e}\AgdaSymbol{)} \<[37]%
\>[37]\AgdaSymbol{=} \<[40]%
\>[40]\AgdaInductiveConstructor{inj₂} \AgdaSymbol{(}\AgdaFunction{swapF} \AgdaBound{G₂} \AgdaBound{S} \AgdaBound{a} \AgdaBound{b} \AgdaBound{e}\AgdaSymbol{)}\<%
\\
\>\AgdaFunction{swapF} \AgdaSymbol{(}\AgdaBound{G₁} \AgdaInductiveConstructor{|x|} \<[15]%
\>[15]\AgdaBound{G₂}\AgdaSymbol{)} \<[20]%
\>[20]\AgdaBound{S} \AgdaBound{a} \AgdaBound{b} \AgdaSymbol{(}\AgdaBound{e₁} \AgdaInductiveConstructor{,} \AgdaBound{e₂}\AgdaSymbol{)} \<[37]%
\>[37]\AgdaSymbol{=} \<[40]%
\>[40]\AgdaFunction{swapF} \AgdaBound{G₁} \AgdaBound{S} \AgdaBound{a} \AgdaBound{b} \AgdaBound{e₁} \<[59]%
\>[59]\AgdaInductiveConstructor{,} \AgdaFunction{swapF} \AgdaBound{G₂} \AgdaBound{S} \AgdaBound{a} \AgdaBound{b} \AgdaBound{e₂}\<%
\\
\>\AgdaFunction{swapF} \AgdaSymbol{(}\AgdaInductiveConstructor{|v|} \<[14]%
\>[14]\AgdaBound{S'}\AgdaSymbol{)} \<[20]%
\>[20]\AgdaBound{S} \AgdaBound{a} \AgdaBound{b} \AgdaBound{c} \AgdaKeyword{with} \AgdaBound{S'} \AgdaFunction{≟S} \AgdaBound{S}\<%
\\
\>\AgdaSymbol{...} \AgdaSymbol{|} \AgdaInductiveConstructor{yes} \<[11]%
\>[11]\AgdaSymbol{\_} \<[37]%
\>[37]\AgdaSymbol{=} \<[40]%
\>[40]\AgdaFunction{（} \AgdaBound{a} \AgdaFunction{∙} \AgdaBound{b} \AgdaFunction{）ₐ} \AgdaBound{c}\<%
\\
\>\AgdaSymbol{...} \AgdaSymbol{|} \AgdaInductiveConstructor{no} \<[11]%
\>[11]\AgdaSymbol{\_} \<[37]%
\>[37]\AgdaSymbol{=} \<[40]%
\>[40]\AgdaBound{c}\<%
\\
\>\AgdaFunction{swapF} \AgdaSymbol{(}\AgdaInductiveConstructor{|B|} \AgdaBound{S'} \<[15]%
\>[15]\AgdaBound{G}\AgdaSymbol{)} \<[20]%
\>[20]\AgdaBound{S} \AgdaBound{a} \AgdaBound{b} \AgdaSymbol{(}\AgdaBound{c} \AgdaInductiveConstructor{,} \AgdaBound{e}\AgdaSymbol{)} \AgdaKeyword{with} \AgdaBound{S'} \AgdaFunction{≟S} \AgdaBound{S}\<%
\\
\>\AgdaSymbol{...} \AgdaSymbol{|} \AgdaInductiveConstructor{yes} \<[11]%
\>[11]\AgdaSymbol{\_} \<[36]%
\>[36]\AgdaSymbol{=} \<[40]%
\>[40]\AgdaFunction{（} \AgdaBound{a} \AgdaFunction{∙} \AgdaBound{b} \AgdaFunction{）ₐ} \<[53]%
\>[53]\AgdaBound{c} \<[59]%
\>[59]\AgdaInductiveConstructor{,} \AgdaFunction{swapF} \AgdaBound{G} \AgdaBound{S} \AgdaBound{a} \AgdaBound{b} \AgdaBound{e}\<%
\\
\>\AgdaSymbol{...} \AgdaSymbol{|} \AgdaInductiveConstructor{no} \<[11]%
\>[11]\AgdaSymbol{\_} \<[36]%
\>[36]\AgdaSymbol{=} \<[40]%
\>[40]\AgdaBound{c} \<[59]%
\>[59]\AgdaInductiveConstructor{,} \AgdaFunction{swapF} \AgdaBound{G} \AgdaBound{S} \AgdaBound{a} \AgdaBound{b} \AgdaBound{e}\<%
\end{code}
%</swapF>

%<*swap>
\begin{code}%
\>\AgdaFunction{swap} \AgdaSymbol{:} \AgdaSymbol{\{}\AgdaBound{F} \AgdaSymbol{:} \AgdaDatatype{Functor}\AgdaSymbol{\}} \AgdaSymbol{→} \AgdaFunction{Sort} \AgdaSymbol{→} \AgdaFunction{V} \AgdaSymbol{→} \AgdaFunction{V} \AgdaSymbol{→} \AgdaDatatype{μ} \AgdaBound{F} \AgdaSymbol{→} \AgdaDatatype{μ} \AgdaBound{F}\<%
\\
\>\AgdaFunction{swap} \AgdaBound{S} \AgdaBound{a} \AgdaBound{b} \AgdaBound{e} \AgdaSymbol{=} \AgdaFunction{swapF} \AgdaInductiveConstructor{|R|} \AgdaBound{S} \AgdaBound{a} \AgdaBound{b} \AgdaBound{e}\<%
\end{code}
%</swap>

\begin{code}%
\>\AgdaFunction{lemmaSwapId} \AgdaSymbol{:} \AgdaSymbol{\{}\AgdaBound{F} \AgdaBound{G} \AgdaSymbol{:} \AgdaDatatype{Functor}\AgdaSymbol{\}\{}\AgdaBound{S} \AgdaSymbol{:} \AgdaFunction{Sort}\AgdaSymbol{\}\{}\AgdaBound{a} \AgdaSymbol{:} \AgdaFunction{V}\AgdaSymbol{\}\{}\AgdaBound{e} \AgdaSymbol{:} \AgdaFunction{⟦} \AgdaBound{G} \AgdaFunction{⟧} \AgdaSymbol{(}\AgdaDatatype{μ} \AgdaBound{F}\AgdaSymbol{)\}} \AgdaSymbol{→} \AgdaBound{e} \AgdaDatatype{≡} \AgdaFunction{swapF} \AgdaBound{G} \AgdaBound{S} \AgdaBound{a} \AgdaBound{a} \AgdaBound{e}\<%
\\
\>\AgdaFunction{lemmaSwapId} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaInductiveConstructor{|1|}\AgdaSymbol{\}} \<[28]%
\>[28]\AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{e}\AgdaSymbol{\}} \<[46]%
\>[46]\AgdaSymbol{=} \AgdaInductiveConstructor{refl}\<%
\\
\>\AgdaFunction{lemmaSwapId} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaInductiveConstructor{|R|}\AgdaSymbol{\}} \<[28]%
\>[28]\AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaInductiveConstructor{⟨} \AgdaBound{e} \AgdaInductiveConstructor{⟩}\AgdaSymbol{\}} \<[46]%
\>[46]\AgdaSymbol{=} \AgdaFunction{cong} \AgdaSymbol{(}\AgdaInductiveConstructor{⟨\_⟩}\AgdaSymbol{)} \AgdaSymbol{(}\AgdaFunction{lemmaSwapId} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{e}\AgdaSymbol{\})}\<%
\\
\>\AgdaFunction{lemmaSwapId} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaInductiveConstructor{|E|} \AgdaBound{x}\AgdaSymbol{\}} \<[28]%
\>[28]\AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{e}\AgdaSymbol{\}} \<[46]%
\>[46]\AgdaSymbol{=} \AgdaInductiveConstructor{refl}\<%
\\
\>\AgdaFunction{lemmaSwapId} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaInductiveConstructor{|Ef|} \AgdaBound{G}\AgdaSymbol{\}} \<[28]%
\>[28]\AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaInductiveConstructor{⟨} \AgdaBound{e} \AgdaInductiveConstructor{⟩}\AgdaSymbol{\}} \<[46]%
\>[46]\AgdaSymbol{=} \AgdaFunction{cong} \AgdaSymbol{(}\AgdaInductiveConstructor{⟨\_⟩}\AgdaSymbol{)} \AgdaSymbol{(}\AgdaFunction{lemmaSwapId} \AgdaSymbol{\{}\AgdaBound{G}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{G}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{e}\AgdaSymbol{\})}\<%
\\
\>\AgdaFunction{lemmaSwapId} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{G₁} \AgdaInductiveConstructor{|+|} \AgdaBound{G₂}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaInductiveConstructor{inj₁} \AgdaBound{e}\AgdaSymbol{\}} \<[46]%
\>[46]\AgdaSymbol{=} \AgdaFunction{cong} \AgdaInductiveConstructor{inj₁} \AgdaSymbol{(}\AgdaFunction{lemmaSwapId} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{G₁}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{e}\AgdaSymbol{\})}\<%
\\
\>\AgdaFunction{lemmaSwapId} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{G₁} \AgdaInductiveConstructor{|+|} \AgdaBound{G₂}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaInductiveConstructor{inj₂} \AgdaBound{e}\AgdaSymbol{\}} \<[46]%
\>[46]\AgdaSymbol{=} \AgdaFunction{cong} \AgdaInductiveConstructor{inj₂} \AgdaSymbol{(}\AgdaFunction{lemmaSwapId} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{G₂}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{e}\AgdaSymbol{\})}\<%
\\
\>\AgdaFunction{lemmaSwapId} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{G₁} \AgdaInductiveConstructor{|x|} \AgdaBound{G₂}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{e} \AgdaInductiveConstructor{,} \AgdaBound{e'}\AgdaSymbol{\}} \<[46]%
\>[46]\AgdaSymbol{=} \AgdaFunction{cong₂} \AgdaSymbol{(}\AgdaInductiveConstructor{\_,\_}\AgdaSymbol{)} \AgdaSymbol{(}\AgdaFunction{lemmaSwapId} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{G₁}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{e}\AgdaSymbol{\})} \AgdaSymbol{(}\AgdaFunction{lemmaSwapId} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{G₂}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{e'}\AgdaSymbol{\})} \<[131]%
\>[131]\<%
\\
\>\AgdaFunction{lemmaSwapId} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaInductiveConstructor{|v|} \AgdaBound{S'}\AgdaSymbol{\}} \<[28]%
\>[28]\AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{e}\AgdaSymbol{\}} \<[46]%
\>[46]\AgdaKeyword{with} \AgdaBound{S'} \AgdaFunction{≟v} \AgdaBound{S}\<%
\\
\>\AgdaSymbol{...} \AgdaSymbol{|} \AgdaInductiveConstructor{yes} \AgdaSymbol{\_} \<[46]%
\>[46]\AgdaSymbol{=} \AgdaFunction{sym} \AgdaFunction{lemma（aa）b≡b}\<%
\\
\>\AgdaSymbol{...} \AgdaSymbol{|} \AgdaInductiveConstructor{no} \<[10]%
\>[10]\AgdaSymbol{\_} \<[46]%
\>[46]\AgdaSymbol{=} \AgdaInductiveConstructor{refl}\<%
\\
\>\AgdaFunction{lemmaSwapId} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaInductiveConstructor{|B|} \AgdaBound{S'} \AgdaBound{G}\AgdaSymbol{\}} \<[28]%
\>[28]\AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{x} \AgdaInductiveConstructor{,} \AgdaBound{e}\AgdaSymbol{\}} \<[46]%
\>[46]\AgdaKeyword{with} \AgdaBound{S'} \AgdaFunction{≟v} \AgdaBound{S}\<%
\\
\>\AgdaSymbol{...} \AgdaSymbol{|} \AgdaInductiveConstructor{yes} \AgdaSymbol{\_} \<[46]%
\>[46]\AgdaSymbol{=} \AgdaFunction{cong₂} \AgdaSymbol{(}\AgdaInductiveConstructor{\_,\_}\AgdaSymbol{)} \AgdaSymbol{(}\AgdaFunction{sym} \AgdaFunction{lemma（aa）b≡b}\AgdaSymbol{)} \<[80]%
\>[80]\AgdaSymbol{(}\AgdaFunction{lemmaSwapId} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{G}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{e}\AgdaSymbol{\})} \<[114]%
\>[114]\<%
\\
\>\AgdaSymbol{...} \AgdaSymbol{|} \AgdaInductiveConstructor{no} \<[10]%
\>[10]\AgdaSymbol{\_} \<[46]%
\>[46]\AgdaSymbol{=} \AgdaFunction{cong₂} \AgdaSymbol{(}\AgdaInductiveConstructor{\_,\_}\AgdaSymbol{)} \AgdaInductiveConstructor{refl} \AgdaSymbol{(}\AgdaFunction{lemmaSwapId} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{G}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{e}\AgdaSymbol{\})} \<%
\end{code}

\begin{code}%
\>\AgdaFunction{lemmaSwapIdem} \AgdaSymbol{:} \AgdaSymbol{\{}\AgdaBound{F} \AgdaBound{G} \AgdaSymbol{:} \AgdaDatatype{Functor}\AgdaSymbol{\}\{}\AgdaBound{S} \AgdaSymbol{:} \AgdaFunction{Sort}\AgdaSymbol{\}\{}\AgdaBound{a} \AgdaBound{b} \AgdaSymbol{:} \AgdaFunction{V}\AgdaSymbol{\}\{}\AgdaBound{e} \AgdaSymbol{:} \AgdaFunction{⟦} \AgdaBound{G} \AgdaFunction{⟧} \AgdaSymbol{(}\AgdaDatatype{μ} \AgdaBound{F}\AgdaSymbol{)\}} \AgdaSymbol{→} \AgdaBound{e} \AgdaDatatype{≡} \AgdaFunction{swapF} \AgdaBound{G} \AgdaBound{S} \AgdaBound{a} \AgdaBound{b} \AgdaSymbol{(}\AgdaFunction{swapF} \AgdaBound{G} \AgdaBound{S} \AgdaBound{a} \AgdaBound{b} \AgdaBound{e}\AgdaSymbol{)}\<%
\\
\>\AgdaFunction{lemmaSwapIdem} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaInductiveConstructor{|1|}\AgdaSymbol{\}} \<[30]%
\>[30]\AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{b}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{e}\AgdaSymbol{\}} \<[52]%
\>[52]\AgdaSymbol{=} \AgdaInductiveConstructor{refl}\<%
\\
\>\AgdaFunction{lemmaSwapIdem} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaInductiveConstructor{|R|}\AgdaSymbol{\}} \<[30]%
\>[30]\AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{b}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaInductiveConstructor{⟨} \AgdaBound{e} \AgdaInductiveConstructor{⟩}\AgdaSymbol{\}} \<[52]%
\>[52]\AgdaSymbol{=} \AgdaFunction{cong} \AgdaSymbol{(}\AgdaInductiveConstructor{⟨\_⟩}\AgdaSymbol{)} \AgdaSymbol{(}\AgdaFunction{lemmaSwapIdem} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{b}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{e}\AgdaSymbol{\})}\<%
\\
\>\AgdaFunction{lemmaSwapIdem} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaInductiveConstructor{|E|} \AgdaBound{x}\AgdaSymbol{\}} \<[30]%
\>[30]\AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{b}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{e}\AgdaSymbol{\}} \<[52]%
\>[52]\AgdaSymbol{=} \AgdaInductiveConstructor{refl}\<%
\\
\>\AgdaFunction{lemmaSwapIdem} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaInductiveConstructor{|Ef|} \AgdaBound{G}\AgdaSymbol{\}} \<[30]%
\>[30]\AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{b}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaInductiveConstructor{⟨} \AgdaBound{e} \AgdaInductiveConstructor{⟩}\AgdaSymbol{\}} \<[52]%
\>[52]\AgdaSymbol{=} \AgdaFunction{cong} \AgdaSymbol{(}\AgdaInductiveConstructor{⟨\_⟩}\AgdaSymbol{)} \AgdaSymbol{(}\AgdaFunction{lemmaSwapIdem} \AgdaSymbol{\{}\AgdaBound{G}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{G}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{b}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{e}\AgdaSymbol{\})}\<%
\\
\>\AgdaFunction{lemmaSwapIdem} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{G₁} \AgdaInductiveConstructor{|+|} \AgdaBound{G₂}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{b}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaInductiveConstructor{inj₁} \AgdaBound{e}\AgdaSymbol{\}} \<[52]%
\>[52]\AgdaSymbol{=} \AgdaFunction{cong} \AgdaInductiveConstructor{inj₁} \AgdaSymbol{(}\AgdaFunction{lemmaSwapIdem} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{G₁}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{b}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{e}\AgdaSymbol{\})}\<%
\\
\>\AgdaFunction{lemmaSwapIdem} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{G₁} \AgdaInductiveConstructor{|+|} \AgdaBound{G₂}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{b}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaInductiveConstructor{inj₂} \AgdaBound{e}\AgdaSymbol{\}} \<[52]%
\>[52]\AgdaSymbol{=} \AgdaFunction{cong} \AgdaInductiveConstructor{inj₂} \AgdaSymbol{(}\AgdaFunction{lemmaSwapIdem} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{G₂}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{b}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{e}\AgdaSymbol{\})}\<%
\\
\>\AgdaFunction{lemmaSwapIdem} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{G₁} \AgdaInductiveConstructor{|x|} \AgdaBound{G₂}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{b}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{e} \AgdaInductiveConstructor{,} \AgdaBound{e'}\AgdaSymbol{\}} \<[52]%
\>[52]\AgdaSymbol{=} \AgdaFunction{cong₂} \AgdaSymbol{(}\AgdaInductiveConstructor{\_,\_}\AgdaSymbol{)} \AgdaSymbol{(}\AgdaFunction{lemmaSwapIdem} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{G₁}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{b}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{e}\AgdaSymbol{\})} \AgdaSymbol{(}\AgdaFunction{lemmaSwapIdem} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{G₂}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{b}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{e'}\AgdaSymbol{\})} \<[149]%
\>[149]\<%
\\
\>\AgdaFunction{lemmaSwapIdem} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaInductiveConstructor{|v|} \AgdaBound{S'}\AgdaSymbol{\}} \<[30]%
\>[30]\AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{b}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{e}\AgdaSymbol{\}} \<[52]%
\>[52]\AgdaKeyword{with} \AgdaBound{S'} \AgdaFunction{≟v} \AgdaBound{S}\<%
\\
\>\AgdaSymbol{...} \AgdaSymbol{|} \AgdaInductiveConstructor{yes} \AgdaSymbol{\_} \<[46]%
\>[46]\AgdaSymbol{=} \AgdaFunction{sym} \AgdaFunction{lemma（ab）（ab）c≡c}\<%
\\
\>\AgdaSymbol{...} \AgdaSymbol{|} \AgdaInductiveConstructor{no} \<[10]%
\>[10]\AgdaSymbol{\_} \<[46]%
\>[46]\AgdaSymbol{=} \AgdaInductiveConstructor{refl}\<%
\\
\>\AgdaFunction{lemmaSwapIdem} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaInductiveConstructor{|B|} \AgdaBound{S'} \AgdaBound{G}\AgdaSymbol{\}} \<[30]%
\>[30]\AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{b}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{x} \AgdaInductiveConstructor{,} \AgdaBound{e}\AgdaSymbol{\}} \<[52]%
\>[52]\AgdaKeyword{with} \AgdaBound{S'} \AgdaFunction{≟v} \AgdaBound{S}\<%
\\
\>\AgdaSymbol{...} \AgdaSymbol{|} \AgdaInductiveConstructor{yes} \AgdaSymbol{\_} \<[46]%
\>[46]\AgdaSymbol{=} \AgdaFunction{cong₂} \AgdaSymbol{(}\AgdaInductiveConstructor{\_,\_}\AgdaSymbol{)} \AgdaSymbol{(}\AgdaFunction{sym} \AgdaFunction{lemma（ab）（ab）c≡c}\AgdaSymbol{)} \AgdaSymbol{(}\AgdaFunction{lemmaSwapIdem} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{G}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{b}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{e}\AgdaSymbol{\})} \<[123]%
\>[123]\<%
\\
\>\AgdaSymbol{...} \AgdaSymbol{|} \AgdaInductiveConstructor{no} \<[10]%
\>[10]\AgdaSymbol{\_} \<[46]%
\>[46]\AgdaSymbol{=} \AgdaFunction{cong₂} \AgdaSymbol{(}\AgdaInductiveConstructor{\_,\_}\AgdaSymbol{)} \AgdaInductiveConstructor{refl} \AgdaSymbol{(}\AgdaFunction{lemmaSwapIdem} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{G}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{b}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{e}\AgdaSymbol{\})} \<%
\end{code}

\begin{code}%
\>\AgdaFunction{lemmaSwapComm} \AgdaSymbol{:} \AgdaSymbol{\{}\AgdaBound{F} \AgdaBound{G} \AgdaSymbol{:} \AgdaDatatype{Functor}\AgdaSymbol{\}\{}\AgdaBound{S} \AgdaSymbol{:} \AgdaFunction{Sort}\AgdaSymbol{\}\{}\AgdaBound{a} \AgdaBound{b} \AgdaSymbol{:} \AgdaFunction{V}\AgdaSymbol{\}\{}\AgdaBound{e} \AgdaSymbol{:} \AgdaFunction{⟦} \AgdaBound{G} \AgdaFunction{⟧} \AgdaSymbol{(}\AgdaDatatype{μ} \AgdaBound{F}\AgdaSymbol{)\}} \AgdaSymbol{→} \AgdaFunction{swapF} \AgdaBound{G} \AgdaBound{S} \AgdaBound{a} \AgdaBound{b} \AgdaBound{e} \AgdaDatatype{≡} \AgdaFunction{swapF} \AgdaBound{G} \AgdaBound{S} \AgdaBound{b} \AgdaBound{a} \AgdaBound{e}\<%
\\
\>\AgdaFunction{lemmaSwapComm} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaInductiveConstructor{|1|}\AgdaSymbol{\}} \<[30]%
\>[30]\AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{b}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{e}\AgdaSymbol{\}} \<[52]%
\>[52]\AgdaSymbol{=} \AgdaInductiveConstructor{refl}\<%
\\
\>\AgdaFunction{lemmaSwapComm} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaInductiveConstructor{|R|}\AgdaSymbol{\}} \<[30]%
\>[30]\AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{b}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaInductiveConstructor{⟨} \AgdaBound{e} \AgdaInductiveConstructor{⟩}\AgdaSymbol{\}} \<[52]%
\>[52]\AgdaSymbol{=} \AgdaFunction{cong} \AgdaSymbol{(}\AgdaInductiveConstructor{⟨\_⟩}\AgdaSymbol{)} \AgdaSymbol{(}\AgdaFunction{lemmaSwapComm} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{b}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{e}\AgdaSymbol{\})}\<%
\\
\>\AgdaFunction{lemmaSwapComm} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaInductiveConstructor{|E|} \AgdaBound{x}\AgdaSymbol{\}} \<[30]%
\>[30]\AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{b}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{e}\AgdaSymbol{\}} \<[52]%
\>[52]\AgdaSymbol{=} \AgdaInductiveConstructor{refl}\<%
\\
\>\AgdaFunction{lemmaSwapComm} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaInductiveConstructor{|Ef|} \AgdaBound{G}\AgdaSymbol{\}} \<[30]%
\>[30]\AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{b}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaInductiveConstructor{⟨} \AgdaBound{e} \AgdaInductiveConstructor{⟩}\AgdaSymbol{\}} \<[52]%
\>[52]\AgdaSymbol{=} \AgdaFunction{cong} \AgdaSymbol{(}\AgdaInductiveConstructor{⟨\_⟩}\AgdaSymbol{)} \AgdaSymbol{(}\AgdaFunction{lemmaSwapComm} \AgdaSymbol{\{}\AgdaBound{G}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{G}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{b}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{e}\AgdaSymbol{\})}\<%
\\
\>\AgdaFunction{lemmaSwapComm} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{G₁} \AgdaInductiveConstructor{|+|} \AgdaBound{G₂}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{b}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaInductiveConstructor{inj₁} \AgdaBound{e}\AgdaSymbol{\}} \<[52]%
\>[52]\AgdaSymbol{=} \AgdaFunction{cong} \AgdaInductiveConstructor{inj₁} \AgdaSymbol{(}\AgdaFunction{lemmaSwapComm} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{G₁}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{b}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{e}\AgdaSymbol{\})}\<%
\\
\>\AgdaFunction{lemmaSwapComm} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{G₁} \AgdaInductiveConstructor{|+|} \AgdaBound{G₂}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{b}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaInductiveConstructor{inj₂} \AgdaBound{e}\AgdaSymbol{\}} \<[52]%
\>[52]\AgdaSymbol{=} \AgdaFunction{cong} \AgdaInductiveConstructor{inj₂} \AgdaSymbol{(}\AgdaFunction{lemmaSwapComm} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{G₂}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{b}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{e}\AgdaSymbol{\})}\<%
\\
\>\AgdaFunction{lemmaSwapComm} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{G₁} \AgdaInductiveConstructor{|x|} \AgdaBound{G₂}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{b}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{e} \AgdaInductiveConstructor{,} \AgdaBound{e'}\AgdaSymbol{\}} \<[52]%
\>[52]\AgdaSymbol{=} \AgdaFunction{cong₂} \AgdaSymbol{(}\AgdaInductiveConstructor{\_,\_}\AgdaSymbol{)} \AgdaSymbol{(}\AgdaFunction{lemmaSwapComm} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{G₁}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{b}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{e}\AgdaSymbol{\})} \AgdaSymbol{(}\AgdaFunction{lemmaSwapComm} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{G₂}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{b}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{e'}\AgdaSymbol{\})} \<[149]%
\>[149]\<%
\\
\>\AgdaFunction{lemmaSwapComm} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaInductiveConstructor{|v|} \AgdaBound{S'}\AgdaSymbol{\}} \<[30]%
\>[30]\AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{b}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{c}\AgdaSymbol{\}} \<[52]%
\>[52]\AgdaKeyword{with} \AgdaBound{S'} \AgdaFunction{≟v} \AgdaBound{S}\<%
\\
\>\AgdaSymbol{...} \AgdaSymbol{|} \AgdaInductiveConstructor{yes} \AgdaSymbol{\_} \<[46]%
\>[46]\AgdaSymbol{=} \AgdaFunction{lemma∙ₐcomm} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{b}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{c}\AgdaSymbol{\}}\<%
\\
\>\AgdaSymbol{...} \AgdaSymbol{|} \AgdaInductiveConstructor{no} \<[10]%
\>[10]\AgdaSymbol{\_} \<[46]%
\>[46]\AgdaSymbol{=} \AgdaInductiveConstructor{refl}\<%
\\
\>\AgdaFunction{lemmaSwapComm} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaInductiveConstructor{|B|} \AgdaBound{S'} \AgdaBound{G}\AgdaSymbol{\}} \<[30]%
\>[30]\AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{b}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{c} \AgdaInductiveConstructor{,} \AgdaBound{e}\AgdaSymbol{\}} \<[52]%
\>[52]\AgdaKeyword{with} \AgdaBound{S'} \AgdaFunction{≟v} \AgdaBound{S}\<%
\\
\>\AgdaSymbol{...} \AgdaSymbol{|} \AgdaInductiveConstructor{yes} \AgdaSymbol{\_} \<[46]%
\>[46]\AgdaSymbol{=} \AgdaFunction{cong₂} \AgdaSymbol{(}\AgdaInductiveConstructor{\_,\_}\AgdaSymbol{)} \AgdaSymbol{(}\AgdaFunction{lemma∙ₐcomm} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{b}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{c}\AgdaSymbol{\})} \AgdaSymbol{(}\AgdaFunction{lemmaSwapComm} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{G}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{b}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{e}\AgdaSymbol{\})} \<[126]%
\>[126]\<%
\\
\>\AgdaSymbol{...} \AgdaSymbol{|} \AgdaInductiveConstructor{no} \<[10]%
\>[10]\AgdaSymbol{\_} \<[46]%
\>[46]\AgdaSymbol{=} \AgdaFunction{cong₂} \AgdaSymbol{(}\AgdaInductiveConstructor{\_,\_}\AgdaSymbol{)} \AgdaInductiveConstructor{refl} \AgdaSymbol{(}\AgdaFunction{lemmaSwapComm} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{G}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{b}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{e}\AgdaSymbol{\})} \<%
\end{code}

\begin{code}%
\>\AgdaFunction{lemmaSwapIdemComm} \AgdaSymbol{:} \AgdaSymbol{\{}\AgdaBound{F} \AgdaBound{G} \AgdaSymbol{:} \AgdaDatatype{Functor}\AgdaSymbol{\}\{}\AgdaBound{S} \AgdaSymbol{:} \AgdaFunction{Sort}\AgdaSymbol{\}\{}\AgdaBound{a} \AgdaBound{b} \AgdaSymbol{:} \AgdaFunction{V}\AgdaSymbol{\}\{}\AgdaBound{e} \AgdaSymbol{:} \AgdaFunction{⟦} \AgdaBound{G} \AgdaFunction{⟧} \AgdaSymbol{(}\AgdaDatatype{μ} \AgdaBound{F}\AgdaSymbol{)\}} \AgdaSymbol{→} \AgdaBound{e} \AgdaDatatype{≡} \AgdaFunction{swapF} \AgdaBound{G} \AgdaBound{S} \AgdaBound{b} \AgdaBound{a} \AgdaSymbol{(}\AgdaFunction{swapF} \AgdaBound{G} \AgdaBound{S} \AgdaBound{a} \AgdaBound{b} \AgdaBound{e}\AgdaSymbol{)}\<%
\\
\>\AgdaFunction{lemmaSwapIdemComm} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{G}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{b}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{e}\AgdaSymbol{\}} \AgdaSymbol{=} \AgdaFunction{sym} \AgdaSymbol{(}\AgdaFunction{begin≡}\<%
\\
\>[0]\AgdaIndent{2}{}\<[2]%
\>[2]\AgdaFunction{swapF} \AgdaBound{G} \AgdaBound{S} \AgdaBound{b} \AgdaBound{a} \AgdaSymbol{(}\AgdaFunction{swapF} \AgdaBound{G} \AgdaBound{S} \AgdaBound{a} \AgdaBound{b} \AgdaBound{e}\AgdaSymbol{)}\<%
\\
\>[2]\AgdaIndent{4}{}\<[4]%
\>[4]\AgdaFunction{≡⟨} \AgdaFunction{lemmaSwapComm} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{G}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{b}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{(}\AgdaFunction{swapF} \AgdaBound{G} \AgdaBound{S} \AgdaBound{a} \AgdaBound{b} \AgdaBound{e}\AgdaSymbol{)\}} \AgdaFunction{⟩}\<%
\\
\>[0]\AgdaIndent{2}{}\<[2]%
\>[2]\AgdaFunction{swapF} \AgdaBound{G} \AgdaBound{S} \AgdaBound{a} \AgdaBound{b} \AgdaSymbol{(}\AgdaFunction{swapF} \AgdaBound{G} \AgdaBound{S} \AgdaBound{a} \AgdaBound{b} \AgdaBound{e}\AgdaSymbol{)}\<%
\\
\>[2]\AgdaIndent{4}{}\<[4]%
\>[4]\AgdaFunction{≡⟨} \AgdaFunction{sym} \AgdaSymbol{(}\AgdaFunction{lemmaSwapIdem} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{G}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{b}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{e}\AgdaSymbol{\})} \AgdaFunction{⟩} \<[54]%
\>[54]\<%
\\
\>[2]\AgdaIndent{4}{}\<[4]%
\>[4]\AgdaBound{e}\<%
\\
\>[0]\AgdaIndent{2}{}\<[2]%
\>[2]\AgdaFunction{■}\AgdaSymbol{)}\<%
\end{code}

\begin{code}%
\>\AgdaFunction{lemmaSwapDistributiveF} \AgdaSymbol{:} \AgdaSymbol{\{}\AgdaBound{F} \AgdaBound{G} \AgdaSymbol{:} \AgdaDatatype{Functor}\AgdaSymbol{\}\{}\AgdaBound{S} \AgdaSymbol{:} \AgdaFunction{Sort}\AgdaSymbol{\}\{}\AgdaBound{a} \AgdaBound{b} \AgdaBound{c} \AgdaBound{d} \AgdaSymbol{:} \AgdaFunction{V}\AgdaSymbol{\}\{}\AgdaBound{e} \AgdaSymbol{:} \AgdaFunction{⟦} \AgdaBound{G} \AgdaFunction{⟧} \AgdaSymbol{(}\AgdaDatatype{μ} \AgdaBound{F}\AgdaSymbol{)\}}\<%
\\
\> \AgdaSymbol{→} \AgdaFunction{swapF} \AgdaBound{G} \AgdaBound{S} \AgdaBound{a} \AgdaBound{b} \AgdaSymbol{(}\AgdaFunction{swapF} \AgdaBound{G} \AgdaBound{S} \AgdaBound{c} \AgdaBound{d} \AgdaBound{e}\AgdaSymbol{)} \AgdaDatatype{≡} \AgdaFunction{swapF} \AgdaBound{G} \AgdaBound{S} \AgdaSymbol{(}\AgdaFunction{（} \AgdaBound{a} \AgdaFunction{∙} \AgdaBound{b} \AgdaFunction{）ₐ} \AgdaBound{c}\AgdaSymbol{)} \AgdaSymbol{(}\AgdaFunction{（} \AgdaBound{a} \AgdaFunction{∙} \AgdaBound{b} \AgdaFunction{）ₐ} \AgdaBound{d}\AgdaSymbol{)} \AgdaSymbol{(}\AgdaFunction{swapF} \AgdaBound{G} \AgdaBound{S} \AgdaBound{a} \AgdaBound{b} \AgdaBound{e}\AgdaSymbol{)}\<%
\\
\>\AgdaFunction{lemmaSwapDistributiveF} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaInductiveConstructor{|1|}\AgdaSymbol{\}} \<[39]%
\>[39]\AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{b}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{c}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{d}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{e}\AgdaSymbol{\}} \<[69]%
\>[69]\AgdaSymbol{=} \AgdaInductiveConstructor{refl}\<%
\\
\>\AgdaFunction{lemmaSwapDistributiveF} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaInductiveConstructor{|R|}\AgdaSymbol{\}} \<[39]%
\>[39]\AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{b}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{c}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{d}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaInductiveConstructor{⟨} \AgdaBound{e} \AgdaInductiveConstructor{⟩}\AgdaSymbol{\}} \<[69]%
\>[69]\AgdaSymbol{=} \AgdaFunction{cong} \AgdaSymbol{(}\AgdaInductiveConstructor{⟨\_⟩}\AgdaSymbol{)} \AgdaSymbol{(}\AgdaFunction{lemmaSwapDistributiveF} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{b}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{c}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{d}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{e}\AgdaSymbol{\})}\<%
\\
\>\AgdaFunction{lemmaSwapDistributiveF} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaInductiveConstructor{|E|} \AgdaBound{x}\AgdaSymbol{\}} \<[39]%
\>[39]\AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{b}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{c}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{d}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{e}\AgdaSymbol{\}} \<[69]%
\>[69]\AgdaSymbol{=} \AgdaInductiveConstructor{refl}\<%
\\
\>\AgdaFunction{lemmaSwapDistributiveF} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaInductiveConstructor{|Ef|} \AgdaBound{G}\AgdaSymbol{\}} \<[39]%
\>[39]\AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{b}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{c}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{d}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaInductiveConstructor{⟨} \AgdaBound{e} \AgdaInductiveConstructor{⟩}\AgdaSymbol{\}} \<[69]%
\>[69]\AgdaSymbol{=} \AgdaFunction{cong} \AgdaSymbol{(}\AgdaInductiveConstructor{⟨\_⟩}\AgdaSymbol{)} \AgdaSymbol{(}\AgdaFunction{lemmaSwapDistributiveF} \AgdaSymbol{\{}\AgdaBound{G}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{G}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{b}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{c}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{d}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{e}\AgdaSymbol{\})}\<%
\\
\>\AgdaFunction{lemmaSwapDistributiveF} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{G₁} \AgdaInductiveConstructor{|+|} \AgdaBound{G₂}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{b}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{c}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{d}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaInductiveConstructor{inj₁} \AgdaBound{e}\AgdaSymbol{\}} \<[69]%
\>[69]\AgdaSymbol{=} \AgdaFunction{cong} \AgdaInductiveConstructor{inj₁} \AgdaSymbol{(}\AgdaFunction{lemmaSwapDistributiveF} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{G₁}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{b}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{c}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{d}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{e}\AgdaSymbol{\})}\<%
\\
\>\AgdaFunction{lemmaSwapDistributiveF} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{G₁} \AgdaInductiveConstructor{|+|} \AgdaBound{G₂}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{b}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{c}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{d}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaInductiveConstructor{inj₂} \AgdaBound{e}\AgdaSymbol{\}} \<[69]%
\>[69]\AgdaSymbol{=} \AgdaFunction{cong} \AgdaInductiveConstructor{inj₂} \AgdaSymbol{(}\AgdaFunction{lemmaSwapDistributiveF} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{G₂}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{b}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{c}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{d}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{e}\AgdaSymbol{\})}\<%
\\
\>\AgdaFunction{lemmaSwapDistributiveF} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{G₁} \AgdaInductiveConstructor{|x|} \AgdaBound{G₂}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{b}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{c}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{d}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{e} \AgdaInductiveConstructor{,} \AgdaBound{e'}\AgdaSymbol{\}} \<[69]%
\>[69]\AgdaSymbol{=} \AgdaFunction{cong₂} \AgdaSymbol{(}\AgdaInductiveConstructor{\_,\_}\AgdaSymbol{)} \AgdaSymbol{(}\AgdaFunction{lemmaSwapDistributiveF} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{G₁}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{b}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{c}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{d}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{e}\AgdaSymbol{\})} \AgdaSymbol{(}\AgdaFunction{lemmaSwapDistributiveF} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{G₂}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{b}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{c}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{d}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{e'}\AgdaSymbol{\})} \<[200]%
\>[200]\<%
\\
\>\AgdaFunction{lemmaSwapDistributiveF} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaInductiveConstructor{|v|} \AgdaBound{S'}\AgdaSymbol{\}} \<[39]%
\>[39]\AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{b}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{c}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{d}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{e}\AgdaSymbol{\}} \<[69]%
\>[69]\AgdaKeyword{with} \AgdaBound{S'} \AgdaFunction{≟v} \AgdaBound{S}\<%
\\
\>\AgdaSymbol{...} \AgdaSymbol{|} \AgdaInductiveConstructor{yes} \AgdaSymbol{\_} \<[46]%
\>[46]\AgdaSymbol{=} \AgdaFunction{lemma∙ₐdistributive} \AgdaBound{a} \AgdaBound{b} \AgdaBound{c} \AgdaBound{d} \AgdaBound{e}\<%
\\
\>\AgdaSymbol{...} \AgdaSymbol{|} \AgdaInductiveConstructor{no} \<[10]%
\>[10]\AgdaSymbol{\_} \<[46]%
\>[46]\AgdaSymbol{=} \AgdaInductiveConstructor{refl}\<%
\\
\>\AgdaFunction{lemmaSwapDistributiveF} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaInductiveConstructor{|B|} \AgdaBound{S'} \AgdaBound{G}\AgdaSymbol{\}} \<[39]%
\>[39]\AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{b}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{c}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{d}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{x} \AgdaInductiveConstructor{,} \AgdaBound{e}\AgdaSymbol{\}} \<[69]%
\>[69]\AgdaKeyword{with} \AgdaBound{S'} \AgdaFunction{≟v} \AgdaBound{S}\<%
\\
\>\AgdaSymbol{...} \AgdaSymbol{|} \AgdaInductiveConstructor{yes} \AgdaSymbol{\_} \<[46]%
\>[46]\AgdaSymbol{=} \AgdaFunction{cong₂} \AgdaSymbol{(}\AgdaInductiveConstructor{\_,\_}\AgdaSymbol{)} \AgdaSymbol{(}\AgdaFunction{lemma∙ₐdistributive} \AgdaBound{a} \AgdaBound{b} \AgdaBound{c} \AgdaBound{d} \AgdaBound{x}\AgdaSymbol{)} \AgdaSymbol{(}\AgdaFunction{lemmaSwapDistributiveF} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{G}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{b}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{c}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{d}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{e}\AgdaSymbol{\})} \<[149]%
\>[149]\<%
\\
\>\AgdaSymbol{...} \AgdaSymbol{|} \AgdaInductiveConstructor{no} \<[10]%
\>[10]\AgdaSymbol{\_} \<[46]%
\>[46]\AgdaSymbol{=} \AgdaFunction{cong₂} \AgdaSymbol{(}\AgdaInductiveConstructor{\_,\_}\AgdaSymbol{)} \AgdaInductiveConstructor{refl} \AgdaSymbol{(}\AgdaFunction{lemmaSwapDistributiveF} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{G}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{b}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{c}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{d}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{e}\AgdaSymbol{\})} \<%
\end{code}

\begin{code}%
\>\AgdaFunction{lemmaSwapDistributiveF≢} \AgdaSymbol{:} \AgdaSymbol{\{}\AgdaBound{F} \AgdaBound{G} \AgdaSymbol{:} \AgdaDatatype{Functor}\AgdaSymbol{\}\{}\AgdaBound{S} \AgdaBound{S'} \AgdaSymbol{:} \AgdaFunction{Sort}\AgdaSymbol{\}\{}\AgdaBound{a} \AgdaBound{b} \AgdaBound{c} \AgdaBound{d} \AgdaSymbol{:} \AgdaFunction{V}\AgdaSymbol{\}\{}\AgdaBound{e} \AgdaSymbol{:} \AgdaFunction{⟦} \AgdaBound{G} \AgdaFunction{⟧} \AgdaSymbol{(}\AgdaDatatype{μ} \AgdaBound{F}\AgdaSymbol{)\}} \AgdaSymbol{→} \AgdaBound{S} \AgdaFunction{≢} \AgdaBound{S'}\<%
\\
\>[2]\AgdaIndent{22}{}\<[22]%
\>[22]\AgdaSymbol{→} \AgdaFunction{swapF} \AgdaBound{G} \AgdaBound{S'} \AgdaBound{a} \AgdaBound{b} \AgdaSymbol{(}\AgdaFunction{swapF} \AgdaBound{G} \AgdaBound{S} \AgdaBound{c} \AgdaBound{d} \AgdaBound{e}\AgdaSymbol{)} \AgdaDatatype{≡} \AgdaFunction{swapF} \AgdaBound{G} \AgdaBound{S} \AgdaBound{c} \AgdaBound{d} \AgdaSymbol{(}\AgdaFunction{swapF} \AgdaBound{G} \AgdaBound{S'} \AgdaBound{a} \AgdaBound{b} \AgdaBound{e}\AgdaSymbol{)}\<%
\\
\>\AgdaFunction{lemmaSwapDistributiveF≢} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaInductiveConstructor{|1|}\AgdaSymbol{\}} \<[40]%
\>[40]\AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S'}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{b}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{c}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{d}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{e}\AgdaSymbol{\}} \<[74]%
\>[74]\AgdaBound{S≢S'} \AgdaSymbol{=} \AgdaInductiveConstructor{refl}\<%
\\
\>\AgdaFunction{lemmaSwapDistributiveF≢} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaInductiveConstructor{|R|}\AgdaSymbol{\}} \<[40]%
\>[40]\AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S'}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{b}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{c}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{d}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaInductiveConstructor{⟨} \AgdaBound{e} \AgdaInductiveConstructor{⟩}\AgdaSymbol{\}} \<[74]%
\>[74]\AgdaBound{S≢S'} \AgdaSymbol{=} \AgdaFunction{cong} \AgdaSymbol{(}\AgdaInductiveConstructor{⟨\_⟩}\AgdaSymbol{)} \AgdaSymbol{(}\AgdaFunction{lemmaSwapDistributiveF≢} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S'}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{b}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{c}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{d}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{e}\AgdaSymbol{\}} \AgdaBound{S≢S'}\AgdaSymbol{)}\<%
\\
\>\AgdaFunction{lemmaSwapDistributiveF≢} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaInductiveConstructor{|E|} \AgdaBound{x}\AgdaSymbol{\}} \<[40]%
\>[40]\AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S'}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{b}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{c}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{d}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{e}\AgdaSymbol{\}} \<[74]%
\>[74]\AgdaBound{S≢S'} \AgdaSymbol{=} \AgdaInductiveConstructor{refl}\<%
\\
\>\AgdaFunction{lemmaSwapDistributiveF≢} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaInductiveConstructor{|Ef|} \AgdaBound{G}\AgdaSymbol{\}} \<[40]%
\>[40]\AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S'}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{b}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{c}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{d}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaInductiveConstructor{⟨} \AgdaBound{e} \AgdaInductiveConstructor{⟩}\AgdaSymbol{\}} \<[74]%
\>[74]\AgdaBound{S≢S'} \AgdaSymbol{=} \AgdaFunction{cong} \AgdaSymbol{(}\AgdaInductiveConstructor{⟨\_⟩}\AgdaSymbol{)} \AgdaSymbol{(}\AgdaFunction{lemmaSwapDistributiveF≢} \AgdaSymbol{\{}\AgdaBound{G}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{G}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S'}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{b}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{c}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{d}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{e}\AgdaSymbol{\}} \AgdaBound{S≢S'}\AgdaSymbol{)}\<%
\\
\>\AgdaFunction{lemmaSwapDistributiveF≢} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{G₁} \AgdaInductiveConstructor{|+|} \AgdaBound{G₂}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S'}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{b}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{c}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{d}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaInductiveConstructor{inj₁} \AgdaBound{e}\AgdaSymbol{\}} \AgdaBound{S≢S'} \AgdaSymbol{=} \AgdaFunction{cong} \AgdaInductiveConstructor{inj₁} \AgdaSymbol{(}\AgdaFunction{lemmaSwapDistributiveF≢} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{G₁}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S'}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{b}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{c}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{d}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{e}\AgdaSymbol{\}} \AgdaBound{S≢S'}\AgdaSymbol{)}\<%
\\
\>\AgdaFunction{lemmaSwapDistributiveF≢} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{G₁} \AgdaInductiveConstructor{|+|} \AgdaBound{G₂}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S'}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{b}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{c}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{d}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaInductiveConstructor{inj₂} \AgdaBound{e}\AgdaSymbol{\}} \AgdaBound{S≢S'} \AgdaSymbol{=} \AgdaFunction{cong} \AgdaInductiveConstructor{inj₂} \AgdaSymbol{(}\AgdaFunction{lemmaSwapDistributiveF≢} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{G₂}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S'}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{b}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{c}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{d}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{e}\AgdaSymbol{\}} \AgdaBound{S≢S'}\AgdaSymbol{)}\<%
\\
\>\AgdaFunction{lemmaSwapDistributiveF≢} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{G₁} \AgdaInductiveConstructor{|x|} \AgdaBound{G₂}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S'}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{b}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{c}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{d}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{e} \AgdaInductiveConstructor{,} \AgdaBound{e'}\AgdaSymbol{\}} \AgdaBound{S≢S'} \AgdaSymbol{=} \AgdaFunction{cong₂} \AgdaSymbol{(}\AgdaInductiveConstructor{\_,\_}\AgdaSymbol{)} \AgdaSymbol{(}\AgdaFunction{lemmaSwapDistributiveF≢} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{G₁}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S'}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{b}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{c}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{d}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{e}\AgdaSymbol{\}} \AgdaBound{S≢S'}\AgdaSymbol{)} \AgdaSymbol{(}\AgdaFunction{lemmaSwapDistributiveF≢} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{G₂}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S'}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{b}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{c}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{d}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{e'}\AgdaSymbol{\}} \AgdaBound{S≢S'}\AgdaSymbol{)} \<[232]%
\>[232]\<%
\\
\>\AgdaFunction{lemmaSwapDistributiveF≢} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaInductiveConstructor{|v|} \AgdaBound{S''}\AgdaSymbol{\}} \<[41]%
\>[41]\AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S'}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{b}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{c}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{d}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{e}\AgdaSymbol{\}} \<[75]%
\>[75]\AgdaBound{S≢S'} \AgdaKeyword{with} \AgdaBound{S''} \AgdaFunction{≟v} \AgdaBound{S'}\<%
\\
\>\AgdaSymbol{...} \AgdaSymbol{|} \AgdaInductiveConstructor{yes} \AgdaBound{S''≡S'} \AgdaKeyword{with} \AgdaBound{S''} \AgdaFunction{≟v} \AgdaBound{S}\<%
\\
\>\AgdaSymbol{...} \<[9]%
\>[9]\AgdaSymbol{|} \AgdaInductiveConstructor{yes} \AgdaBound{S''≡S} \AgdaSymbol{=} \AgdaFunction{⊥-elim} \AgdaSymbol{(}\AgdaBound{S≢S'} \AgdaSymbol{(}\AgdaFunction{trans} \AgdaSymbol{(}\AgdaFunction{sym} \AgdaBound{S''≡S}\AgdaSymbol{)} \AgdaBound{S''≡S'}\AgdaSymbol{))}\<%
\\
\>\AgdaSymbol{...} \<[9]%
\>[9]\AgdaSymbol{|} \AgdaInductiveConstructor{no} \<[15]%
\>[15]\AgdaBound{S''≢S} \AgdaSymbol{=} \AgdaInductiveConstructor{refl}\<%
\\
\>\AgdaFunction{lemmaSwapDistributiveF≢} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaInductiveConstructor{|v|} \AgdaBound{S''}\AgdaSymbol{\}} \<[41]%
\>[41]\AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S'}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{b}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{c}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{d}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{e}\AgdaSymbol{\}} \<[75]%
\>[75]\AgdaBound{S≢S'}\<%
\\
\>[0]\AgdaIndent{4}{}\<[4]%
\>[4]\AgdaSymbol{|} \AgdaInductiveConstructor{no} \<[10]%
\>[10]\AgdaBound{S''≢S'} \AgdaKeyword{with} \AgdaBound{S''} \AgdaFunction{≟v} \AgdaBound{S}\<%
\\
\>\AgdaSymbol{...} \<[9]%
\>[9]\AgdaSymbol{|} \AgdaInductiveConstructor{yes} \AgdaBound{S''≡S} \AgdaSymbol{=} \AgdaInductiveConstructor{refl} \<[28]%
\>[28]\<%
\\
\>\AgdaSymbol{...} \<[9]%
\>[9]\AgdaSymbol{|} \AgdaInductiveConstructor{no} \<[15]%
\>[15]\AgdaBound{S''≢S} \AgdaSymbol{=} \AgdaInductiveConstructor{refl}\<%
\\
\>\AgdaFunction{lemmaSwapDistributiveF≢} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaInductiveConstructor{|B|} \AgdaBound{S''} \AgdaBound{G}\AgdaSymbol{\}} \<[41]%
\>[41]\AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S'}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{b}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{c}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{d}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{x} \AgdaInductiveConstructor{,} \AgdaBound{e}\AgdaSymbol{\}} \<[75]%
\>[75]\AgdaBound{S≢S'} \AgdaKeyword{with} \AgdaBound{S''} \AgdaFunction{≟v} \AgdaBound{S'}\<%
\\
\>\AgdaSymbol{...} \AgdaSymbol{|} \AgdaInductiveConstructor{yes} \AgdaBound{S''≡S'} \AgdaKeyword{with} \AgdaBound{S''} \AgdaFunction{≟v} \AgdaBound{S}\<%
\\
\>\AgdaSymbol{...} \<[9]%
\>[9]\AgdaSymbol{|} \AgdaInductiveConstructor{yes} \AgdaBound{S''≡S} \AgdaSymbol{=} \AgdaFunction{⊥-elim} \AgdaSymbol{(}\AgdaBound{S≢S'} \AgdaSymbol{(}\AgdaFunction{trans} \AgdaSymbol{(}\AgdaFunction{sym} \AgdaBound{S''≡S}\AgdaSymbol{)} \AgdaBound{S''≡S'}\AgdaSymbol{))} \<[64]%
\>[64]\<%
\\
\>\AgdaSymbol{...} \<[9]%
\>[9]\AgdaSymbol{|} \AgdaInductiveConstructor{no} \<[15]%
\>[15]\AgdaBound{S''≢S} \AgdaSymbol{=} \AgdaFunction{cong₂} \AgdaSymbol{(}\AgdaInductiveConstructor{\_,\_}\AgdaSymbol{)} \AgdaInductiveConstructor{refl} \AgdaSymbol{(}\AgdaFunction{lemmaSwapDistributiveF≢} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{G}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S'}\AgdaSymbol{\}} \<[83]%
\>[83]\AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{b}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{c}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{d}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{e}\AgdaSymbol{\}} \AgdaBound{S≢S'}\AgdaSymbol{)}\<%
\\
\>\AgdaFunction{lemmaSwapDistributiveF≢} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaInductiveConstructor{|B|} \AgdaBound{S''} \AgdaBound{G}\AgdaSymbol{\}} \<[41]%
\>[41]\AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S'}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{b}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{c}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{d}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{x} \AgdaInductiveConstructor{,} \AgdaBound{e}\AgdaSymbol{\}} \<[75]%
\>[75]\AgdaBound{S≢S'}\<%
\\
\>[0]\AgdaIndent{4}{}\<[4]%
\>[4]\AgdaSymbol{|} \AgdaInductiveConstructor{no} \<[10]%
\>[10]\AgdaBound{S''≢S'} \AgdaKeyword{with} \AgdaBound{S''} \AgdaFunction{≟v} \AgdaBound{S}\<%
\\
\>\AgdaSymbol{...} \<[9]%
\>[9]\AgdaSymbol{|} \AgdaInductiveConstructor{yes} \AgdaBound{S''≡S} \AgdaSymbol{=} \AgdaFunction{cong₂} \AgdaSymbol{(}\AgdaInductiveConstructor{\_,\_}\AgdaSymbol{)} \AgdaInductiveConstructor{refl} \AgdaSymbol{(}\AgdaFunction{lemmaSwapDistributiveF≢} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{G}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S'}\AgdaSymbol{\}} \<[83]%
\>[83]\AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{b}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{c}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{d}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{e}\AgdaSymbol{\}} \AgdaBound{S≢S'}\AgdaSymbol{)} \<[109]%
\>[109]\<%
\\
\>\AgdaSymbol{...} \<[9]%
\>[9]\AgdaSymbol{|} \AgdaInductiveConstructor{no} \<[15]%
\>[15]\AgdaBound{S''≢S} \AgdaSymbol{=} \AgdaFunction{cong₂} \AgdaSymbol{(}\AgdaInductiveConstructor{\_,\_}\AgdaSymbol{)} \AgdaInductiveConstructor{refl} \AgdaSymbol{(}\AgdaFunction{lemmaSwapDistributiveF≢} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{G}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S'}\AgdaSymbol{\}} \<[83]%
\>[83]\AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{b}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{c}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{d}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{e}\AgdaSymbol{\}} \AgdaBound{S≢S'}\AgdaSymbol{)}\<%
\end{code}

-- swap : (F : Functor) → Sort → V → V → μ F → μ F
-- swap F S a b = fold F (⟨_⟩ ∘ swapaux {F} F)
--   where
--   swapaux : {F : Functor}(G : Functor) → ⟦ G ⟧ (μ F) → ⟦ G ⟧ (μ F)
--   swapaux (|v| S')   c
--     with  S' ≟S S
--   ... | yes _                 = （ a ∙ b ）ₐ c
--   ... | no  _                 = c 
--   swapaux |1|        e        = e
--   swapaux (|E| A)    e        = e
--   swapaux (|Ef| G)   e        = e
--   swapaux |R|        e        = e
--   swapaux (G |+| G₁) e        = e
--   swapaux (G |x| G₁) e        =  e
--   swapaux (|B| S' G) (x , e)
--     with S' ≟v S
--   ... | yes _                 = （ a ∙ b ）ₐ  x , e
--   ... | no  _                 =              x , e

\begin{code}%
\>\AgdaFunction{lemmaSwapSize} \AgdaSymbol{:} \<[17]%
\>[17]\AgdaSymbol{(}\AgdaBound{F} \AgdaBound{G} \AgdaSymbol{:} \AgdaDatatype{Functor}\AgdaSymbol{)(}\AgdaBound{S} \AgdaSymbol{:} \AgdaFunction{Sort}\AgdaSymbol{)(}\AgdaBound{x} \AgdaBound{y} \AgdaSymbol{:} \AgdaFunction{V}\AgdaSymbol{)(}\AgdaBound{e} \AgdaSymbol{:} \AgdaFunction{⟦} \AgdaBound{G} \AgdaFunction{⟧} \AgdaSymbol{(}\AgdaDatatype{μ} \AgdaBound{F}\AgdaSymbol{))} \<[69]%
\>[69]\<%
\\
\>[4]\AgdaIndent{17}{}\<[17]%
\>[17]\AgdaSymbol{→} \AgdaFunction{sizeF} \AgdaBound{G} \AgdaSymbol{(}\AgdaFunction{swapF} \AgdaBound{G} \AgdaBound{S} \AgdaBound{x} \AgdaBound{y} \AgdaBound{e}\AgdaSymbol{)} \AgdaDatatype{≡} \AgdaFunction{sizeF} \AgdaBound{G} \AgdaBound{e}\<%
\\
\>\AgdaFunction{lemmaSwapSize} \AgdaBound{F} \AgdaSymbol{(}\AgdaInductiveConstructor{|v|} \AgdaBound{S'}\AgdaSymbol{)} \<[28]%
\>[28]\AgdaBound{S} \AgdaBound{x} \AgdaBound{y} \AgdaBound{e} \<[44]%
\>[44]\AgdaSymbol{=} \AgdaInductiveConstructor{refl}\<%
\\
\>\AgdaFunction{lemmaSwapSize} \AgdaBound{F} \AgdaInductiveConstructor{|1|} \<[28]%
\>[28]\AgdaBound{S} \AgdaBound{x} \AgdaBound{y} \AgdaBound{e} \<[44]%
\>[44]\AgdaSymbol{=} \AgdaInductiveConstructor{refl}\<%
\\
\>\AgdaFunction{lemmaSwapSize} \AgdaBound{F} \AgdaInductiveConstructor{|R|} \<[28]%
\>[28]\AgdaBound{S} \AgdaBound{x} \AgdaBound{y} \AgdaInductiveConstructor{⟨} \AgdaBound{e} \AgdaInductiveConstructor{⟩} \<[44]%
\>[44]\AgdaSymbol{=} \AgdaFunction{lemmaSwapSize} \AgdaBound{F} \AgdaBound{F} \AgdaBound{S} \AgdaBound{x} \AgdaBound{y} \AgdaBound{e}\<%
\\
\>\AgdaFunction{lemmaSwapSize} \AgdaBound{F} \AgdaSymbol{(}\AgdaInductiveConstructor{|E|} \AgdaBound{A}\AgdaSymbol{)} \<[28]%
\>[28]\AgdaBound{S} \AgdaBound{x} \AgdaBound{y} \AgdaBound{e} \<[44]%
\>[44]\AgdaSymbol{=} \AgdaInductiveConstructor{refl}\<%
\\
\>\AgdaFunction{lemmaSwapSize} \AgdaBound{F} \AgdaSymbol{(}\AgdaInductiveConstructor{|Ef|} \AgdaBound{G}\AgdaSymbol{)} \<[28]%
\>[28]\AgdaBound{S} \AgdaBound{x} \AgdaBound{y} \AgdaInductiveConstructor{⟨} \AgdaBound{e} \AgdaInductiveConstructor{⟩} \<[44]%
\>[44]\AgdaSymbol{=} \AgdaFunction{lemmaSwapSize} \AgdaBound{G} \AgdaBound{G} \AgdaBound{S} \AgdaBound{x} \AgdaBound{y} \AgdaBound{e}\<%
\\
\>\AgdaFunction{lemmaSwapSize} \AgdaBound{F} \AgdaSymbol{(}\AgdaBound{G} \AgdaInductiveConstructor{|+|} \AgdaBound{G₁}\AgdaSymbol{)} \<[28]%
\>[28]\AgdaBound{S} \AgdaBound{x} \AgdaBound{y} \AgdaSymbol{(}\AgdaInductiveConstructor{inj₁} \AgdaBound{e}\AgdaSymbol{)} \<[44]%
\>[44]\AgdaSymbol{=} \AgdaFunction{lemmaSwapSize} \AgdaBound{F} \AgdaBound{G} \AgdaBound{S} \AgdaBound{x} \AgdaBound{y} \AgdaBound{e}\<%
\\
\>\AgdaFunction{lemmaSwapSize} \AgdaBound{F} \AgdaSymbol{(}\AgdaBound{G} \AgdaInductiveConstructor{|+|} \AgdaBound{G₁}\AgdaSymbol{)} \<[28]%
\>[28]\AgdaBound{S} \AgdaBound{x} \AgdaBound{y} \AgdaSymbol{(}\AgdaInductiveConstructor{inj₂} \AgdaBound{e}\AgdaSymbol{)} \<[44]%
\>[44]\AgdaSymbol{=} \AgdaFunction{lemmaSwapSize} \AgdaBound{F} \AgdaBound{G₁} \AgdaBound{S} \AgdaBound{x} \AgdaBound{y} \AgdaBound{e}\<%
\\
\>\AgdaFunction{lemmaSwapSize} \AgdaBound{F} \AgdaSymbol{(}\AgdaBound{G} \AgdaInductiveConstructor{|x|} \AgdaBound{G₁}\AgdaSymbol{)} \<[28]%
\>[28]\AgdaBound{S} \AgdaBound{x} \AgdaBound{y} \AgdaSymbol{(}\AgdaBound{e} \AgdaInductiveConstructor{,} \AgdaBound{e'}\AgdaSymbol{)} \<[44]%
\>[44]\AgdaSymbol{=} \AgdaFunction{cong₂} \AgdaPrimitive{\_+\_} \AgdaSymbol{(}\AgdaFunction{lemmaSwapSize} \AgdaBound{F} \AgdaBound{G} \AgdaBound{S} \AgdaBound{x} \AgdaBound{y} \AgdaBound{e}\AgdaSymbol{)} \AgdaSymbol{(}\AgdaFunction{lemmaSwapSize} \AgdaBound{F} \AgdaBound{G₁} \AgdaBound{S} \AgdaBound{x} \AgdaBound{y} \AgdaBound{e'}\AgdaSymbol{)}\<%
\\
\>\AgdaFunction{lemmaSwapSize} \AgdaBound{F} \AgdaSymbol{(}\AgdaInductiveConstructor{|B|} \AgdaBound{S'} \AgdaBound{G}\AgdaSymbol{)} \<[28]%
\>[28]\AgdaBound{S} \AgdaBound{x} \AgdaBound{y} \AgdaSymbol{(}\AgdaBound{z} \AgdaInductiveConstructor{,} \AgdaBound{e}\AgdaSymbol{)} \<[43]%
\>[43]\AgdaKeyword{with} \AgdaBound{S'} \AgdaFunction{≟v} \AgdaBound{S} \<[56]%
\>[56]\<%
\\
\>\AgdaSymbol{...} \AgdaSymbol{|} \AgdaInductiveConstructor{yes} \AgdaSymbol{\_} \<[13]%
\>[13]\AgdaSymbol{=} \AgdaFunction{cong} \AgdaInductiveConstructor{suc} \AgdaSymbol{(}\AgdaFunction{lemmaSwapSize} \AgdaBound{F} \AgdaBound{G} \AgdaBound{S} \AgdaBound{x} \AgdaBound{y} \AgdaBound{e}\AgdaSymbol{)}\<%
\\
\>\AgdaSymbol{...} \AgdaSymbol{|} \AgdaInductiveConstructor{no} \AgdaSymbol{\_} \<[13]%
\>[13]\AgdaSymbol{=} \AgdaFunction{cong} \AgdaInductiveConstructor{suc} \AgdaSymbol{(}\AgdaFunction{lemmaSwapSize} \AgdaBound{F} \AgdaBound{G} \AgdaBound{S} \AgdaBound{x} \AgdaBound{y} \AgdaBound{e}\AgdaSymbol{)}\<%
\\
%
\\
\>\AgdaKeyword{mutual}\<%
\\
\>[0]\AgdaIndent{2}{}\<[2]%
\>[2]\AgdaKeyword{data} \AgdaDatatype{AccF} \AgdaSymbol{(}\AgdaBound{F} \AgdaSymbol{:} \AgdaDatatype{Functor}\AgdaSymbol{)} \AgdaSymbol{:} \AgdaSymbol{(}\AgdaBound{G} \AgdaSymbol{:} \AgdaDatatype{Functor}\AgdaSymbol{)} \AgdaSymbol{→} \AgdaFunction{⟦} \AgdaBound{G} \AgdaFunction{⟧} \AgdaSymbol{(}\AgdaDatatype{μ} \AgdaBound{F}\AgdaSymbol{)} \AgdaSymbol{→} \AgdaPrimitiveType{Set} \AgdaKeyword{where}\<%
\\
\>[2]\AgdaIndent{4}{}\<[4]%
\>[4]\AgdaInductiveConstructor{accv} \<[11]%
\>[11]\AgdaSymbol{:} \<[14]%
\>[14]\AgdaSymbol{\{}\AgdaBound{a} \AgdaSymbol{:} \AgdaFunction{V}\AgdaSymbol{\}\{}\AgdaBound{S} \AgdaSymbol{:} \AgdaFunction{Sort}\AgdaSymbol{\}} \<[48]%
\>[48]\AgdaSymbol{→} \<[51]%
\>[51]\AgdaDatatype{AccF} \AgdaBound{F} \AgdaSymbol{(}\AgdaInductiveConstructor{|v|} \AgdaBound{S}\AgdaSymbol{)} \<[71]%
\>[71]\AgdaBound{a}\<%
\\
\>[2]\AgdaIndent{4}{}\<[4]%
\>[4]\AgdaInductiveConstructor{acc1} \<[11]%
\>[11]\AgdaSymbol{:} \<[51]%
\>[51]\AgdaDatatype{AccF} \AgdaBound{F} \AgdaInductiveConstructor{|1|} \<[71]%
\>[71]\AgdaInductiveConstructor{tt}\<%
\\
\>[2]\AgdaIndent{4}{}\<[4]%
\>[4]\AgdaInductiveConstructor{accE} \<[11]%
\>[11]\AgdaSymbol{:} \<[14]%
\>[14]\AgdaSymbol{\{}\AgdaBound{A} \AgdaSymbol{:} \AgdaPrimitiveType{Set}\AgdaSymbol{\}\{}\AgdaBound{a} \AgdaSymbol{:} \AgdaBound{A}\AgdaSymbol{\}} \<[48]%
\>[48]\AgdaSymbol{→} \<[51]%
\>[51]\AgdaDatatype{AccF} \AgdaBound{F} \AgdaSymbol{(}\AgdaInductiveConstructor{|E|} \AgdaBound{A}\AgdaSymbol{)} \<[71]%
\>[71]\AgdaBound{a}\<%
\\
\>[2]\AgdaIndent{4}{}\<[4]%
\>[4]\AgdaInductiveConstructor{accEf} \<[11]%
\>[11]\AgdaSymbol{:} \<[14]%
\>[14]\AgdaSymbol{\{}\AgdaBound{H} \AgdaSymbol{:} \AgdaDatatype{Functor}\AgdaSymbol{\}\{}\AgdaBound{e} \AgdaSymbol{:} \AgdaDatatype{μ} \AgdaBound{H}\AgdaSymbol{\}} \<[37]%
\>[37]\<%
\\
\>[4]\AgdaIndent{14}{}\<[14]%
\>[14]\AgdaSymbol{→} \AgdaFunction{Accμ} \AgdaBound{e} \<[48]%
\>[48]\AgdaSymbol{→} \<[51]%
\>[51]\AgdaDatatype{AccF} \AgdaBound{F} \AgdaSymbol{(}\AgdaInductiveConstructor{|Ef|} \AgdaBound{H}\AgdaSymbol{)} \<[71]%
\>[71]\AgdaBound{e}\<%
\\
\>[0]\AgdaIndent{4}{}\<[4]%
\>[4]\AgdaInductiveConstructor{accR} \<[11]%
\>[11]\AgdaSymbol{:} \<[14]%
\>[14]\AgdaSymbol{\{}\AgdaBound{e} \AgdaSymbol{:} \AgdaDatatype{μ} \AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{→} \AgdaFunction{Accμ} \AgdaBound{e} \<[48]%
\>[48]\AgdaSymbol{→} \<[51]%
\>[51]\AgdaDatatype{AccF} \AgdaBound{F} \AgdaInductiveConstructor{|R|} \<[71]%
\>[71]\AgdaBound{e}\<%
\\
\>[0]\AgdaIndent{4}{}\<[4]%
\>[4]\AgdaInductiveConstructor{acc+₁} \<[11]%
\>[11]\AgdaSymbol{:} \<[14]%
\>[14]\AgdaSymbol{\{}\AgdaBound{G₁} \AgdaBound{G₂} \AgdaSymbol{:} \AgdaDatatype{Functor}\AgdaSymbol{\}\{}\AgdaBound{e} \AgdaSymbol{:} \AgdaFunction{⟦} \AgdaBound{G₁} \AgdaFunction{⟧} \AgdaSymbol{(}\AgdaDatatype{μ} \AgdaBound{F}\AgdaSymbol{)\}}\<%
\\
\>[4]\AgdaIndent{14}{}\<[14]%
\>[14]\AgdaSymbol{→} \<[17]%
\>[17]\AgdaDatatype{AccF} \AgdaBound{F} \AgdaBound{G₁} \AgdaBound{e} \<[48]%
\>[48]\AgdaSymbol{→} \<[51]%
\>[51]\AgdaDatatype{AccF} \AgdaBound{F} \AgdaSymbol{(}\AgdaBound{G₁} \AgdaInductiveConstructor{|+|} \AgdaBound{G₂}\AgdaSymbol{)} \<[71]%
\>[71]\AgdaSymbol{(}\AgdaInductiveConstructor{inj₁} \AgdaBound{e}\AgdaSymbol{)}\<%
\\
\>[0]\AgdaIndent{4}{}\<[4]%
\>[4]\AgdaInductiveConstructor{acc+₂} \<[11]%
\>[11]\AgdaSymbol{:} \<[14]%
\>[14]\AgdaSymbol{\{}\AgdaBound{G₁} \AgdaBound{G₂} \AgdaSymbol{:} \AgdaDatatype{Functor}\AgdaSymbol{\}\{}\AgdaBound{e} \AgdaSymbol{:} \AgdaFunction{⟦} \AgdaBound{G₂} \AgdaFunction{⟧} \AgdaSymbol{(}\AgdaDatatype{μ} \AgdaBound{F}\AgdaSymbol{)\}}\<%
\\
\>[4]\AgdaIndent{14}{}\<[14]%
\>[14]\AgdaSymbol{→} \<[17]%
\>[17]\AgdaDatatype{AccF} \AgdaBound{F} \AgdaBound{G₂} \AgdaBound{e} \<[48]%
\>[48]\AgdaSymbol{→} \<[51]%
\>[51]\AgdaDatatype{AccF} \AgdaBound{F} \AgdaSymbol{(}\AgdaBound{G₁} \AgdaInductiveConstructor{|+|} \AgdaBound{G₂}\AgdaSymbol{)} \<[71]%
\>[71]\AgdaSymbol{(}\AgdaInductiveConstructor{inj₂} \AgdaBound{e}\AgdaSymbol{)}\<%
\\
\>[0]\AgdaIndent{4}{}\<[4]%
\>[4]\AgdaInductiveConstructor{accx} \<[10]%
\>[10]\AgdaSymbol{:} \<[13]%
\>[13]\AgdaSymbol{\{}\AgdaBound{G₁} \AgdaBound{G₂} \AgdaSymbol{:} \AgdaDatatype{Functor}\AgdaSymbol{\}\{}\AgdaBound{e₁} \AgdaSymbol{:} \AgdaFunction{⟦} \AgdaBound{G₁} \AgdaFunction{⟧} \AgdaSymbol{(}\AgdaDatatype{μ} \AgdaBound{F}\AgdaSymbol{)\}\{}\AgdaBound{e₂} \AgdaSymbol{:} \AgdaFunction{⟦} \AgdaBound{G₂} \AgdaFunction{⟧} \AgdaSymbol{(}\AgdaDatatype{μ} \AgdaBound{F}\AgdaSymbol{)\}}\<%
\\
\>[4]\AgdaIndent{13}{}\<[13]%
\>[13]\AgdaSymbol{→} \<[16]%
\>[16]\AgdaDatatype{AccF} \AgdaBound{F} \AgdaBound{G₁} \AgdaBound{e₁} \AgdaSymbol{→} \AgdaDatatype{AccF} \AgdaBound{F} \AgdaBound{G₂} \AgdaBound{e₂} \<[48]%
\>[48]\AgdaSymbol{→} \<[51]%
\>[51]\AgdaDatatype{AccF} \AgdaBound{F} \AgdaSymbol{(}\AgdaBound{G₁} \AgdaInductiveConstructor{|x|} \AgdaBound{G₂}\AgdaSymbol{)} \<[71]%
\>[71]\AgdaSymbol{(}\AgdaBound{e₁} \AgdaInductiveConstructor{,} \AgdaBound{e₂}\AgdaSymbol{)}\<%
\\
\>[0]\AgdaIndent{4}{}\<[4]%
\>[4]\AgdaInductiveConstructor{accB} \<[10]%
\>[10]\AgdaSymbol{:} \<[13]%
\>[13]\AgdaSymbol{\{}\AgdaBound{G} \AgdaSymbol{:} \AgdaDatatype{Functor}\AgdaSymbol{\}\{}\AgdaBound{x} \AgdaSymbol{:} \AgdaFunction{V}\AgdaSymbol{\}\{}\AgdaBound{S} \AgdaSymbol{:} \AgdaFunction{Sort}\AgdaSymbol{\}\{}\AgdaBound{e} \AgdaSymbol{:} \AgdaFunction{⟦} \AgdaBound{G} \AgdaFunction{⟧} \AgdaSymbol{(}\AgdaDatatype{μ} \AgdaBound{F}\AgdaSymbol{)\}}\<%
\\
\>[4]\AgdaIndent{13}{}\<[13]%
\>[13]\AgdaSymbol{→} \<[16]%
\>[16]\AgdaSymbol{((}\AgdaBound{y} \AgdaSymbol{:} \AgdaFunction{V}\AgdaSymbol{)} \AgdaSymbol{→} \AgdaDatatype{AccF} \AgdaBound{F} \AgdaBound{G} \AgdaSymbol{(}\AgdaFunction{swapF} \AgdaBound{G} \AgdaBound{S} \AgdaBound{x} \AgdaBound{y} \AgdaBound{e}\AgdaSymbol{))}\<%
\\
\>[13]\AgdaIndent{48}{}\<[48]%
\>[48]\AgdaSymbol{→} \<[51]%
\>[51]\AgdaDatatype{AccF} \AgdaBound{F} \AgdaSymbol{(}\AgdaInductiveConstructor{|B|} \AgdaBound{S} \AgdaBound{G}\AgdaSymbol{)} \<[71]%
\>[71]\AgdaSymbol{(}\AgdaBound{x} \AgdaInductiveConstructor{,} \AgdaBound{e}\AgdaSymbol{)}\<%
\\
%
\\
\>[0]\AgdaIndent{2}{}\<[2]%
\>[2]\AgdaFunction{Accμ} \AgdaSymbol{:} \AgdaSymbol{\{}\AgdaBound{F} \AgdaSymbol{:} \AgdaDatatype{Functor}\AgdaSymbol{\}} \AgdaSymbol{→} \AgdaDatatype{μ} \AgdaBound{F} \AgdaSymbol{→} \AgdaPrimitiveType{Set}\<%
\\
\>[0]\AgdaIndent{2}{}\<[2]%
\>[2]\AgdaFunction{Accμ} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaInductiveConstructor{⟨} \AgdaBound{e} \AgdaInductiveConstructor{⟩} \AgdaSymbol{=} \AgdaDatatype{AccF} \AgdaBound{F} \AgdaBound{F} \AgdaBound{e}\<%
\\
%
\\
\>\AgdaKeyword{open} \AgdaKeyword{import} \AgdaModule{Induction.WellFounded}\<%
\\
%
\\
\>\AgdaFunction{accFNat} \AgdaSymbol{:} \AgdaSymbol{\{}\AgdaBound{F} \AgdaBound{G} \AgdaSymbol{:} \AgdaDatatype{Functor}\AgdaSymbol{\}(}\AgdaBound{e} \AgdaSymbol{:} \AgdaFunction{⟦} \AgdaBound{G} \AgdaFunction{⟧} \AgdaSymbol{(}\AgdaDatatype{μ} \AgdaBound{F}\AgdaSymbol{))(}\AgdaBound{n} \AgdaSymbol{:} \AgdaDatatype{ℕ}\AgdaSymbol{)} \AgdaSymbol{→} \AgdaDatatype{Acc} \AgdaFunction{\_<′\_} \AgdaBound{n} \AgdaSymbol{→} \AgdaFunction{sizeF} \AgdaBound{G} \AgdaBound{e} \AgdaDatatype{≡} \AgdaBound{n} \AgdaSymbol{→} \AgdaDatatype{AccF} \AgdaBound{F} \AgdaBound{G} \AgdaBound{e}\<%
\\
\>\AgdaFunction{accFNat} \AgdaSymbol{\{}\AgdaArgument{G} \AgdaSymbol{=} \AgdaInductiveConstructor{|v|} \AgdaBound{x}\AgdaSymbol{\}} \<[25]%
\>[25]\AgdaBound{e} \<[35]%
\>[35]\AgdaBound{n} \AgdaBound{accn} \AgdaBound{|e|≡n} \AgdaSymbol{=} \AgdaInductiveConstructor{accv}\<%
\\
\>\AgdaFunction{accFNat} \AgdaSymbol{\{}\AgdaArgument{G} \AgdaSymbol{=} \AgdaInductiveConstructor{|1|}\AgdaSymbol{\}} \<[25]%
\>[25]\AgdaBound{e} \<[35]%
\>[35]\AgdaBound{n} \AgdaBound{accn} \AgdaBound{|e|≡n} \AgdaSymbol{=} \AgdaInductiveConstructor{acc1}\<%
\\
\>\AgdaFunction{accFNat} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaInductiveConstructor{|R|}\AgdaSymbol{\}} \<[25]%
\>[25]\AgdaInductiveConstructor{⟨} \AgdaBound{e} \AgdaInductiveConstructor{⟩} \<[35]%
\>[35]\AgdaBound{n} \AgdaBound{accn} \AgdaBound{|e|≡n} \AgdaSymbol{=} \AgdaInductiveConstructor{accR} \<[57]%
\>[57]\AgdaSymbol{(}\AgdaFunction{accFNat} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaBound{e} \AgdaBound{n} \AgdaBound{accn} \AgdaBound{|e|≡n}\AgdaSymbol{)}\<%
\\
\>\AgdaFunction{accFNat} \AgdaSymbol{\{}\AgdaArgument{G} \AgdaSymbol{=} \AgdaInductiveConstructor{|E|} \AgdaBound{x}\AgdaSymbol{\}} \<[25]%
\>[25]\AgdaBound{e} \<[35]%
\>[35]\AgdaBound{n} \AgdaBound{accn} \AgdaBound{|e|≡n} \AgdaSymbol{=} \AgdaInductiveConstructor{accE}\<%
\\
\>\AgdaFunction{accFNat} \AgdaSymbol{\{}\AgdaArgument{G} \AgdaSymbol{=} \AgdaInductiveConstructor{|Ef|} \AgdaBound{G}\AgdaSymbol{\}} \<[25]%
\>[25]\AgdaInductiveConstructor{⟨} \AgdaBound{e} \AgdaInductiveConstructor{⟩} \<[35]%
\>[35]\AgdaBound{n} \AgdaBound{accn} \AgdaBound{|e|≡n} \AgdaSymbol{=} \AgdaInductiveConstructor{accEf} \<[57]%
\>[57]\AgdaSymbol{(}\AgdaFunction{accFNat} \AgdaSymbol{\{}\AgdaBound{G}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{G}\AgdaSymbol{\}} \AgdaBound{e} \AgdaBound{n} \AgdaBound{accn} \AgdaBound{|e|≡n}\AgdaSymbol{)}\<%
\\
\>\AgdaFunction{accFNat} \AgdaSymbol{\{}\AgdaArgument{G} \AgdaSymbol{=} \AgdaBound{G₁} \AgdaInductiveConstructor{|+|} \AgdaBound{G₂}\AgdaSymbol{\}} \<[25]%
\>[25]\AgdaSymbol{(}\AgdaInductiveConstructor{inj₁} \AgdaBound{e}\AgdaSymbol{)} \<[35]%
\>[35]\AgdaBound{n} \AgdaBound{accn} \AgdaBound{|e|≡n} \AgdaSymbol{=} \AgdaInductiveConstructor{acc+₁} \<[57]%
\>[57]\AgdaSymbol{(}\AgdaFunction{accFNat} \AgdaSymbol{\{}\AgdaArgument{G} \AgdaSymbol{=} \AgdaBound{G₁}\AgdaSymbol{\}} \AgdaBound{e} \AgdaBound{n} \AgdaBound{accn} \AgdaBound{|e|≡n}\AgdaSymbol{)}\<%
\\
\>\AgdaFunction{accFNat} \AgdaSymbol{\{}\AgdaArgument{G} \AgdaSymbol{=} \AgdaBound{G₁} \AgdaInductiveConstructor{|+|} \AgdaBound{G₂}\AgdaSymbol{\}} \<[25]%
\>[25]\AgdaSymbol{(}\AgdaInductiveConstructor{inj₂} \AgdaBound{e}\AgdaSymbol{)} \<[35]%
\>[35]\AgdaBound{n} \AgdaBound{accn} \AgdaBound{|e|≡n} \AgdaSymbol{=} \AgdaInductiveConstructor{acc+₂} \<[57]%
\>[57]\AgdaSymbol{(}\AgdaFunction{accFNat} \AgdaSymbol{\{}\AgdaArgument{G} \AgdaSymbol{=} \AgdaBound{G₂}\AgdaSymbol{\}} \AgdaBound{e} \AgdaBound{n} \AgdaBound{accn} \AgdaBound{|e|≡n}\AgdaSymbol{)}\<%
\\
\>\AgdaFunction{accFNat} \AgdaSymbol{\{}\AgdaArgument{G} \AgdaSymbol{=} \AgdaBound{G₁} \AgdaInductiveConstructor{|x|} \AgdaBound{G₂}\AgdaSymbol{\}} \<[25]%
\>[25]\AgdaSymbol{(}\AgdaBound{e₁} \AgdaInductiveConstructor{,} \AgdaBound{e₂}\AgdaSymbol{)} \AgdaSymbol{.(}\AgdaFunction{sizeF} \AgdaBound{G₁} \AgdaBound{e₁} \AgdaPrimitive{+} \AgdaFunction{sizeF} \AgdaBound{G₂} \AgdaBound{e₂} \AgdaSymbol{)} \<[66]%
\>[66]\AgdaSymbol{(}\AgdaInductiveConstructor{acc} \AgdaBound{f}\AgdaSymbol{)} \AgdaInductiveConstructor{refl} \<[79]%
\>[79]\<%
\\
\>[0]\AgdaIndent{2}{}\<[2]%
\>[2]\AgdaSymbol{=} \AgdaInductiveConstructor{accx} \<[10]%
\>[10]\AgdaSymbol{(}\AgdaFunction{accFNat} \AgdaSymbol{\{}\AgdaArgument{G} \AgdaSymbol{=} \AgdaBound{G₁}\AgdaSymbol{\}} \AgdaBound{e₁} \AgdaSymbol{(}\AgdaFunction{sizeF} \AgdaBound{G₁} \AgdaBound{e₁}\AgdaSymbol{)} \AgdaSymbol{(}\AgdaBound{f} \AgdaSymbol{(}\AgdaFunction{sizeF} \AgdaBound{G₁} \AgdaBound{e₁}\AgdaSymbol{)} \AgdaSymbol{(}\AgdaFunction{lemman>0→m+1≤m+n} \AgdaSymbol{(}\AgdaFunction{lemmasizeF>0} \AgdaSymbol{\{}\AgdaArgument{G} \AgdaSymbol{=} \AgdaBound{G₂}\AgdaSymbol{\}} \AgdaBound{e₂}\AgdaSymbol{)))} \AgdaInductiveConstructor{refl}\AgdaSymbol{)} \<[115]%
\>[115]\<%
\\
\>[2]\AgdaIndent{10}{}\<[10]%
\>[10]\AgdaSymbol{(}\AgdaFunction{accFNat} \AgdaSymbol{\{}\AgdaArgument{G} \AgdaSymbol{=} \AgdaBound{G₂}\AgdaSymbol{\}} \AgdaBound{e₂} \AgdaSymbol{(}\AgdaFunction{sizeF} \AgdaBound{G₂} \AgdaBound{e₂}\AgdaSymbol{)} \AgdaSymbol{(}\AgdaBound{f} \AgdaSymbol{(}\AgdaFunction{sizeF} \AgdaBound{G₂} \AgdaBound{e₂}\AgdaSymbol{)} \AgdaSymbol{(}\AgdaFunction{lemmam>0→n+1≤m+n} \AgdaSymbol{(}\AgdaFunction{lemmasizeF>0} \AgdaSymbol{\{}\AgdaArgument{G} \AgdaSymbol{=} \AgdaBound{G₁}\AgdaSymbol{\}} \AgdaBound{e₁}\AgdaSymbol{)))} \AgdaInductiveConstructor{refl}\AgdaSymbol{)}\<%
\\
\>\AgdaFunction{accFNat} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaInductiveConstructor{|B|} \AgdaBound{S} \AgdaBound{G}\AgdaSymbol{\}} \<[25]%
\>[25]\AgdaSymbol{(}\AgdaBound{x} \<[29]%
\>[29]\AgdaInductiveConstructor{,} \AgdaBound{e}\AgdaSymbol{)} \<[35]%
\>[35]\AgdaSymbol{.(}\AgdaInductiveConstructor{suc} \AgdaSymbol{(}\AgdaFunction{sizeF} \AgdaBound{G} \AgdaBound{e}\AgdaSymbol{))} \<[66]%
\>[66]\AgdaSymbol{(}\AgdaInductiveConstructor{acc} \AgdaBound{f}\AgdaSymbol{)} \AgdaInductiveConstructor{refl} \<[79]%
\>[79]\<%
\\
\>[0]\AgdaIndent{2}{}\<[2]%
\>[2]\AgdaSymbol{=} \AgdaInductiveConstructor{accB} \AgdaSymbol{(λ} \AgdaBound{y} \AgdaSymbol{→} \AgdaFunction{accFNat} \AgdaSymbol{(}\AgdaFunction{swapF} \AgdaBound{G} \AgdaBound{S} \AgdaBound{x} \AgdaBound{y} \AgdaBound{e}\AgdaSymbol{)} \AgdaSymbol{(}\AgdaFunction{sizeF} \AgdaBound{G} \AgdaBound{e}\AgdaSymbol{)} \AgdaSymbol{(}\AgdaBound{f} \AgdaSymbol{(}\AgdaFunction{sizeF} \AgdaBound{G} \AgdaBound{e}\AgdaSymbol{)} \AgdaInductiveConstructor{≤′-refl}\AgdaSymbol{)} \AgdaSymbol{(}\AgdaFunction{lemmaSwapSize} \AgdaBound{F} \AgdaBound{G} \AgdaBound{S} \AgdaBound{x} \AgdaBound{y} \AgdaBound{e}\AgdaSymbol{))}\<%
\\
%
\\
\>\AgdaKeyword{open} \AgdaKeyword{import} \AgdaModule{Induction.Nat}\<%
\\
%
\\
\>\AgdaFunction{accF} \AgdaSymbol{:} \AgdaSymbol{\{}\AgdaBound{F} \AgdaSymbol{:} \AgdaDatatype{Functor}\AgdaSymbol{\}(}\AgdaBound{e} \AgdaSymbol{:} \AgdaDatatype{μ} \AgdaBound{F}\AgdaSymbol{)} \AgdaSymbol{→} \AgdaDatatype{AccF} \AgdaBound{F} \AgdaInductiveConstructor{|R|} \AgdaBound{e}\<%
\\
\>\AgdaFunction{accF} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaBound{e} \AgdaSymbol{=} \AgdaFunction{accFNat} \AgdaBound{e} \AgdaSymbol{(}\AgdaFunction{size} \AgdaBound{e}\AgdaSymbol{)} \AgdaSymbol{(}\AgdaFunction{Induction.Nat.<-well-founded} \AgdaSymbol{(}\AgdaFunction{size} \AgdaBound{e}\AgdaSymbol{))} \AgdaInductiveConstructor{refl}\<%
\\
%
\\
\>\AgdaFunction{lemmaSwapFoldEquivF} \AgdaSymbol{:} \AgdaSymbol{\{}\AgdaBound{F} \AgdaBound{G} \AgdaBound{H} \AgdaSymbol{:} \AgdaDatatype{Functor}\AgdaSymbol{\}\{}\AgdaBound{S} \AgdaSymbol{:} \AgdaFunction{Sort}\AgdaSymbol{\}\{}\AgdaBound{x} \AgdaBound{y} \AgdaSymbol{:} \AgdaFunction{V}\AgdaSymbol{\}\{}\AgdaBound{e} \AgdaSymbol{:} \AgdaFunction{⟦} \AgdaBound{G} \AgdaFunction{⟧} \AgdaSymbol{(}\AgdaDatatype{μ} \AgdaBound{F}\AgdaSymbol{)\}}\<%
\\
\>[2]\AgdaIndent{5}{}\<[5]%
\>[5]\AgdaSymbol{\{}\AgdaBound{f} \<[9]%
\>[9]\AgdaSymbol{:} \AgdaFunction{⟦} \AgdaBound{F} \AgdaFunction{⟧} \AgdaSymbol{(}\AgdaDatatype{μ} \AgdaBound{H}\AgdaSymbol{)} \AgdaSymbol{→} \AgdaDatatype{μ} \AgdaBound{H}\AgdaSymbol{\}}\<%
\\
\>[0]\AgdaIndent{2}{}\<[2]%
\>[2]\AgdaSymbol{→} \<[5]%
\>[5]\AgdaSymbol{(\{}\AgdaBound{x} \AgdaBound{y} \AgdaSymbol{:} \AgdaFunction{V}\AgdaSymbol{\}\{}\AgdaBound{e} \<[19]%
\>[19]\AgdaSymbol{:} \AgdaFunction{⟦} \AgdaBound{F} \AgdaFunction{⟧} \AgdaSymbol{(}\AgdaDatatype{μ} \AgdaBound{H}\AgdaSymbol{)\}} \AgdaSymbol{→} \AgdaBound{f} \AgdaSymbol{(}\AgdaFunction{swapF} \AgdaBound{F} \AgdaBound{S} \AgdaBound{x} \AgdaBound{y} \AgdaBound{e}\AgdaSymbol{)} \AgdaDatatype{≡} \AgdaFunction{swap} \AgdaSymbol{\{}\AgdaBound{H}\AgdaSymbol{\}} \AgdaBound{S} \AgdaBound{x} \AgdaBound{y} \AgdaSymbol{(}\AgdaBound{f} \AgdaBound{e}\AgdaSymbol{))}\<%
\\
\>[0]\AgdaIndent{2}{}\<[2]%
\>[2]\AgdaSymbol{→} \<[5]%
\>[5]\AgdaFunction{foldmap} \AgdaBound{F} \AgdaBound{G} \AgdaBound{f} \AgdaSymbol{(}\AgdaFunction{swapF} \AgdaBound{G} \AgdaBound{S} \AgdaBound{x} \AgdaBound{y} \AgdaBound{e}\AgdaSymbol{)} \AgdaDatatype{≡} \AgdaFunction{swapF} \AgdaBound{G} \AgdaBound{S} \AgdaBound{x} \AgdaBound{y} \AgdaSymbol{(}\AgdaFunction{foldmap} \AgdaBound{F} \AgdaBound{G} \AgdaBound{f} \AgdaBound{e}\AgdaSymbol{)}\<%
\\
\>\AgdaFunction{lemmaSwapFoldEquivF} \<[25]%
\>[25]\AgdaSymbol{\{}\AgdaArgument{G} \AgdaSymbol{=} \AgdaInductiveConstructor{|v|} \AgdaBound{x}\AgdaSymbol{\}} \<[57]%
\>[57]\AgdaBound{prf} \AgdaSymbol{=} \AgdaInductiveConstructor{refl}\<%
\\
\>\AgdaFunction{lemmaSwapFoldEquivF} \<[25]%
\>[25]\AgdaSymbol{\{}\AgdaArgument{G} \AgdaSymbol{=} \AgdaInductiveConstructor{|1|}\AgdaSymbol{\}} \<[57]%
\>[57]\AgdaBound{prf} \AgdaSymbol{=} \AgdaInductiveConstructor{refl}\<%
\\
\>\AgdaFunction{lemmaSwapFoldEquivF} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \<[25]%
\>[25]\AgdaSymbol{\{}\AgdaInductiveConstructor{|R|}\AgdaSymbol{\}} \<[40]%
\>[40]\AgdaSymbol{\{}\AgdaArgument{e} \AgdaSymbol{=} \AgdaInductiveConstructor{⟨} \AgdaBound{e} \AgdaInductiveConstructor{⟩}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{f}\AgdaSymbol{\}} \<[57]%
\>[57]\AgdaBound{prf} \<[61]%
\>[61]\<%
\\
\>[0]\AgdaIndent{2}{}\<[2]%
\>[2]\AgdaSymbol{=} \AgdaFunction{trans} \AgdaSymbol{(}\AgdaFunction{cong} \AgdaBound{f} \AgdaSymbol{(}\AgdaFunction{lemmaSwapFoldEquivF} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaBound{prf}\AgdaSymbol{))} \AgdaBound{prf}\<%
\\
\>\AgdaFunction{lemmaSwapFoldEquivF} \<[25]%
\>[25]\AgdaSymbol{\{}\AgdaArgument{G} \AgdaSymbol{=} \AgdaInductiveConstructor{|E|} \<[36]%
\>[36]\AgdaSymbol{\_\}} \<[57]%
\>[57]\AgdaBound{prf} \AgdaSymbol{=} \AgdaInductiveConstructor{refl}\<%
\\
\>\AgdaFunction{lemmaSwapFoldEquivF} \<[25]%
\>[25]\AgdaSymbol{\{}\AgdaArgument{G} \AgdaSymbol{=} \AgdaInductiveConstructor{|Ef|} \<[36]%
\>[36]\AgdaSymbol{\_\}} \<[40]%
\>[40]\AgdaSymbol{\{}\AgdaArgument{e} \AgdaSymbol{=} \AgdaInductiveConstructor{⟨} \AgdaBound{e} \AgdaInductiveConstructor{⟩}\AgdaSymbol{\}} \<[57]%
\>[57]\AgdaBound{prf} \AgdaSymbol{=} \AgdaInductiveConstructor{refl}\<%
\\
\>\AgdaFunction{lemmaSwapFoldEquivF} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \<[25]%
\>[25]\AgdaSymbol{\{}\AgdaBound{G₁} \AgdaInductiveConstructor{|+|} \AgdaBound{G₂}\AgdaSymbol{\}} \<[40]%
\>[40]\AgdaSymbol{\{}\AgdaArgument{e} \AgdaSymbol{=} \AgdaInductiveConstructor{inj₁} \AgdaBound{x₁}\AgdaSymbol{\}} \<[57]%
\>[57]\AgdaBound{prf} \<[61]%
\>[61]\<%
\\
\>[0]\AgdaIndent{2}{}\<[2]%
\>[2]\AgdaSymbol{=} \AgdaFunction{cong} \AgdaInductiveConstructor{inj₁} \AgdaSymbol{(}\AgdaFunction{lemmaSwapFoldEquivF} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{G₁}\AgdaSymbol{\}} \AgdaBound{prf}\AgdaSymbol{)} \<[49]%
\>[49]\<%
\\
\>\AgdaFunction{lemmaSwapFoldEquivF} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \<[25]%
\>[25]\AgdaSymbol{\{}\AgdaBound{G₁} \AgdaInductiveConstructor{|+|} \AgdaBound{G₂}\AgdaSymbol{\}} \<[40]%
\>[40]\AgdaSymbol{\{}\AgdaArgument{e} \AgdaSymbol{=} \AgdaInductiveConstructor{inj₂} \AgdaBound{y₁}\AgdaSymbol{\}} \<[57]%
\>[57]\AgdaBound{prf} \<[61]%
\>[61]\<%
\\
\>[0]\AgdaIndent{2}{}\<[2]%
\>[2]\AgdaSymbol{=} \AgdaFunction{cong} \AgdaInductiveConstructor{inj₂} \AgdaSymbol{(}\AgdaFunction{lemmaSwapFoldEquivF} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{G₂}\AgdaSymbol{\}} \AgdaBound{prf}\AgdaSymbol{)} \<[49]%
\>[49]\<%
\\
\>\AgdaFunction{lemmaSwapFoldEquivF} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \<[25]%
\>[25]\AgdaSymbol{\{}\AgdaBound{G₁} \AgdaInductiveConstructor{|x|} \AgdaBound{G₂}\AgdaSymbol{\}} \<[40]%
\>[40]\AgdaSymbol{\{}\AgdaArgument{e} \AgdaSymbol{=} \AgdaBound{e₁} \AgdaInductiveConstructor{,} \AgdaBound{e₂}\AgdaSymbol{\}} \<[57]%
\>[57]\AgdaBound{prf}\<%
\\
\>[0]\AgdaIndent{2}{}\<[2]%
\>[2]\AgdaSymbol{=} \AgdaFunction{cong₂} \AgdaSymbol{(}\AgdaInductiveConstructor{\_,\_}\AgdaSymbol{)} \<[17]%
\>[17]\AgdaSymbol{(}\AgdaFunction{lemmaSwapFoldEquivF} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{G₁}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaArgument{e} \AgdaSymbol{=} \AgdaBound{e₁}\AgdaSymbol{\}} \AgdaBound{prf}\AgdaSymbol{)} \<[61]%
\>[61]\<%
\\
\>[2]\AgdaIndent{17}{}\<[17]%
\>[17]\AgdaSymbol{(}\AgdaFunction{lemmaSwapFoldEquivF} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{G₂}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaArgument{e} \AgdaSymbol{=} \AgdaBound{e₂}\AgdaSymbol{\}} \AgdaBound{prf}\AgdaSymbol{)}\<%
\\
\>\AgdaFunction{lemmaSwapFoldEquivF} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaInductiveConstructor{|B|} \AgdaBound{S} \AgdaBound{G}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{H}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S'}\AgdaSymbol{\}} \<[43]%
\>[43]\<%
\\
\>[17]\AgdaIndent{40}{}\<[40]%
\>[40]\AgdaSymbol{\{}\AgdaArgument{e} \AgdaSymbol{=} \AgdaBound{z} \AgdaInductiveConstructor{,} \AgdaBound{e}\AgdaSymbol{\}} \<[57]%
\>[57]\AgdaBound{prf} \AgdaKeyword{with} \AgdaBound{S} \AgdaFunction{≟S} \AgdaBound{S'}\<%
\\
\>\AgdaSymbol{...} \AgdaSymbol{|} \AgdaInductiveConstructor{yes} \AgdaSymbol{\_} \AgdaSymbol{=} \AgdaFunction{cong₂} \AgdaSymbol{(}\AgdaInductiveConstructor{\_,\_}\AgdaSymbol{)} \AgdaInductiveConstructor{refl} \AgdaSymbol{(}\AgdaFunction{lemmaSwapFoldEquivF} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{G}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{H}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S'}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaArgument{e} \AgdaSymbol{=} \AgdaBound{e}\AgdaSymbol{\}} \AgdaBound{prf}\AgdaSymbol{)} \<[82]%
\>[82]\<%
\\
\>\AgdaSymbol{...} \AgdaSymbol{|} \AgdaInductiveConstructor{no} \AgdaSymbol{\_} \<[12]%
\>[12]\AgdaSymbol{=} \AgdaFunction{cong₂} \AgdaSymbol{(}\AgdaInductiveConstructor{\_,\_}\AgdaSymbol{)} \AgdaInductiveConstructor{refl} \AgdaSymbol{(}\AgdaFunction{lemmaSwapFoldEquivF} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{G}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{H}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S'}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaArgument{e} \AgdaSymbol{=} \AgdaBound{e}\AgdaSymbol{\}} \AgdaBound{prf}\AgdaSymbol{)} \<%
\end{code}

%<*swapfoldequiv>
\begin{code}%
\>\AgdaFunction{lemmaSwapFoldEquiv} \<[20]%
\>[20]\AgdaSymbol{:} \<[23]%
\>[23]\AgdaSymbol{\{}\AgdaBound{F} \AgdaBound{H} \AgdaSymbol{:} \AgdaDatatype{Functor}\AgdaSymbol{\}\{}\AgdaBound{S} \AgdaSymbol{:} \AgdaFunction{Sort}\AgdaSymbol{\}}\<%
\\
\>[0]\AgdaIndent{6}{}\<[6]%
\>[6]\AgdaSymbol{\{}\AgdaBound{x} \AgdaBound{y} \AgdaSymbol{:} \AgdaFunction{V}\AgdaSymbol{\}\{}\AgdaBound{e} \AgdaSymbol{:} \AgdaDatatype{μ} \AgdaBound{F}\AgdaSymbol{\}\{}\AgdaBound{f} \<[28]%
\>[28]\AgdaSymbol{:} \AgdaFunction{⟦} \AgdaBound{F} \AgdaFunction{⟧} \AgdaSymbol{(}\AgdaDatatype{μ} \AgdaBound{H}\AgdaSymbol{)} \AgdaSymbol{→} \AgdaDatatype{μ} \AgdaBound{H}\AgdaSymbol{\}}\<%
\\
\>[0]\AgdaIndent{3}{}\<[3]%
\>[3]\AgdaSymbol{→} \<[6]%
\>[6]\AgdaSymbol{(\{}\AgdaBound{x} \AgdaBound{y} \AgdaSymbol{:} \AgdaFunction{V}\AgdaSymbol{\}} \<[18]%
\>[18]\AgdaSymbol{\{}\AgdaBound{e} \<[22]%
\>[22]\AgdaSymbol{:} \AgdaFunction{⟦} \AgdaBound{F} \AgdaFunction{⟧} \AgdaSymbol{(}\AgdaDatatype{μ} \AgdaBound{H}\AgdaSymbol{)\}} \<[37]%
\>[37]\<%
\\
\>[3]\AgdaIndent{14}{}\<[14]%
\>[14]\AgdaSymbol{→} \<[18]%
\>[18]\AgdaBound{f} \AgdaSymbol{(}\AgdaFunction{swapF} \AgdaBound{F} \AgdaBound{S} \AgdaBound{x} \AgdaBound{y} \AgdaBound{e}\AgdaSymbol{)} \AgdaDatatype{≡} \AgdaFunction{swap} \AgdaSymbol{\{}\AgdaBound{H}\AgdaSymbol{\}} \AgdaBound{S} \AgdaBound{x} \AgdaBound{y} \AgdaSymbol{(}\AgdaBound{f} \AgdaBound{e}\AgdaSymbol{))}\<%
\\
\>[0]\AgdaIndent{3}{}\<[3]%
\>[3]\AgdaSymbol{→} \<[6]%
\>[6]\AgdaFunction{fold} \AgdaBound{F} \AgdaBound{f} \AgdaSymbol{(}\AgdaFunction{swap} \AgdaBound{S} \AgdaBound{x} \AgdaBound{y} \AgdaBound{e}\AgdaSymbol{)} \AgdaDatatype{≡} \AgdaFunction{swap} \AgdaBound{S} \AgdaBound{x} \AgdaBound{y} \AgdaSymbol{(}\AgdaFunction{fold} \AgdaBound{F} \AgdaBound{f} \AgdaBound{e}\AgdaSymbol{)}\<%
\end{code}
%</swapfoldequiv>

\begin{code}%
\>\AgdaFunction{lemmaSwapFoldEquiv} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{H}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{x}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{y}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{e}\AgdaSymbol{\}} \AgdaBound{prf} \AgdaSymbol{=} \AgdaFunction{lemmaSwapFoldEquivF} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaInductiveConstructor{|R|}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{H}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{x}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{y}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{e}\AgdaSymbol{\}} \AgdaBound{prf}\<%
\\
%
\\
\>\AgdaFunction{lemmaSwapFoldEquivCtxF} \AgdaSymbol{:} \<[26]%
\>[26]\AgdaSymbol{\{}\AgdaBound{F} \AgdaBound{G} \AgdaBound{H} \AgdaSymbol{:} \AgdaDatatype{Functor}\AgdaSymbol{\}\{}\AgdaBound{S} \AgdaSymbol{:} \AgdaFunction{Sort}\AgdaSymbol{\}\{}\AgdaBound{x} \AgdaBound{y} \AgdaSymbol{:} \AgdaFunction{V}\AgdaSymbol{\}\{}\AgdaBound{e} \AgdaSymbol{:} \AgdaFunction{⟦} \AgdaBound{G} \AgdaFunction{⟧} \AgdaSymbol{(}\AgdaDatatype{μ} \AgdaBound{F}\AgdaSymbol{)\}\{}\AgdaBound{f} \<[83]%
\>[83]\AgdaSymbol{:} \AgdaFunction{V} \AgdaSymbol{→} \AgdaFunction{V} \AgdaSymbol{→} \AgdaFunction{⟦} \AgdaBound{F} \AgdaFunction{⟧} \AgdaSymbol{(}\AgdaDatatype{μ} \AgdaBound{H}\AgdaSymbol{)} \AgdaSymbol{→} \AgdaDatatype{μ} \AgdaBound{H}\AgdaSymbol{\}}\<%
\\
\>[3]\AgdaIndent{22}{}\<[22]%
\>[22]\AgdaSymbol{\{}\AgdaBound{g} \<[26]%
\>[26]\AgdaSymbol{:} \AgdaFunction{⟦} \AgdaBound{F} \AgdaFunction{⟧} \AgdaSymbol{(}\AgdaDatatype{μ} \AgdaBound{H}\AgdaSymbol{)} \AgdaSymbol{→} \AgdaDatatype{μ} \AgdaBound{H}\AgdaSymbol{\}}\<%
\\
\>[3]\AgdaIndent{22}{}\<[22]%
\>[22]\AgdaSymbol{→} \AgdaSymbol{(\{}\AgdaBound{x} \AgdaBound{y} \AgdaSymbol{:} \AgdaFunction{V}\AgdaSymbol{\}\{}\AgdaBound{e} \<[38]%
\>[38]\AgdaSymbol{:} \AgdaFunction{⟦} \AgdaBound{F} \AgdaFunction{⟧} \AgdaSymbol{(}\AgdaDatatype{μ} \AgdaBound{H}\AgdaSymbol{)\}} \AgdaSymbol{→} \AgdaBound{f} \AgdaBound{x} \AgdaBound{y} \AgdaSymbol{(}\AgdaFunction{swapF} \AgdaBound{F} \AgdaBound{S} \AgdaBound{x} \AgdaBound{y} \AgdaBound{e}\AgdaSymbol{)} \AgdaDatatype{≡} \AgdaFunction{swap} \AgdaSymbol{\{}\AgdaBound{H}\AgdaSymbol{\}} \AgdaBound{S} \AgdaBound{x} \AgdaBound{y} \AgdaSymbol{(}\AgdaBound{g} \AgdaBound{e}\AgdaSymbol{))}\<%
\\
\>[3]\AgdaIndent{22}{}\<[22]%
\>[22]\AgdaSymbol{→} \AgdaFunction{foldmap} \AgdaBound{F} \AgdaBound{G} \AgdaSymbol{(}\AgdaBound{f} \AgdaBound{x} \AgdaBound{y}\AgdaSymbol{)} \AgdaSymbol{(}\AgdaFunction{swapF} \AgdaBound{G} \AgdaBound{S} \AgdaBound{x} \AgdaBound{y} \AgdaBound{e}\AgdaSymbol{)} \AgdaDatatype{≡} \AgdaFunction{swapF} \AgdaBound{G} \AgdaBound{S} \AgdaBound{x} \AgdaBound{y} \AgdaSymbol{(}\AgdaFunction{foldmap} \AgdaBound{F} \AgdaBound{G} \AgdaBound{g} \AgdaBound{e}\AgdaSymbol{)}\<%
\\
\>\AgdaFunction{lemmaSwapFoldEquivCtxF} \AgdaSymbol{\{}\AgdaArgument{G} \AgdaSymbol{=} \AgdaInductiveConstructor{|v|} \AgdaBound{x}\AgdaSymbol{\}} \AgdaBound{prf} \AgdaSymbol{=} \AgdaInductiveConstructor{refl}\<%
\\
\>\AgdaFunction{lemmaSwapFoldEquivCtxF} \AgdaSymbol{\{}\AgdaArgument{G} \AgdaSymbol{=} \AgdaInductiveConstructor{|1|}\AgdaSymbol{\}} \AgdaBound{prf} \AgdaSymbol{=} \AgdaInductiveConstructor{refl}\<%
\\
\>\AgdaFunction{lemmaSwapFoldEquivCtxF} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaInductiveConstructor{|R|}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaArgument{x} \AgdaSymbol{=} \AgdaBound{x}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{y}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaInductiveConstructor{⟨} \AgdaBound{e} \AgdaInductiveConstructor{⟩}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{f}\AgdaSymbol{\}} \AgdaBound{prf} \AgdaSymbol{=} \AgdaFunction{trans} \AgdaSymbol{(}\AgdaFunction{cong} \AgdaSymbol{(}\AgdaBound{f} \AgdaBound{x} \AgdaBound{y}\AgdaSymbol{)} \AgdaSymbol{(}\AgdaFunction{lemmaSwapFoldEquivCtxF} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaBound{prf}\AgdaSymbol{))} \AgdaBound{prf}\<%
\\
\>\AgdaFunction{lemmaSwapFoldEquivCtxF} \AgdaSymbol{\{}\AgdaArgument{G} \AgdaSymbol{=} \AgdaInductiveConstructor{|E|} \AgdaBound{x}\AgdaSymbol{\}} \AgdaBound{prf} \AgdaSymbol{=} \AgdaInductiveConstructor{refl}\<%
\\
\>\AgdaFunction{lemmaSwapFoldEquivCtxF} \AgdaSymbol{\{}\AgdaArgument{G} \AgdaSymbol{=} \AgdaInductiveConstructor{|Ef|} \AgdaBound{G}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaArgument{e} \AgdaSymbol{=} \AgdaInductiveConstructor{⟨} \AgdaBound{e} \AgdaInductiveConstructor{⟩}\AgdaSymbol{\}} \AgdaBound{prf} \AgdaSymbol{=} \AgdaInductiveConstructor{refl}\<%
\\
\>\AgdaFunction{lemmaSwapFoldEquivCtxF} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{G₁} \AgdaInductiveConstructor{|+|} \AgdaBound{G₂}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaArgument{e} \AgdaSymbol{=} \AgdaInductiveConstructor{inj₁} \AgdaBound{x₁}\AgdaSymbol{\}} \AgdaBound{prf} \AgdaSymbol{=} \AgdaFunction{cong} \AgdaInductiveConstructor{inj₁} \AgdaSymbol{(}\AgdaFunction{lemmaSwapFoldEquivCtxF} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{G₁}\AgdaSymbol{\}} \AgdaBound{prf}\AgdaSymbol{)} \<[108]%
\>[108]\<%
\\
\>\AgdaFunction{lemmaSwapFoldEquivCtxF} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{G₁} \AgdaInductiveConstructor{|+|} \AgdaBound{G₂}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaArgument{e} \AgdaSymbol{=} \AgdaInductiveConstructor{inj₂} \AgdaBound{y₁}\AgdaSymbol{\}} \AgdaBound{prf} \AgdaSymbol{=} \AgdaFunction{cong} \AgdaInductiveConstructor{inj₂} \AgdaSymbol{(}\AgdaFunction{lemmaSwapFoldEquivCtxF} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{G₂}\AgdaSymbol{\}} \AgdaBound{prf}\AgdaSymbol{)} \<[108]%
\>[108]\<%
\\
\>\AgdaFunction{lemmaSwapFoldEquivCtxF} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{G₁} \AgdaInductiveConstructor{|x|} \AgdaBound{G₂}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaArgument{e} \AgdaSymbol{=} \AgdaBound{e₁} \AgdaInductiveConstructor{,} \AgdaBound{e₂}\AgdaSymbol{\}} \AgdaBound{prf}\<%
\\
\>[0]\AgdaIndent{2}{}\<[2]%
\>[2]\AgdaSymbol{=} \AgdaFunction{cong₂} \AgdaSymbol{(}\AgdaInductiveConstructor{\_,\_}\AgdaSymbol{)} \AgdaSymbol{(}\AgdaFunction{lemmaSwapFoldEquivCtxF} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{G₁}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaArgument{e} \AgdaSymbol{=} \AgdaBound{e₁}\AgdaSymbol{\}} \AgdaBound{prf}\AgdaSymbol{)} \AgdaSymbol{(}\AgdaFunction{lemmaSwapFoldEquivCtxF} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{G₂}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaArgument{e} \AgdaSymbol{=} \AgdaBound{e₂}\AgdaSymbol{\}} \AgdaBound{prf}\AgdaSymbol{)} \<[110]%
\>[110]\<%
\\
\>\AgdaFunction{lemmaSwapFoldEquivCtxF} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaInductiveConstructor{|B|} \AgdaBound{S} \AgdaBound{G}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaArgument{S} \AgdaSymbol{=} \AgdaBound{S'}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaArgument{e} \AgdaSymbol{=} \AgdaBound{z} \AgdaInductiveConstructor{,} \AgdaBound{e}\AgdaSymbol{\}} \AgdaBound{prf} \AgdaKeyword{with} \AgdaBound{S} \AgdaFunction{≟S} \AgdaBound{S'}\<%
\\
\>\AgdaSymbol{...} \AgdaSymbol{|} \AgdaInductiveConstructor{yes} \AgdaSymbol{\_} \AgdaSymbol{=} \AgdaFunction{cong₂} \AgdaSymbol{(}\AgdaInductiveConstructor{\_,\_}\AgdaSymbol{)} \AgdaInductiveConstructor{refl} \AgdaSymbol{(}\AgdaFunction{lemmaSwapFoldEquivCtxF} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{G}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaArgument{S} \AgdaSymbol{=} \AgdaBound{S'}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaArgument{e} \AgdaSymbol{=} \AgdaBound{e}\AgdaSymbol{\}} \AgdaBound{prf}\AgdaSymbol{)}\<%
\\
\>\AgdaSymbol{...} \AgdaSymbol{|} \AgdaInductiveConstructor{no} \AgdaSymbol{\_} \<[12]%
\>[12]\AgdaSymbol{=} \AgdaFunction{cong₂} \AgdaSymbol{(}\AgdaInductiveConstructor{\_,\_}\AgdaSymbol{)} \AgdaInductiveConstructor{refl} \AgdaSymbol{(}\AgdaFunction{lemmaSwapFoldEquivCtxF} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{G}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaArgument{S} \AgdaSymbol{=} \AgdaBound{S'}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaArgument{e} \AgdaSymbol{=} \AgdaBound{e}\AgdaSymbol{\}} \AgdaBound{prf}\AgdaSymbol{)}\<%
\end{code}

-- lemmaSwapFoldSEquivF :  {C H F G : Functor}{S : Sort}{x y : V}
--    {e : ⟦ G ⟧ (μ F)}{f  : μ C → ⟦ F ⟧ (μ H) → μ H}{c : μ C}
--    → ({x y : V}{e  : ⟦ F ⟧ (μ H)} → f (swap {C} S x y c) (swapF F S x y e) ≡ swap {H} S x y (f c e))
--    → foldmapCtx F G f (swap {C} S x y c) (swapF G S x y e) ≡ swapF G S x y (foldmapCtx F G f c e)
-- lemmaSwapFoldSEquivF {G = |v| x} prf = refl
-- lemmaSwapFoldSEquivF {G = |1|} prf =  refl
-- lemmaSwapFoldSEquivF {C} {H} {F} {|R|} {S} {x} {y} {⟨ e ⟩} {f} {c} prf
--   =  begin≡
--        f (swap {C} S x y c) (foldmapCtx F F f (swap {C} S x y c) (swapF F S x y e))
--      ≡⟨ cong (f (swap {C} S x y c)) (lemmaSwapFoldSEquivF {C} {H} {F} {F} {S} {x} {y} {e} {f} {c} prf) ⟩
--        f (swap {C} S x y c) (swapF F S x y (foldmapCtx F F f c e))
--      ≡⟨ prf ⟩
--        swapF |R| S x y (f c (foldmapCtx F F f c e))
--      ■
-- lemmaSwapFoldSEquivF {G = |E| x} prf =  refl
-- lemmaSwapFoldSEquivF {G = |Ef| G} {e = ⟨ e ⟩} prf =  refl
-- lemmaSwapFoldSEquivF {G = G |+| G₁} {e = inj₁ e} prf = cong inj₁ (lemmaSwapFoldSEquivF {G = G } {e = e} prf)
-- lemmaSwapFoldSEquivF {G = G |+| G₁} {e = inj₂ e} prf = cong inj₂ (lemmaSwapFoldSEquivF {G = G₁ } {e = e} prf)
-- lemmaSwapFoldSEquivF {G = G |x| G₁} {e = e , e₁} prf
--   = cong₂ (_,_) (lemmaSwapFoldSEquivF {G = G} {e = e} prf) (lemmaSwapFoldSEquivF {G = G₁} {e = e₁} prf)
-- lemmaSwapFoldSEquivF {G = |B| S G} {S = S'} {e = z , e} prf with S ≟S S'
-- ... | yes _ = cong₂ (_,_) refl (lemmaSwapFoldSEquivF {G = G} {S = S'} {e = e} prf) 
-- ... | no _ = cong₂ (_,_) refl (lemmaSwapFoldSEquivF {G = G} {S = S'} {e = e} prf) 


%<*swapfoldCtx>
\begin{code}%
\>\AgdaFunction{lemmaSwapFoldCtxEquiv} \AgdaSymbol{:} \AgdaSymbol{\{}\AgdaBound{C} \AgdaBound{H} \AgdaBound{F} \<[32]%
\>[32]\AgdaSymbol{:} \AgdaDatatype{Functor}\AgdaSymbol{\}\{}\AgdaBound{S} \AgdaSymbol{:} \AgdaFunction{Sort}\AgdaSymbol{\}\{}\AgdaBound{x} \AgdaBound{y} \AgdaSymbol{:} \AgdaFunction{V}\AgdaSymbol{\}}\<%
\\
\>[2]\AgdaIndent{6}{}\<[6]%
\>[6]\AgdaSymbol{\{}\AgdaBound{e} \AgdaSymbol{:} \AgdaDatatype{μ} \AgdaBound{F}\AgdaSymbol{\}\{}\AgdaBound{f} \<[19]%
\>[19]\AgdaSymbol{:} \AgdaDatatype{μ} \AgdaBound{C} \AgdaSymbol{→} \AgdaFunction{⟦} \AgdaBound{F} \AgdaFunction{⟧} \AgdaSymbol{(}\AgdaDatatype{μ} \AgdaBound{H}\AgdaSymbol{)} \AgdaSymbol{→} \AgdaDatatype{μ} \AgdaBound{H}\AgdaSymbol{\}\{}\AgdaBound{c} \AgdaSymbol{:} \AgdaDatatype{μ} \AgdaBound{C}\AgdaSymbol{\}}\<%
\\
\>[0]\AgdaIndent{3}{}\<[3]%
\>[3]\AgdaSymbol{→} \<[6]%
\>[6]\AgdaSymbol{(\{}\AgdaBound{c} \AgdaSymbol{:} \AgdaDatatype{μ} \AgdaBound{C}\AgdaSymbol{\}\{}\AgdaBound{S} \AgdaSymbol{:} \AgdaFunction{Sort}\AgdaSymbol{\}\{}\AgdaBound{x} \AgdaBound{y} \AgdaSymbol{:} \AgdaFunction{V}\AgdaSymbol{\}\{}\AgdaBound{e} \AgdaSymbol{:} \AgdaFunction{⟦} \AgdaBound{F} \AgdaFunction{⟧} \AgdaSymbol{(}\AgdaDatatype{μ} \AgdaBound{H}\AgdaSymbol{)\}}\<%
\\
\>[3]\AgdaIndent{13}{}\<[13]%
\>[13]\AgdaSymbol{→} \AgdaBound{f} \AgdaSymbol{(}\AgdaFunction{swap} \AgdaBound{S} \AgdaBound{x} \AgdaBound{y} \AgdaBound{c}\AgdaSymbol{)} \AgdaSymbol{(}\AgdaFunction{swapF} \AgdaBound{F} \AgdaBound{S} \AgdaBound{x} \AgdaBound{y} \AgdaBound{e}\AgdaSymbol{)} \AgdaDatatype{≡} \AgdaFunction{swap} \AgdaBound{S} \AgdaBound{x} \AgdaBound{y} \AgdaSymbol{(}\AgdaBound{f} \AgdaBound{c} \AgdaBound{e}\AgdaSymbol{))}\<%
\\
\>[0]\AgdaIndent{3}{}\<[3]%
\>[3]\AgdaSymbol{→} \<[6]%
\>[6]\AgdaFunction{foldCtx} \AgdaBound{F} \AgdaBound{f} \AgdaSymbol{(}\AgdaFunction{swap} \AgdaSymbol{\{}\AgdaBound{C}\AgdaSymbol{\}} \AgdaBound{S} \AgdaBound{x} \AgdaBound{y} \AgdaBound{c}\AgdaSymbol{)} \AgdaSymbol{(}\AgdaFunction{swap} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaBound{S} \AgdaBound{x} \AgdaBound{y} \AgdaBound{e}\AgdaSymbol{)} \AgdaDatatype{≡} \AgdaFunction{swap} \AgdaSymbol{\{}\AgdaBound{H}\AgdaSymbol{\}} \AgdaBound{S} \AgdaBound{x} \AgdaBound{y} \AgdaSymbol{(}\AgdaFunction{foldCtx} \AgdaBound{F} \AgdaBound{f} \AgdaBound{c} \AgdaBound{e}\AgdaSymbol{)}\<%
\end{code}
%</swapfoldCtx>

%<*swapfoldCtxproof>
\begin{code}%
\>\AgdaFunction{lemmaSwapFoldCtxEquiv} \AgdaSymbol{\{}\AgdaBound{C}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{H}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{x}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{y}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaInductiveConstructor{⟨} \AgdaBound{e} \AgdaInductiveConstructor{⟩}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{f}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{c}\AgdaSymbol{\}} \AgdaBound{prf} \AgdaSymbol{=}\<%
\\
\>[3]\AgdaIndent{4}{}\<[4]%
\>[4]\AgdaFunction{begin≡}\<%
\\
\>[4]\AgdaIndent{6}{}\<[6]%
\>[6]\AgdaFunction{foldCtx} \AgdaBound{F} \AgdaBound{f} \AgdaSymbol{(}\AgdaFunction{swap} \AgdaSymbol{\{}\AgdaBound{C}\AgdaSymbol{\}} \AgdaBound{S} \AgdaBound{x} \AgdaBound{y} \AgdaBound{c}\AgdaSymbol{)} \AgdaSymbol{(}\AgdaFunction{swap} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaBound{S} \AgdaBound{x} \AgdaBound{y} \AgdaInductiveConstructor{⟨} \AgdaBound{e} \AgdaInductiveConstructor{⟩}\AgdaSymbol{)}\<%
\\
\>[0]\AgdaIndent{4}{}\<[4]%
\>[4]\AgdaFunction{≡⟨} \AgdaInductiveConstructor{refl} \<[66]%
\>[66]\AgdaFunction{⟩}\<%
\\
\>[4]\AgdaIndent{6}{}\<[6]%
\>[6]\AgdaBound{f} \<[9]%
\>[9]\AgdaSymbol{(}\AgdaFunction{swap} \AgdaSymbol{\{}\AgdaBound{C}\AgdaSymbol{\}} \AgdaBound{S} \AgdaBound{x} \AgdaBound{y} \AgdaBound{c}\AgdaSymbol{)} \<[28]%
\>[28]\<%
\\
\>[6]\AgdaIndent{9}{}\<[9]%
\>[9]\AgdaSymbol{(}\AgdaFunction{foldmap} \AgdaBound{F} \AgdaBound{F} \AgdaSymbol{(}\AgdaBound{f} \AgdaSymbol{(}\AgdaFunction{swapF} \AgdaInductiveConstructor{|R|} \AgdaBound{S} \AgdaBound{x} \AgdaBound{y} \AgdaBound{c}\AgdaSymbol{))} \AgdaSymbol{(}\AgdaFunction{swapF} \AgdaBound{F} \AgdaBound{S} \AgdaBound{x} \AgdaBound{y} \AgdaBound{e}\AgdaSymbol{))}\<%
\\
\>[0]\AgdaIndent{3}{}\<[3]%
\>[3]\AgdaFunction{≡⟨} \AgdaFunction{cong} \<[12]%
\>[12]\AgdaSymbol{(}\AgdaBound{f} \AgdaSymbol{(}\AgdaFunction{swap} \AgdaSymbol{\{}\AgdaBound{C}\AgdaSymbol{\}} \AgdaBound{S} \AgdaBound{x} \AgdaBound{y} \AgdaBound{c}\AgdaSymbol{))} \<[35]%
\>[35]\<%
\\
\>[3]\AgdaIndent{12}{}\<[12]%
\>[12]\AgdaSymbol{(}\AgdaFunction{lemmaSwapFoldEquivCtxF} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{F}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{H}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{S}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{x}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{y}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{e}\AgdaSymbol{\}} \<[64]%
\>[64]\<%
\\
\>[12]\AgdaIndent{21}{}\<[21]%
\>[21]\AgdaSymbol{\{λ} \AgdaBound{x} \AgdaBound{y} \AgdaSymbol{→} \AgdaBound{f} \AgdaSymbol{(}\AgdaFunction{swap} \AgdaSymbol{\{}\AgdaBound{C}\AgdaSymbol{\}} \AgdaBound{S} \AgdaBound{x} \AgdaBound{y} \AgdaBound{c}\AgdaSymbol{)\}} \AgdaSymbol{\{}\AgdaBound{f} \AgdaBound{c}\AgdaSymbol{\}} \AgdaBound{prf}\AgdaSymbol{)} \<[66]%
\>[66]\AgdaFunction{⟩}\<%
\\
\>[0]\AgdaIndent{6}{}\<[6]%
\>[6]\AgdaBound{f} \AgdaSymbol{(}\AgdaFunction{swap} \AgdaSymbol{\{}\AgdaBound{C}\AgdaSymbol{\}} \AgdaBound{S} \AgdaBound{x} \AgdaBound{y} \AgdaBound{c}\AgdaSymbol{)} \AgdaSymbol{(}\AgdaFunction{swapF} \AgdaBound{F} \AgdaBound{S} \AgdaBound{x} \AgdaBound{y} \AgdaSymbol{(}\AgdaFunction{foldmap} \AgdaBound{F} \AgdaBound{F} \AgdaSymbol{(}\AgdaBound{f} \AgdaBound{c}\AgdaSymbol{)} \AgdaBound{e}\AgdaSymbol{))}\<%
\\
\>[0]\AgdaIndent{4}{}\<[4]%
\>[4]\AgdaFunction{≡⟨} \AgdaBound{prf} \<[66]%
\>[66]\AgdaFunction{⟩}\<%
\\
\>[4]\AgdaIndent{6}{}\<[6]%
\>[6]\AgdaFunction{swap} \AgdaSymbol{\{}\AgdaBound{H}\AgdaSymbol{\}} \AgdaBound{S} \AgdaBound{x} \AgdaBound{y} \AgdaSymbol{(}\AgdaFunction{foldCtx} \AgdaBound{F} \AgdaBound{f} \AgdaBound{c} \AgdaInductiveConstructor{⟨} \AgdaBound{e} \AgdaInductiveConstructor{⟩}\AgdaSymbol{)}\<%
\\
\>[0]\AgdaIndent{4}{}\<[4]%
\>[4]\AgdaFunction{■}\<%
\end{code}
%</swapfoldCtxproof>

-- \begin{code}%
\>\AgdaComment{-- --lemmaSwapFoldSEquiv \{C\} \{H\} \{F\} \{S\} \{x\} \{y\} \{⟨ e ⟩\} \{f\} \{c\} prf}\<%
\\
\>\AgdaComment{-- -- begin≡}\<%
\\
\>\AgdaComment{-- --       foldCtx F f (swap \{C\} S x y c) (swap \{F\} S x y ⟨ e ⟩)}\<%
\\
\>\AgdaComment{-- --     ≡⟨ refl ⟩}\<%
\\
\>\AgdaComment{-- --       f (swap \{C\} S x y c) (foldmapCtx F F f (swapF |R| S x y c) (swapF F S x y e))}\<%
\\
\>\AgdaComment{-- --     ≡⟨ cong (f (swap \{C\} S x y c)) (lemmaSwapFoldSEquivF \{C\} \{H\} \{F\} \{F\} \{S\} \{x\} \{y\} \{e\} \{f\} \{c\} prf) ⟩}\<%
\\
\>\AgdaComment{-- --       f (swap \{C\} S x y c) (swapF F S x y (foldmapCtx F F f c e))}\<%
\\
\>\AgdaComment{-- --     ≡⟨ prf ⟩}\<%
\\
\>\AgdaComment{-- --       swap \{H\} S x y (foldCtx F f c ⟨ e ⟩)}\<%
\\
\>\AgdaComment{-- --     ■}\<%
\\
\>\AgdaComment{-- }\<%
\end{code}

